<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2020-07-01 08:13:43">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<application_name>Nutanix Calm</application_name>
<application_scope>x_nuta2_nutanix_ca</application_scope>
<application_version>1.1.2</application_version>
<collisions/>
<commit_date/>
<deleted/>
<description>Support:
1) Calm version 2.7, 2.8, 2.9, 2.10 and 3.0
2) ServiceNow version New York and Orlanda</description>
<inserted/>
<name>Nutanix Calm V1.3_4</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>d1d25a2cdb311010eeb9808768961921</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f224eae4db711010eeb98087689619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_11ff22f837bd2300fdfc097973990eb4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable&gt;IO:f13256b4377d2300fdfc097973990eff&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Fetch Blueprints onChange of BP Type&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {
   if (isLoading || newValue == '') {
      return;
   }
	var performAction = getParameterValue('performAction')+'';
	if( performAction == 'update' || performAction == 'addProfile')
		return;
	
	var project = g_form.getValue('project');
	var blueprintType = newValue;// g_form.getValue('type_of_blueprint');
	
	var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Fetching Blueprints...'); //Set the loading dialog title here...
	loadingDialog.renderWithContent(''+loadingHTML);
	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'fetchBlueprints');
	ga.addParam('sysparm_project', project);
	ga.addParam('sysparm_blueprintType', blueprintType);
	ga.getXML(processProject, null, loadingDialog);

	function processProject(response, loadingDialog) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		var blueprintsList = JSON.parse(answer);
		
		g_form.clearOptions('blueprint');
		
		for(var i in blueprintsList){
			var blueprint = blueprintsList[i];
			g_form.addOption('blueprint', blueprint.sys_id, blueprint.name);		
		}
		
		var data = getParameterValue('data');

		if(data){
			data = JSON.parse(decodeURIComponent(data));
			g_form.setValue('blueprint', data.blueprint);
		}
		new GlideModal().get("loader").destroy();
	}
	
   //Type appropriate comment here, and begin script below
   
}

function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-13 15:11:50&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;11ff22f837bd2300fdfc097973990eb4&lt;/sys_id&gt;&lt;sys_mod_count&gt;28&lt;/sys_mod_count&gt;&lt;sys_name&gt;Fetch Blueprints onChange of BP Type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_11ff22f837bd2300fdfc097973990eb4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:28:32&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>91607242</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3224eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4760000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Fetch Blueprints onChange of BP Type</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>2e11efb8b2885c1030779a0fe05c856c</update_guid>
<update_guid_history>2e11efb8b2885c1030779a0fe05c856c:91607242,dd64a57ed6bfc410c5b4f8daf2d617da:2010451524,131241a44dfb4010dcd414049748805b:1878827812,4fd8f1001c3733006c73f5a9c1f2d17c:795160344,57cb2f412927330040bb5231a5b50582:-14809353,82b363c9cae33300c8cbc210715bf3d1:-1274398860,d9b9c4fcfd0e7300aee1e04ba621ecac:1977903093,765588f8f00e73007da150cb890b04dc:1764065683,d63504f8ff0e7300a961a34e70f9dde3:-1630431790,ca210078310e7300f8e9eb82b3b0cf3e:-432596630,1ef17f50608273008bf70e13cb036cb4:-2090726424,9c330105dfb72300f599edcefe8fdafe:1772923373,333df8cd51772300af0e4c3de7353cfc:-1376295318,f28b308df17723004a618f3a24674228:1772923373,551b384d537723009cad2e75654e6aed:-687558431,1f3594760c122300cfc0e326963456b6:713834686,ece4947606122300ae8e45f81ed5aa17:-2017736556,4a9858aaad9263005c7375b3a18ee3b2:-779084813,956890aada926300414a2f59744dc157:599405682,abd790aa709263007273d1c797fb0d79:-779084813,93971ce62f926300ae3b0b1cd87018c1:599405682,09e19c668d9263002690b35d671f3585:-1487263682,78be53974379e3002d6d2c3dff60b812:879803595,7c086e1bfe75e3008273d465e145280b:-2042871637,80d9d37a0b71a3006fef39264b3fb950:-514390629,c8f07ef88bbd2300250444ec9c59059c:2045149963,d1d0f6f86bbd230083bdc0c6e4dae000:1740915131,33b0b6f8c8bd230097e1cd05ee0ae06b:-1604151608,605032f8acbd230066c1d426dcb573bb:476155087</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_031dc0d33702a300fdfc097973990ee4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_ImportUsers&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_ImportUsers&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_ImportUsers = Class.create();
Nutanix_ImportUsers.prototype = {
    initialize: function() {
		this.appUtil = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		
		// Role x_nuta2_nutanix_ca.user : 3376fd254f452b001200e5201310c717
		// Role itil : 282bf1fac6112285017366cb5f867469
		// Role mid_server : e76b74ba0ab3015700a3263b26e5e9d5
		// Role catalog : e098ecf6c0a80165002aaec84d906014
		
		this.endUserRoles = ['3376fd254f452b001200e5201310c717'];
		
		
		var grProp = new GlideRecord('x_nuta2_nutanix_ca_calm_plugin_configuration');
		if (grProp.get(gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id')))
			{
		/*if(grProp.use_external_credential_system)
		  this.endUserRoles.push('e76b74ba0ab3015700a3263b26e5e9d5');*/
		
	//	this.endUserRoles = ['3376fd254f452b001200e5201310c717','282bf1fac6112285017366cb5f867469'];
		
				this.pageBreaker = 20;
			}
    },

	getConsumerSysId: function(){
		try{
			this.logger.debug("Inside Nutanix_ImportUsers.getConsumerSysId");
			var body = { 
				"kind": "role", 
				"filter": "name==Consumer"
			};
			var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getRolesList+"", this.appUtil.stringify(body));
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				
				var parsed = this.appUtil.parse(response.getBody());
				var entities = parsed.entities;
				
				for(var i in entities){
					var entity = entities[i];
					
					if(entity.status.name == "Consumer"){
						gs.setProperty('x_nuta2_nutanix_ca.cosumer.role.uuid', entity.metadata.uuid);
						break;
					}
				}
				
			} else {
				this.logger.debug("Nutanix_ImportUsers.getConsumerSysId :- Connection to roles/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}
		
		} catch(e) {
			this.logger.debug("Nutanix_ImportUsers.getConsumerSysId :- Exception caught during retrieval of Consumer SysId. Error: "+e);
			this.logger.error("Exception caught during retrieval of Consumer SysId. Error: "+e);
		}
	},
	
	startUsersImport: function(){
		try{
			this.getConsumerSysId();
			this.logger.debug("Inside Nutanix_ImportUsers.startUsersImport");
			var body = {
				"kind": "user",
				"offset": 0,
				"length": 1
			};
			var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getUsersList+"", this.appUtil.stringify(body));
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to "+this.appUtil.configuration.api.getUsersList);
				var parsed = this.appUtil.parse(response.getBody());
				var records = parsed.metadata.total_matches;
				var pages = parseInt(records/this.pageBreaker);
				this.logger.debug("Number of Project JSON pages "+(pages+1));
				for(var i=0, k=0 ; i &lt;= pages; i++, k+=19) {
					body = {
						"kind": "user",
						"offset": i+k,
						"length": this.pageBreaker
					};
					this.appUtil.insertIntoQueue("importUsers", "POST", this.appUtil.stringify(body), this.appUtil.configuration.api.getUsersList+"", 'Import users', 'This job invokes the import of users from LDAP.');
				}
			}
			else{
				this.logger.debug("Nutanix_ImportUsers.startUsersImport :- Connection to users/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}
		}
		catch(e){
			this.logger.debug("Nutanix_ImportUsers.startUsersImport :- Exception caught during retrieval of projects. Error: "+e);
			this.logger.error("Exception caught during retrieval of projects. Error: "+e);
		}
	},
	
	importUsers: function(current){
		try{
			this.logger.debug("Inside Nutanix_ImportUsers.importUsers");
			var response = this.appUtil.makeCalmApiCall(current.method+'', current.payload+'', current.parameter+'');
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				var parsedJSON = this.appUtil.parse(response.getBody());
				var entities = parsedJSON.entities;
				for(var i=0; i&lt;entities.length; i++){
					var entity = entities[i];
					var userName = entity.status.name+'';
					var uuid = entity.metadata.uuid+'';
					
					var userGR = new GlideRecord('sys_user');
					userGR.addQuery(gs.getProperty('x_nuta2_nutanix_ca.user.table.field.to.map')+'', userName);
					userGR.query();
					
					if(userGR.next()){
						userGR.x_nuta2_nutanix_ca_nutanix_uuid = uuid;
						userGR.update();
						
						this._updateUsersWithRoles(userGR.sys_id+'', userGR.user_name+'');
						
					}
				}
			}
			else{
				this.logger.debug("Nutanix_ImportUsers.importUsers:- Connection users/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}
		}
		catch(e){
			this.logger.debug("Nutanix_ImportUsers.importUsers:- Exception caught during retrieval of users. Error:- "+e);
			this.logger.error("Exception caught during retrieval of users. Error :- "+e);
		}
	},
	
	_updateUsersWithRoles: function(userSysID, userName){
		try{
			this.logger.debug("Inside Nutanix_ImportUsers._updateUsersWithRoles.");		

			var roles = this.endUserRoles;

			for(var i=0; i&lt;roles.length; i++){

				var grd = new GlideRecord('sys_user_has_role');
				grd.addQuery('user', userSysID);
				grd.addQuery('role', roles[i]);
				grd.query();

				if(!grd.hasNext()){
					grd.user = userSysID;
					grd.role = roles[i];
					grd.insert();
				}
			}

			this.logger.info("Updated user " + userName + " with Calm Plugin End Users roles.");			
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ImportUsers._updateUsersWithRoles. Error:- "+e);
		}
	},	
	
	startGroupsImport: function(){
		try{
			this.getConsumerSysId();
			this.logger.debug("Inside Nutanix_ImportUsers.startGroupsImport");
			var body = {
				"kind": "user_group",
				"offset": 0,
				"length": 1
			};
			var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getGroupsList+"", this.appUtil.stringify(body));
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to "+this.appUtil.configuration.api.getGroupsList);
				var parsed = this.appUtil.parse(response.getBody());
				var records = parsed.metadata.total_matches;
				var pages = parseInt(records/this.pageBreaker);
				this.logger.debug("Number of Groups JSON pages "+(pages+1));
				for(var i=0, k=0 ; i &lt;= pages; i++, k+=19) {
					body = {
						"kind": "user_group",
						"offset": i+k,
						"length": this.pageBreaker
					};
					this.appUtil.insertIntoQueue("importGroups", "POST", this.appUtil.stringify(body), this.appUtil.configuration.api.getGroupsList+"", 'Import groups', 'This job invokes the import of groups from LDAP.');
				}
			}
			else{
				this.logger.debug("Nutanix_ImportUsers.startGroupsImport :- Connection to user_groups/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}
		}
		catch(e){
			this.logger.debug("Nutanix_ImportUsers.startGroupsImport :- Exception caught during retrieval of groups. Error: "+e);
			this.logger.error("Exception caught during retrieval of groups. Error: "+e);
		}
	},
	
	importGroups: function(current){
		try{
			this.logger.debug("Inside Nutanix_ImportUsers.importGroups");
			var response = this.appUtil.makeCalmApiCall(current.method+'', current.payload+'', current.parameter+'');
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				//gs.error("Groups body :: "+response.getBody());
				var parsedJSON = this.appUtil.parse(response.getBody());
				var entities = parsedJSON.entities;
				for(var i=0; i&lt;entities.length; i++){
					var entity = entities[i];
					var userName = entity.status.resources.display_name+'';
					var uuid = entity.metadata.uuid+'';
					
					var userGR = new GlideRecord('sys_user_group');
					userGR.addQuery(gs.getProperty('x_nuta2_nutanix_ca.group.table.field.to.map')+'', userName);
					userGR.query();
					
					if(userGR.next()){
						//gs.error("Inside Groups body :: "+userGR.name);
						userGR.x_nuta2_nutanix_ca_nutanix_group_uuid = uuid;
						userGR.update();
						
						this._updateGroupWithRoles(userGR.sys_id+'', userGR.name+'');
						
					}
				} 
			}
			else{
				this.logger.debug("Nutanix_ImportUsers.importGroups:- Connection user_groups/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}
		}
		catch(e){
			this.logger.debug("Nutanix_ImportUsers.importGroups:- Exception caught during retrieval of groups. Error:- "+e);
			this.logger.error("Exception caught during retrieval of groups. Error :- "+e);
		}
	},
	
	_updateGroupWithRoles: function(groupSysID, groupName){
		try{
			this.logger.debug("Inside Nutanix_ImportUsers._updateGroupWithRoles.");		

			var roles = this.endUserRoles;

			for(var i=0; i&lt;roles.length; i++){

				var grd = new GlideRecord('sys_group_has_role');
				grd.addQuery('group', groupSysID);
				grd.addQuery('role', roles[i]);
				grd.query();

				if(!grd.hasNext()){
					grd.group = groupSysID;
					grd.role = roles[i];
					grd.insert();
				}
			}

			this.logger.info("Updated group " + groupName + " with Calm Plugin End Users roles.");
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ImportUsers._updateGroupWithRoles. Error:- "+e);
		}
	},
	
    type: 'Nutanix_ImportUsers'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-12-03 08:07:11&lt;/sys_created_on&gt;&lt;sys_id&gt;031dc0d33702a300fdfc097973990ee4&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_ImportUsers&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_031dc0d33702a300fdfc097973990ee4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 13:02:43&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-168030805</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3224eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217b6c80000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_ImportUsers</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>7907cb0620581410b6d79ae996e3e272</update_guid>
<update_guid_history>7907cb0620581410b6d79ae996e3e272:-168030805,05adb9ddec0894507ed777a5564b1621:790592400,9e02b6b4cba38010cfb7bde0fb7afda3:1616158415,121e196c396340107e9f1c7747f7a43f:-757697555,704f91e84cef041038c9a4f75bc7c379:-358628669,fd2e11a855ef041036d205c3e8c7cfc0:542133062,49cc592842ef0410c4dae6600f177131:2125682237,bc5c4de8f0af0410ab5fc849d5f37b06:-1737952467,d154a4cc7b27c010445c13f70981260b:-805718120,508d54482727c0102c0169253469b645:1190896214,ba0390cca1e3c01047300ff7f9680ae8:-1010898338,25bebe404ec633002fcb0e0cea859b25:-2076180627,50815acc3d06330098f9c54653f6805b:-1770728353,c0dec64c7f0633006a9f013bc94a0e2e:340655937,183ece48c5063300d5c961f7da8c3065:1589262651,7acd02c4090633001940d85dd3166fba:-121697431,53e34ac0c1423300cff4c1103318f998:953500631,1c23428806823300e4e6b69f8df694a1:-752324255,934bb58cfa4233005bec56b826fd6058:1295138376,316f19ab488c7300c5cb0354ac6c9eeb:1672832920,5a3e710bc10c33009c8bc15c5105fa0b:-1700848008,f24971079a0c33002e6be7bfcf3dfaf6:112118904,60a27983060c33006b2c100d4fd86a2d:-1262508048,30c982f6980433003bb737a498c543b6:-611080572,c7feb57239043300cd2ae4fff3d312fe:-539371809,22712d323bc0330045700f2181fdfa1f:-1486704058,e7368d8cbd222300833864fcf3b07691:-575443713,b505541b1802a300534c749fb1d11118:-96464114,c7eec0d3b102a300e2d891f6e0f0cab5:1358758537</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_20d5835937312300d27b8cf6c3990ef1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;perform_action&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;true&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;new Perform_Action_Condition().performActions(current.parent_uuid, current.name,current.type);&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Perform Action&lt;/name&gt;&lt;onclick&gt;performCondition()&lt;/onclick&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var act_sys_id = '';
var appName = '';
var template = '&lt;div id="#{HTML:id}" tabindex="-1" ' + 'aria-hidden="true" class="modal fade " role="dialog" ' + 'aria-labelledby="#{HTML:id}_title" data-readonly="#{HTML:readOnly}" data-has-help="#{HTML:showHelp}" focus-escape="#{HTML:focusEscape}" style="overflow-y: scroll;"&gt;' +
    '	&lt;div class="modal-dialog #{size}"&gt;' +
    '		&lt;div class="modal-content"&gt;' +
    '			&lt;header class="modal-header"&gt;' +
    '				&lt;button data-dismiss="GlideModal" class="btn btn-icon close icon-cross" id="#{HTML:id}_closemodal"&gt;' +
    '					&lt;span class="sr-only"&gt;Close&lt;/span&gt;' +
    '				&lt;/button&gt;' +
    '			&lt;h1 id="#{HTML:id}_title" class="modal-title h4"&gt;' +
    '				#{HTML:title}' +
    '			&lt;button class="btn btn-icon icon-help help"&gt;' +
    '				&lt;span class="sr-only"&gt;Help&lt;/span&gt;' +
    '			&lt;/button&gt;' +
    '			&lt;/h1&gt;' +
    '			&lt;/header&gt;' +
    '			&lt;div class="modal-body container-fluid"&gt;&lt;/div&gt;' +
    '		&lt;/div&gt;' +
    '	&lt;/div&gt;' +
    '&lt;/div&gt;';

function performCondition() {
    var sysId = ' ';
    if (typeof rowSysId == 'undefined') {
        sysId = gel('sys_uniqueValue').value;
    } else {
        sysId = rowSysId;
    }
    act_sys_id = sysId + '';
    var appName = g_form.getValue('parent_name');
    var gax = new GlideAjax('Nutanix_ClientServerScriptBridge');
    gax.addParam('sysparm_name', 'appFlag');
    gax.addParam('sysparm_actId', sysId + '');
    gax.getXML(appFlagResponse);

    var loadingHTML = "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
    var loadingDialog = new GlideModal("action_modal", true);
	loadingDialog.template = template;
    loadingDialog.setTitle('Performing action...'); //Set the loading dialog title here...
    loadingDialog.renderWithContent('' + loadingHTML);
}

function appFlagResponse(response) {
    var appFlag = response.responseXML.documentElement.getAttribute("answer");
    if (appFlag == '0') {
        performAction();
    } else {
        g_form.addErrorMessage('An action is currently in progress');
        return;
    }
}

function performAction() {
    g_form.clearMessages();
    var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
    ga.addParam('sysparm_name', 'fetchActionVariables');
    ga.addParam('sysparm_actSysId', act_sys_id);
    ga.getXML(responseParse);
}

function getSingleVmProvider(act_sys_id, act_name) {
	var ajax_parameter_array = JSON.stringify([act_name,act_sys_id]);
	var ga = new GlideAjax('Run_App_Actions');
    ga.addParam('sysparm_name', 'getProviderTypeSingleVM');
    ga.addParam('sysparm_actionsysid', act_sys_id);
	ga.addParam('sysparm_sysid_type', "actions");
    ga.getXML(getProviderAjax, null, ajax_parameter_array);
}

function getProviderAjax(response, ajax_parameter_array) {
	var provider_name = response.responseXML.documentElement.getAttribute("answer") + '';
	var param_array = JSON.parse(ajax_parameter_array);
	var page_selector = {"AHV_VM":"x_nuta2_nutanix_ca_Save_snapshot","AWS_VM":"x_nuta2_nutanix_ca_Save_snapshot_aws","VMWARE_VM":"x_nuta2_nutanix_ca_Save_snapshot_vmware"};
	
	var gm = new GlideModal("action_modal");
	gm.setDialog(page_selector[provider_name]);
	gm.setWidth(450);
    gm.setTitle('Start Action: ' + param_array[0]);
    gm.setPreference('sysparm_sysId', param_array[1]);
    gm.backdropStatic = true;
    gm.template = template;
    gm.render();
}

function responseParse(response) {

	var answer = response.responseXML.documentElement.getAttribute("answer");
    var respJSON = JSON.parse(answer);
    var trueName = respJSON.true_name + '';
    var actionType = respJSON.type + '';

    if (actionType == 'system') {

        switch (trueName) {

            case 'action_clone':
                var gm = new GlideModal("action_modal");
				gm.setDialog("x_nuta2_nutanix_ca_Clone_UI_page");
                gm.setWidth(450);
                gm.setTitle('Start Action: ' + respJSON.name);
                gm.setPreference('sysparm_sysId', act_sys_id);
                gm.backdropStatic = true;
                gm.template = template;
                gm.render();
                break;

            case 'action_install_ngt':

                var gm = new GlideModal("action_modal");
				gm.setDialog("x_nuta2_nutanix_ca_Install_NGT");
                gm.setWidth(450);
                gm.setTitle('Start Action: ' + respJSON.name);
                gm.setPreference('sysparm_sysId', act_sys_id);
                gm.setPreference('sysparm_actVarsArr', JSON.stringify(respJSON.vars));
                gm.backdropStatic = true;
                gm.template = template;
                gm.render();
                break;

            case 'action_manage_ngt':
                var gm = new GlideModal("action_modal");
				gm.setDialog("x_nuta2_nutanix_ca_Manage_NGT");
                gm.setWidth(450);
                gm.setTitle('Start Action: ' + respJSON.name);
                gm.setPreference('sysparm_sysId', act_sys_id);
                gm.backdropStatic = true;
                gm.template = template;
                gm.render();
                break;


            case 'action_snapshot_create':
				getSingleVmProvider(act_sys_id, respJSON.name);
				break;

            case 'action_update':
                var gajax = new GlideAjax('Run_App_Actions');
                gajax.addParam('sysparm_name', 'fetchAppOriginalBlueprint');
                gajax.addParam('sysparm_actionsysid', act_sys_id);
                gajax.addParam('sysparm_appName', appName);
                gajax.getXML(updateResponse);

                break;

            default:
                userActions(respJSON);
        }
    } else
        userActions(respJSON);
}

function updateResponse(response) {

    var answer = response.responseXML.documentElement.getAttribute("answer");

    if (!answer) {
        g_form.addErrorMessage("Error connecting to CALM!");
        new GlideModal().get("action_modal").destroy();
        return;
    }

    var gm = new GlideModal("action_modal");
	gm.setDialog("x_nuta2_nutanix_ca_Update_ui_page");
    gm.setWidth(800);
    gm.setTitle('Start Action: Update');
    gm.setPreference('sysparm_sysId', act_sys_id);
    gm.setPreference('sysparm_actVarsArr', answer);
    gm.backdropStatic = true;
    gm.template = template;
    gm.render();
}

function userActions(respJSON) {
	
    if ('vars' in respJSON &amp;&amp; JSON.parse(respJSON.vars).length != 0) {
        {
            var gm = new GlideModal("action_modal");
			gm.setDialog("x_nuta2_nutanix_ca_Set_Runtime_Action_Variables");
            //gm.setSize('550', '450');
            gm.setTitle('Start Action: ' + respJSON.name);
            gm.setPreference('sysparm_sysId', act_sys_id);
            gm.setPreference('sysparm_actVarsArr', respJSON.vars);
            gm.setPreference('sysparm_actName', respJSON.name);
            gm.backdropStatic = true;
            gm.template = template;
            gm.render();
        }

    } else {
        var gajax = new GlideAjax('Run_App_Actions');
        gajax.addParam('sysparm_name', 'runAction');
        gajax.addParam('sysparm_actionsysid', act_sys_id);
        gajax.addParam('sysparm_actionVars', '');
        gajax.addParam('sysparm_userID', '' + g_user.userID);
        gajax.getXML(getResponse);

        function getResponse(response) {
            new GlideModal().get("action_modal").destroy();
            var answer = response.responseXML.documentElement.getAttribute("answer");
            g_form.addInfoMessage(answer + '');
        }

        //_form.addInfoMessage('Action '+respJSON.name+' has started');
    }
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;bharat.vajj&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-15 06:25:08&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;20d5835937312300d27b8cf6c3990ef1&lt;/sys_id&gt;&lt;sys_mod_count&gt;305&lt;/sys_mod_count&gt;&lt;sys_name&gt;Perform Action&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_20d5835937312300d27b8cf6c3990ef1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 09:20:24&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_nutanix_calm_action&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>604970091</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3224eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c76c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_nutanix_calm_action</table>
<target_name>Perform Action</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>0dba737cf30c5c10141b8f10a0040910</update_guid>
<update_guid_history>0dba737cf30c5c10141b8f10a0040910:604970091,3318b3b88c0c5c10e6cdb0602ffb1cd7:-353025781,5a7129fa5abfc4108df1ab2c0f84c8b2:-917019191,2fe54b16de46805079cfd3d56683a2aa:976154258,250efa9e1c068050d6efa82f7ba2e1e4:-570753469,7d4ae73d5c7984104df70250cd406fe2:1829830324,9c106261393d441034e078065f3b575c:990191311,e9df1e21aa3d4410ae994a04ef0239e3:1645481901,506fd621ae3d44104868e61fdeefea4f:990191311,e46416657bf944102a363e05a59ab15c:-110335452,fd211aa5e8f944108619402fd26d7616:764025141,8ebb0ea1e8f94410249cdc0cb961bc4b:-495915915,3b7cc10c2a49cc50fdf213661d67e093:-593822441,3b699bdfcaf84c50a3a4482a4905c3e5:1062028582,e2eb3fe955b80850b79edcbdac266195:-1721496480,ba5b3b2dc5b808504c262719139fa424:891459677,83f3452d46b00850030a22df1ea477ae:303164678,6903c5e9fbb0085087a67fba629302fa:458506234,28a281e9fcb00850d790af7d7576d058:1011430343,b232452586b008509fe88ef0d919cbeb:1154454070,461671d3b2d88410b088b2c9616c6d0a:2143491895,fd75bd53edd884104d6c9c0ef2dc7b22:2141599293,9371b9dfef988410e46b547c795cae05:370238564,b0087c0b47144410a1b412153abc571a:611825761,1c9a6c0f18d04410f4dabeb4c2eb26fb:-1988945919,e75a6c0fc8d044109f8766d22eb3b4f7:-2106620685,03e9eccb5bd0441032e9b45adab2a2c2:512360740,8588ec8b9ad04410af3248f577d991be:611825761,8ac764c755d04410d3867397814158f6:-1698286831,0d64a0c72fd0441043cf38ac7a239f85:-1698364146,671224476dd04410f364e1c57f7d87b2:-869971205,6627631c3cb77300631e3691531ab0f2:-701605824,f10763d81ab77300b4b3e0c9c0a67015:-308990515,05d663d842b77300b055596d455cb8c9:239663670,e9c5e35845b7730042433dd07ac02bb1:-1279743262,8b8423986eb773001bc7b94141debed0:-369393326,e834e358ddb77300e0508e92c529cba1:1009685768,3983e358e6b77300812ffbf36b8d1da7:493247300,0933af186db7730063ebfbbb6051c98c:1011463748,05d2ebd472b77300b693efadf7a19df6:-592275174,c272abd47db77300047a736d832df3a7:1295136889,18a1eb54c8b7730012e1f159e5744ef1:1164498122,bf8e9714fbb77300be1e49e182b08b6a:-1509116502,0fbd13dc36777300481832f425f9e358:-2093384174,4d2ddfd003b77300279f06d7da81a6c1:-464149077,c97c5fd0c1b773000381186c3fb0cb37:-1179805625,a31c53d009b773005293e0a22763848d:-1429007917,72afa5c897f33300c5e5a1eb5f39f268:-610233535,9c97998460b33300f7e668201ba754f2:-2083001988,c77bfa4acfa7f300019f81fd0dd67eb8:-1021225398,fbea7ece3467f300d66ad81578882f0e:1088011194,76bc5791eaaf330088cf4127f6513f90:-1831307226,137f2705922733002ed256f36ae1eed6:223244599,1973af0574237300a866c1d0a3167cbe:-2005230292,6543630540237300f6e4044160359312:-2036340980,4b132b0508237300e486ac026a07dba9:1518984810,15f2a705c7237300b860dfbd8be5c76f:-1891871827,cfb26f4100237300b7df1d9b7bd55288:-1540729295,5492230539237300fd63847fcc9c7726:-910173780,7370af01352373000a14abc9b96fe4e5:-1591351402,38302301f42373006e91ac71c150f2e3:1039335983,3eef530137237300893c6247980c9e11:-1591351402,79cf1f8d36ef33004b79c70ef46418c5:44081625,2a7f53cdd2ef33000124989c30901809:725259247,ddee574d5bef33002b31ffdd9896f37e:682429741,3aae5b8d00ef33008e8bd7d5f20312fc:-374456724,f37e1b8ddfef3300b0b470e6c20b5599:-1388513683,362edfc9fcef3300be2ba00d3b7f1e1b:682429741,90ed574d0cef3300e15dd67aca513f5b:-1024668811,10c367fc2a67330096e714d4d3b8050d:-1067498317,16971734226733006465e88409af909b:1164503073,b3725ef011a33300bb171fb30c3febef:813014145,41db467ccc2333000c673b39170726dd:-1476152133,876b2eafb91f7300a8aaa14c21076df2:94311418,a2e3eaab521f730012a79ef7b5d8b958:1936387712,f762aae7851f7300a97ddbdc8b1caa7d:-163302660,1b2e9aef25db730081f623bd9e9feac7:-1199037904,54134e2332db7300327bbffd72d7354f:-1775851639,e60cf1ebb09b73003f29b2cd46f8d34c:1797179673,370de527d05b73004e7a0372a9d26e54:-1707039257,4dd0726213d33300eb32746ba514b31c:-1182682916,fdaeaeee1a93330031b754cfef9c8f64:-1202788136,6f6ee2eee89333003aec47a02feabe5d:-1526365801,503eaeee79933300fe7df7af416ca261:215878675,991d666e67933300ed4470a2e187cbf0:1059276631,1dbc666e6193330023d320df35cfacea:2137299924,a00c6ee2af93330061e96a4da0f6e43d:1648068729,a3dd662d7a1333007bde651a5558d230:1566550982,9aad2a2d6a133300de0443c1a3ddf45d:1136032460,217d662d261333009c5e55e2c5df4428:-2038876926,c12989c587df330086cf1dfe5b0c1804:-1890898932,456048c1e5db330069c6f3dcf037344f:-901967295,a5df7b38c59b33005033f2deea4ea945:-1676200587,17d2d353598333000b0335bb8442d63e:-1079977664,9755b11846b23300804ccbcb9c6f8b35:-228144842,74d35c44a5723300f422a7460b057f52:-1079977664,5df1d804ce723300797c832a9fbd2964:1733351264,48d194042a72330055b8700682bc898b:882090113,f1a19004bb723300f94985375c2ea283:-1839845243,b191940412723300b58e186a79d5a37d:1299629371,0ae0d4c0b77233009d17f489c9b394a5:1733351264,5f80d4c0597233003058253d663a27a1:-980631140,c030984003723300b753a3e9fe53ba72:1993748417,8000d480d5723300e34e65357897d5e4:1164866742,2f3f4c8080723300b07fbc756dae21c3:767170707,31a90c3354e23300b1b8dc000d34d87d:-1346505326,9215569f7362330008433e2e650c9758:1808881335,1f0a97d688e2330091625830c5b5f6ed:1681616282,86ac392d349233002eb48d3d86b4235a:-1723561802,f48cb5ed1e92330090407ab878e5124d:-1008317660,5e99300cf3ed33007b0798219bf3cec8:-246956598,6300ceefd61033001cba40df2e81b986:-1695266105,67eab9af681033007ef01af7857a7b62:-421519178,e2f2f197ee1433005e97a2aa7ee3cfe6:-1695266105,70d27957fd14330027145251aa0c067c:362717735,36f17d17d3143300f943247947fe3d95:-1730044323,9391bd171e143300555df5b556a0ca4c:362717735,19d6e19fdcd03300ecba5bfed51d7a93:-1888499018,a706a19f6fd03300842316d28ac6f715:1926877260,f975e91fa7d0330042a95a2e6af8e9fd:1005695789,5df4e99bc7d03300a1b57a3b7e8befcc:1581894087,87a461dbeed03300c207051468a6aef5:-153697862,dfe3a11f22d03300b6ccd50d74457a12:374462581,d112ad9bf3d03300a7faef7f55e1e9e9:64502746,8eb1e99b80d03300d26a0b17023cc5c6:-2072851885,c8816d1b3ed03300df405a39035f8018:580129100,1f416d1b75d03300f062b0692add2a14:-1800899216,88525d9fd4903300e42bb11841d6e34d:2092196500,b502d99b629033004e5d21cd70f74615:-1800899216,89f1dd5b6f903300be403bd3a642cb37:-1210710193,497b459b48903300840d5c7b0e762a18:94253992,85f9c55b8a903300761c4a274d9f1707:-44069649,e788051bec9033005b344dfec39524d4:-1116908371,fec7059760903300f37a748e002a0754:394840631,4f84fc9ba8503300c9bc522752c2a242:1016517703,7932b8d7ad503300419f39649c3f238e:-369108038,458fa857875033001388c30b0f265f47:-1786504160,b76f4e9a799033005b20fa4ebfea0903:-369108038,87cd02daf090330045ccd2e669700048:1057449072,218d4a9a71903300bf7dfc4e0b7b9e9b:-1268846817,f40d8e9a849033009be5149262400eac:356485703,44ccca9a79903300f6246def5246b3a1:-1854583754,619c065aa09033008394f296457ea90e:1013826432,75080e56be903300696f547e492fe85d:1637585672,df76ce56709033002fa6adc943cdc85c:362822868,85168656eb9033001aaf9fa8dcbdc70c:831862249,9c150e162e903300e57843eab23ef01b:1697497888,b9fba4990eff2300ed359ec0e502501c:362822868,6b6a68993eff2300b5d52120bcd2d4ed:-1374997570,4e3df105b47b230018a0d1d37463d7a0:148547877,ea163dc98b3b2300bc2acd19767e8c80:-1044532643,285c99cd8cf7230000abdfc75565e023:1012138734,08c61d8912f72300bdf04decf4791fb9:931511039,5e9659c9def72300a84b481b7c8b0a7b:1493010024,462619c9f3f7230091d74ccc34ec4efb:1484900609,d9d5dd89abf72300aca1438167ad1aa2:382863221,0a951d89a8f723005b5f95d12c8bc244:1562477772,2c15d109dff7230011592e3ac48f3eba:-1865053242,eec41d09d4f72300990240b5ac879101:1705813754,4bc3d1092df723001c32dff9e7c612fe:1225697356,ff915909cef72300ba744d7a6b239bb6:-25257218,4911d1c54df723003c4125a637ffbfef:1187818923,2140d58520f723004d2441c3edd38740:-800270354,f600d5c58ef72300c4c103f99dff23fa:296811234,82afc585a4f7230086d8582f8e746ff7:-1107990335,f88fc585b3f72300018ca6f985b9233a:-1529443763,b3ce4185e8f723001bf98ce3d54d3391:-1400520380,74be458505f72300f8f2f5eaa4564546:-1741938296,d85ec54570f72300fb034cfd95dbb02c:-981526007,8c0e454568f723008ae9658107465f26:-880807184,2f85d045c4b323003387d38b0b68e90d:-1524439408,afb29045bbb3230064b2cdce5677d4ac:727023233,1682d40509b32300720cb84233f95b51:1972944429,2bc110050db3230008b3c9801976e5e5:-1748771213,87d8c48dd87323003edcb98bcfbfc2e3:806734013,6ca60c0dda7323002b6a8fcdd988fa3f:2120123846,24d5c40d75732300840fb944ec55f26d:1934235251,f8554449d3732300610458d29f2c9b69:-303509651,c537f3f09a7323007982e8f4a4c4eb28:-976090341,2708e778193323008bed4bb932e1d9d6:828982370,9b146fa071336300755c7532fc4260e6:1419357731,76436ba02a336300b904a0ba946684b4:1279298609,54e2ab60fb336300607ffb3e65ebb7de:-1758021332,d1d1ef20de33630030bb88ba95ced373:1358004486,ba81636064336300ed02d4827caac1b6:-1606971496,5101ef208a33630009f21db69755b36e:1614954862,b2e0af2084336300ed79623cddf476e3:1454251179,0e80a3201a336300f42f8edfa86162b9:961122572,2a20ebecf3ff2300c90ecf34e0ebf777:-1880452013,8aefdfec2aff23006e3e95f75dc0da51:792576231,31af9fece9ff23008342c5aa84921f60:-852404335,9d6f5be857ff2300b0742718e26fa721:602188921,a36e5bacbdff230022b1a94ed5ca2efb:792576231,4ebd9b6c39ff230074e97f3062a7cac8:1482737617,2c641328e5ff2300d1bb30541261a2ac:1801051509,ede397e494ff2300f9f6571c6274bbfd:609944363,66935ba41eff230027a9734be450941d:-932453523,60631be49cff230083ce1ea0f2cf01ba:1272403288,c51357e418ff230087b0c2f24b0d91b5:241537943,34031ba04bff2300acd268391d74fd57:-1860271127,7e3a4bec18bf23001e7ac7fa23541797:2103123966,1f1ac3e44ebf23008262367de39e916c:-1100498662,76e9872048ff230014ccd9cd31d9ddca:481392893,c32622a80a7f23003f6567fbfc57efae:-144846469,06cbde776f82230073e754ae2e938272:876360468,8d6fe9ef38c22300278ad9a64c5d47b6:-848516192,703cf42b604223002d48769154e25b87:2039751965,36ebf82ba1422300debf4bb1e35f1381:1098202345,2c8bf42b9c422300264610b3eef45380:1122907724,4f5bfce76342230016fe9520a867c0bd:-783354068,8dcabce717422300ced2723a796cd4f0:1122907724,b79a74e777422300cd0eed32808495c7:-46875364,6a1a34e7bd422300bb4d53fc4f26fdee:819759915,9a5938a74c422300df111ef3de25a0da:801649071,cc4938a70d422300f5610393a031a458:1747002687,04f578e3da422300682923ce132fc8ca:-1435284065,e2757ce337422300c0941afb4b56fc37:1621800072,9dd4b4a30a4223001a66b9d3aba115ad:1783848040,14547c63e54223000d2df250e0218784:1451905656,9883f863c9422300f7f64c3bcc227b6b:-2076458530,84733c633342230083e2dc1aaddd5e23:904974398,0a2374633e4223002082a1121f9ae7e0:578893246,a513f4639d422300dc4459136ccf317c:-171477169,5903f063cf422300375393e6fc5475ee:578893246,bed27c237142230020326cebd3f058bc:-171477169,fac27c2341422300cea3112967d269b8:578893246,35a2b8afb00223004048a60197c7b79c:-171477169,bc2274ef8f022300666960e287f90d47:-1927622628,aea178af0a0223003ba714eb86a3336e:-1997803125,b31138af59022300d9c5ea5c1a91fef9:-288710229,3c50bc6f3c022300a28aae3ebc584274:-2143151989,b640fc2fc10223009a4025f931073e41:-603373234,77925d90718e23000a9f6d0bc15ae6a8:119363908,f9d001d0484e2300464b48d9df2109e5:-591104533,208f6148d7462300145968b6df3011b7:1690177409,a9bb190c7806230005b2519f4e256885:1491285629,7642dd805e06230027948ecba105dedc:1690177409,f391918007062300465e34047e521f9c:1491285629,82c950846b4223008e508c9d7ccc636d:1690177409,7347584048422300f869104c0a313419:1040819245,3620508c350223008992d30daf99d7cc:-700005792,51bcc0c877022300633b6b975ad6f552:685383873,163c0c880302230058f17c2f2646b820:1919472818,3b0c0c8830022300df41a52fe689ac26:-1991386172,078b4c4869022300fb7bcb8f6ba55a8b:145473124,7f4b00085c0223000a31989b059fa519:1525968207,7eda0c48b9022300510fd50c778718fa:933026255,9cf708c44d022300d29ccbdb449f023d:404362861,9a87cc844d0223003d753d28b5777d64:1558116091,3bb4c044cf022300dc5fafedeebe5f77:-347163932,40540044020223009413e8f758379122:1057471183,605f247f8af163000e7c4e076a1729a5:404362861,e83a287be2f16300ce83c8a1a8755642:-1455777418,3049ac3b25f163005e6278da89e2f397:-129723334,b9d8283be7f163003ca6778fa64a8edb:928867705,eec8acf7d4f16300fb3207b767d01f9e:-1332872350,5ef7a8f770f1630013737f7ffd4a32ff:928867705,e7c7e8b7cef163009e39813fbe6736ef:1664092693,be97e0f786f163005db00a8662964197:474349489,ce77e8b793f16300ec55189e13a7daa4:-119736498,36176c7754f1630076ee92e1d596b1f0:1394217442,6407a0b763f16300f8f414b2a918647b:1939146433,16a6e8b7dbf1630096120c76adf1d1e5:1491285629,b8b56877c8f163003492814143dcf0f5:1465362126,f0a520b769f163005d6c2b6085510c70:-1185163407,f095ac7765f1630018e93567a0c22176:1394217442,86752877f0f163002f411f4dc06cb4ed:-1185163407,022528776af163005c4f3c7af0844869:-1073406786,34a46077fef16300431adedb7ce3ae6d:1465362126,f384ac373cf163000c19256637a8ef44:1491285629,d382a0f348f16300922890da5169cdf3:1465362126,1abfdcff0bb16300684cb2f0b5dc967d:1491285629,7dcc94ffccb16300826e7f1c3e657dd6:1465362126,40bc90ff5cb16300bc93c491dcd117e1:1491285629,767c90ff60b16300a384e7887c981cbc:1465362126,226c90ffa3b16300b6141f884f34aceb:1491285629,ec1c943f63b163007438befcfc0f384e:1465362126,7afbd0bff4b163009b9a4a4afeddddba:1491285629,b7cb94bf04b163003d30eb17aa6f658c:1465362126,797b107ffab1630094df82150548f4b6:1491285629,676a107f28b16300b0b5d79611c26bb1:1465362126,d479107f4ab16300d67dd70fe4fa85c5:1491285629,9f59183f3fb163002ee5c7e1b44851c4:1465362126,a9c8183f8bb163006f0bfc2d2ccc23cb:1491285629,d798543fc9b16300dbab606ed5104e9a:1465362126,c1149c3b53b16300d970baf188b3f2cc:1491285629,10625cf757b163000ea90549ce1c6f8b:1465362126,da5298f7f0b1630029af82ecf847662a:1491285629,4e7150f73cb16300c69cfb2100b46a9b:1465362126,9d51987790b1630025d2bc3e354ee57f:1491285629,a6d0d0b7e0b16300b926227808a66a7a:1465362126,ea6b3b27fb716300a6d4d144b08a332a:1491285629,9b9e0fa7d7fd2300dcbf8438ead72c6c:1465362126,709ec7a7c5fd23008ef4c20cc9006ee2:1491285629,8f8e87a792fd230081367a55bc14a754:1465362126,0a4e47a71ffd2300209611d3146af21d:1491285629,0b2e87a791fd2300d1abe5e6f6fccaf2:1465362126,eb066f5bcab523006de4b3c696a87c21:1491285629,84c46f5b59b52300a7f6e734be35c008:504801992,8c64edf578716300323a6d15701145c0:1491285629,fb2c6fd1a2b12300ea438ba8952e4fb2:-583255913,d7db2fd156b12300d796e311b68b0b1c:-2030014406,432f0b11ff712300dd5e4afc27383ae9:-1044444816,81ae47110b712300f65e71fc48457c51:967845132,c87c83dd0131230056149b22aca33ed3:1559585511,eb0b0f1da5312300f0d2f651509023a8:-1498735749,fcfa8b99c0312300c1cbbbe79668f19f:624048631</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_script_b7e56ae437a12300fdfc097973990e63</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description/&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Variable&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

function render_variables(answer){

	var str = '';
	
	if(answer &amp;&amp; answer!="{}"){
		var variable_data = (answer)?answer:g_form.getValue('variable_data');

		variable_data = JSON.parse(variable_data);

		var k = 0;

		for(var i in variable_data){
			var row = variable_data[i];

			var check ='';

			if(row.runtime_config==true || row.runtime_config=='true')
				check = 'checked="true"';

			var setVal = "onchange=\"setVal('" + i +"', this.value)\"";
			var setRun = "onchange=\"setRuntime('" + i +"', this.checked)\"";

			var fieldType = (row.data_type+'' == 'SECRET')?'password':'text';
			var placeHolder = (row.data_type+'' == 'SECRET') ? 'placeholder="*******"' :'';
			var isDisabled = (row.isdisabled+''=='true')?'disabled':'';
			var mandatoryAttr = (row.mandatory+''=='true')?'required':'';
			var isCheckBoxDisabled = isDisabled;
			
			if(row.data_type == 'EXEC_LOCAL' || row.data_type == 'HTTP_LOCAL' || row.data_type == 'EXEC_SECRET' || row.data_type == 'HTTP_SECRET') {
				isCheckBoxDisabled = 'disabled';
			}
			var GWT_calm_format = {'DATE_TIME':'yyyy-MM-dd HH:mm:ss','DATE':'yyyy-MM-dd','TIME':'HH:mm:ss'};
			
			var spn = '';
			
			var inputType = '';

			if(row.data_type+'' == 'SECRET')
				spn = '&lt;span class="field-icon toggle-password glyphicon glyphicon-eye-open spanField'+k+'" onclick="tooglePassword(\'field'+k+'\', \'spanField'+k+'\')"&gt;&lt;/span&gt;';

			if(k%2==0)
				str = str + '&lt;div class="containerStart"&gt;';

			if(row.type+'' == '5')
				inputType = '&lt;select ' +placeHolder+ ' ' +isDisabled+ ' class="inputText field'+k+'" ' + setVal +' '+mandatoryAttr+'  id="'+row.uuid+'"&gt;'+_option_handler(row)+'&lt;/select&gt;';
			
			if(row.type+'' == '21')
				inputType = '&lt;div&gt;&lt;div id="span-'+row.uuid+'"&gt;&lt;/div&gt;&lt;select ' +placeHolder+ ' ' +isDisabled+ ' '+mandatoryAttr+' onchange="selectOption(\'addOption\',this.value, \''+i+'\')" class="inputText field'+k+'" id="'+row.uuid+'"&gt;'+_option_handler(row)+'&lt;/select&gt;&lt;/div&gt;';
			
			if(row.type+'' == '9')
				inputType = '&lt;span class="input-group"&gt;&lt;input type="text" id="'+row.uuid+'" class="form-control" ' + setVal +' style="background-color:white;" ReadOnly="true" value="'+_option_handler(row)+'"/&gt;&lt;span class="input-group-btn"&gt;&lt;button class="btn btn-default" ' +isDisabled+ ' onclick="new GwtDateTimePicker(\''+row.uuid+'\', \''+GWT_calm_format[row.val_type]+'\', false)"&gt;&lt;span class="icon-calendar icon"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/span&gt;';
			
			if(row.type+'' == '10')
				inputType = '&lt;span class="input-group"&gt;&lt;input type="text" id="'+row.uuid+'" class="form-control" ' + setVal +' style="background-color:white;" ReadOnly="true" value="'+_option_handler(row)+'"/&gt;&lt;span class="input-group-btn"&gt;&lt;button class="btn btn-default" ' +isDisabled+ ' onclick="new GwtDateTimePicker(\''+row.uuid+'\', \''+GWT_calm_format[row.val_type]+'\', true)"&gt;&lt;span class="icon-calendar icon"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/span&gt;';
			
			if(row.type+'' == '2')
				inputType = '&lt;textarea ' +placeHolder+ ' ' +isDisabled+ ' '+mandatoryAttr+' class="inputText field'+k+'" ' + setVal +'  id="'+row.uuid+'"&gt;'+_option_handler(row)+'&lt;/textarea&gt;';
			
			if(row.type+'' == '6')
				inputType = '&lt;input type="'+fieldType+'" ' +placeHolder+ ' ' +isDisabled+ ' ' + setVal +' '+mandatoryAttr+' class="inputText field'+k+'" id="'+row.uuid+'" value="'+_option_handler(row)+'"/&gt;';
			
			if(row.type+'' == '25')
				inputType = '&lt;input type="'+fieldType+'" ' +placeHolder+ ' ' +isDisabled+ ' ' + setVal +' '+mandatoryAttr+' class="inputText field'+k+'" id="'+row.uuid+'"/&gt;';
			
			/*if(row.type+'' == '25') {
				inputType = '&lt;input class="inputText field'+k+'" type="password" value="' + row.value + '"' + setVal +' '+isDisabled+'&gt;';
				spn = '&lt;span class="field-icon toggle-password glyphicon glyphicon-eye-open spanField'+k+'" onclick="tooglePassword(\'field'+k+'\', \'spanField'+k+'\')"&gt;&lt;/span&gt;';
			}
			else if(row.type+'' == '21' || row.type+'' == '5') {
				inputType = '&lt;select id='+row.uuid+' class="inputText field'+k+'" '+ setVal +' '+isDisabled+'&gt;'+_option_handler(row)+'&lt;/select&gt;';
			}
			else {
				inputType = '&lt;input class="inputText field'+k+'" type="text" value="' + row.value + '"' + setVal +' '+isDisabled+'&gt;';
			}
			*/
			var desc = '';
			if(row.description != '')
				desc = '&lt;div style="padding: 5px 1px; margin-bottom: 10px; background-color: #e8f0fa; color: #007eff; position: relative;"&gt;'+row.description+'&lt;/div&gt;';
			
			var htmlStr = '&lt;div style="padding:15px 40px; width: 50%"&gt;&lt;div style="padding:1px 1px 12px 1px;"&gt;&lt;span style="float:left;"&gt;&lt;strong&gt;' + row.question_text + '&lt;/span&gt;&lt;/strong&gt;&lt;span style="float:right;"&gt;&lt;input class="inputCheckbox" style="margin-right:2px" ' + setRun + ' type="checkbox" ' + check + ' '+isCheckBoxDisabled+'&gt;&lt;/input&gt;Runtime &lt;/span&gt;&lt;/div&gt; &lt;div style="padding-top:14px;"&gt;'+desc+' '+inputType+'&lt;/div&gt;' + spn + '&lt;/div&gt;';

			str = str + htmlStr;

			if(k%2!=0)
				str = str + '&lt;/div&gt;';

			k++;

		}	
	}else{
		str = "&lt;p style='padding-bottom:20px'&gt;No variables are defined for this blueprint.&lt;/p&gt;";
	}
	$j(".bodyData").html('');
	$j(".bodyData").append(str);
	
	var second_var_run = JSON.parse((answer)?answer:g_form.getValue('variable_data'));
	
	for(var j in second_var_run) {
		if(second_var_run[j].type + '' == '5')
			$j("#"+second_var_run[j].uuid).val(second_var_run[j].value);
		if(second_var_run[j].type + '' == '21')	
			selectOption("initrun","", j);
	}
	
	new GlideModal().get('loader').destroy();
}

function selectOption(type, multiValOption, key) {
	
	multiValOption = unescape(multiValOption);
	var variable_data = JSON.parse(g_form.getValue('variable_data'));
	var row_uuid = variable_data[key].uuid + '';
	var tmp_array = (variable_data[key].value != '') ? variable_data[key].value.split(',') : [];
	
	if(type == 'addOption' &amp;&amp; tmp_array.indexOf(multiValOption) == -1 &amp;&amp; multiValOption != '') {
		tmp_array.push(multiValOption);
		$j('#'+row_uuid).find('option[value="'+ multiValOption + '"]').remove();
	}
	
	if(type == 'removeOption' &amp;&amp; tmp_array.indexOf(multiValOption) != -1) {
		var index = tmp_array.indexOf(multiValOption);
		if (index &gt; -1) {
			tmp_array.splice(index, 1);
		}
		var option = '&lt;option value="'+multiValOption+'"&gt;'+multiValOption+'&lt;/option&gt;';
		$j("#"+row_uuid).append(option);
	}
	if(type == 'initrun') {
		for(var k = 0; k &lt; tmp_array.length; k++ )
			$j('#'+row_uuid).find('option[value="'+ tmp_array[k] + '"]').remove();
	}
	
	variable_data[key].value = tmp_array.toString();
	
	g_form.setValue('variable_data', JSON.stringify(variable_data));
	
	var spanOptions = '';
	for(var i = 0 ; i &lt; tmp_array.length; i++) {
		 spanOptions += '&lt;div style="display: -webkit-inline-box; margin: 3px;"&gt;&lt;span style="margin: 3px; padding: 5px; border: 1px solid rgba(0, 126, 255, 0.24); line-height: 13px; font-size: 12px; display: inline-block; border-radius: 2px; background-color: rgba(0, 126, 255, 0.08); color: #007eff;"&gt;'+tmp_array[i]+'&lt;a href="#" onclick="selectOption(\'removeOption\',\''+escape(tmp_array[i])+'\', \''+key+'\')"&gt;&lt;i class="icon-cross" style="padding-left: 7px;font-size: 11px;margin-top: -4px;"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;';

	}
	$j("#span-"+row_uuid).html(spanOptions);
}

function setVal(yup, value){
	var variable_data = JSON.parse(g_form.getValue('variable_data'));
	variable_data[yup].value = value;
	g_form.setValue('variable_data', JSON.stringify(variable_data));
	
	//_validateField(yup, value);
}

function setRuntime(yup, value){
	var variable_data = JSON.parse(g_form.getValue('variable_data'));
	variable_data[yup].runtime_config = value;
	g_form.setValue('variable_data', JSON.stringify(variable_data));
}

function responseParse(response) {
	var answer = response.responseXML.documentElement.getAttribute("answer");
	g_form.setValue('variable_data', answer);
	render_variables(answer);
}

function getProfileVariableData(){
	
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Getting profile Variables...');  
	
	var val = g_form.getValue('variable_data');
	
	if(val){
		render_variables(val);
		return;
	}
	
	loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
	
	var type = g_form.getValue('type');
	
	var project = g_form.getValue('project');
	var blueprint = (type=='update')?g_form.getValue('cat_item'):g_form.getValue('blueprint');
	var application_profile = g_form.getValue('application_profile');
	
	
	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'getProfileVariableDetails');
	ga.addParam('sysparm_project', project);
	ga.addParam('sysparm_blueprint', blueprint);
	ga.addParam('sysparm_application_profile', application_profile);
	ga.getXML(responseParse);
}

function tooglePassword(field, fieldspan){
	var input = $j('.'+field);
	
	if (input.attr("type") == "password") {
		input.attr("type", "text");
	} else {
		input.attr("type", "password");
	}
}

function _option_handler(arr_json) {
	
	var options = '';
	if(!(arr_json.type+'' == '21' || arr_json.type+'' == '5')) {
		if(arr_json.data_type == 'EXEC_LOCAL' || arr_json.data_type == 'HTTP_LOCAL' || arr_json.data_type == 'EXEC_SECRET' || arr_json.data_type == 'HTTP_SECRET')
		{
			_setRequestValues(arr_json);
		}
		else
			options = arr_json.value + '';
	}
	else {
		if(arr_json.data_type == 'EXEC_LOCAL' || arr_json.data_type == 'HTTP_LOCAL' || arr_json.data_type == 'EXEC_SECRET' || arr_json.data_type == 'HTTP_SECRET')
		{
			g_form.addInfoMessage('Fetching values for variable "'+arr_json.question_text+'"');
			_setRequestValues(arr_json);
		}
		else {
			options = '&lt;option value=""&gt;&lt;/option&gt;';
			for(var i = 0; i &lt; arr_json.options.length; i++) {
				options += '&lt;option value="' +arr_json.options[i]+'"&gt;'+arr_json.options[i]+'&lt;/option&gt;';
			}
		}
	}
	
	return options;
}

function _setRequestValues(arr_json) {
	
	var loadingDialog = new GlideModal('loader', true);
	loadingDialog.setTitle('Fetching values for ' + arr_json.question_text + '...'); 
	loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
	
	var type = g_form.getValue('type_of_blueprint');
	var blueprintSysId = g_form.getValue('blueprint');
	
	var gajax = new GlideAjax('Nutanix_ClientServerScriptBridge');
	gajax.addParam('sysparm_name', 'getHttpValues');
	gajax.addParam('sysparm_type', type);
	gajax.addParam('sysparm_parentUuid', blueprintSysId + '');
	gajax.addParam('sysparm_varUuid', arr_json.uuid + '');
	gajax.getXML(getResponse, null, arr_json);
}

function getResponse(response, arr_json){//var_data, loadingDialog){//, loadingDialog) {
	g_form.clearMessages();
	var answer = response.responseXML.documentElement.getAttribute("answer");
	var parsedAnswer = JSON.parse(answer);
	var options = '';
	if(parsedAnswer.state == 'SUCCESS') {
		options = '&lt;option value=""&gt;&lt;/option&gt;';
		for(var i = 0; i &lt; parsedAnswer.values.length; i++)
			options += '&lt;option value="' +parsedAnswer.values[i]+'"&gt;'+parsedAnswer.values[i]+'&lt;/option&gt;';
		$j("#"+arr_json.uuid).append(options);
		$j("#"+arr_json.uuid).val(arr_json.value);
	}
	else {
		var msg = '';
		for(var j = 0; j &lt; parsedAnswer.values.length; j++)
			msg += parsedAnswer.values[j];
		g_form.addErrorMessage("Failed fetching values for variable '"+arr_json.question_text+"': "+msg);
	}
	new GlideModal().get('loader').destroy();
}

/*function _validateField(index, field_val) {
	
	var variable_data = JSON.parse(g_form.getValue('variable_data'));
	var var_name = variable_data[index].question_text + '';
	var reg_exp_str = variable_data[index].regex + '';
	var is_mandatory = variable_data[index].mandatory + '';
	var reg_exp = new RegExp(reg_exp_str);
	
	$j(".error_body").html('');
	if(!reg_exp.test(field_val)) {
		var msg = var_name+"'s value "+field_val+" doesn't match with specified regex '"+reg_exp_str+"'";
		var error_str = '&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;'+msg+'&lt;/div&gt;';
		$j(".error_body").append(error_str);
	}
	
	if(is_mandatory &amp;&amp; field_val == '')  {
		var mandatory_msg =  "Variable '"+var_name+"' is marked as mandatory. Assign a value to it";
		var man_error_str = '&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;'+mandatory_msg+'&lt;/div&gt;';
		//$j(".error_body").html('');
		$j(".error_body").append(man_error_str);
	}
}*/
]]&gt;&lt;/script&gt;&lt;script_name&gt;Calm_Catalog_Variable_Config_Script&lt;/script_name&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-31 09:42:02&lt;/sys_created_on&gt;&lt;sys_id&gt;b7e56ae437a12300fdfc097973990e63&lt;/sys_id&gt;&lt;sys_mod_count&gt;221&lt;/sys_mod_count&gt;&lt;sys_name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Variable&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_b7e56ae437a12300fdfc097973990e63&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 10:30:49&lt;/sys_updated_on&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>1457954112</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>3224eee4db711010eeb9808768961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c8390000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.Calm_Catalog_Variable</target_name>
<type>UI Script</type>
<update_domain>global</update_domain>
<update_guid>64da4409384c5c100461fe416f2ac9a6</update_guid>
<update_guid_history>64da4409384c5c100461fe416f2ac9a6:1457954112,8af98409014c5c10fb12877a75aecd3a:630123296,f3857bb49a0c5c109119a13c5fc1678e:-2023147150,f3291da4293f4010d0314c6ca937ee39:239784530,6842efae6497401090fcc49e119289f8:1426157202,2da1ebae0f97401098ebce257f68be8a:1241742694,7d8da7af46028490a78a186306e2513e:-979984116,9e30adf2b4910010f86e6370fc8d7d74:2119676966,9e30adf2b4910010f86e6370fc8d7d74:2119676966,d993cb8793b90c10a81e37065c1a56ed:1967862980,32f89d2c5f950810d3b20a373a7ec855:2119676966,cc74d9e01d950810d48fbd9799eb06fe:-575043568,1a8359a0ef950810d58216d5b0f2a63f:2119676966,4594c99072d9c4108e32c14ea84d9250:-575043568,77ad66c4efbf73000f9ad5934fa73274:653197949,bedc2a0459bf7300ffadd4ca6c18d02e:527202197,92efb47f4cef33006d6e2b2ee56d0cfe:-797846945,aaaff07fcaef3300edb471ed508cf2d2:1020976701,d5eeb43fd1ef330020bb9fb3946aded4:400827039,16087c7330ef3300b8e9db95ff0dcb2b:-245489976,2041acb76baf33001f1304c7e5a44356:1877858645,ae402037d3af3300300a4c702b2a44ad:-690548779,fa7f987751af3300547f8edabdb8545b:684323477,0bee1837cbaf3300c79a865d42a38d8a:-1646627083,921e14bf936f3300a252379ac442a37b:79264637,efadd8bff76f33004f54a1bba4a45bda:684323477,62599c3f8b6f3300648357e6f6df6d03:-1921714859,7a76d8bb236f3300bb28cfc693c14ec0:1283178837,d21e487fc52f330030709e0b3aabbcbf:-1856439002,02669716fea33700b0a4b5a528c5058a:-999447415,73455f9277a33700460da4d1944c526a:1171777011,b21c5fc6c22bf30052e2645491d0ff3d:-622472980,74da1fc6682bf3007bc956557024ef02:-1806621591,56651bc2462bf3006bb328ffe2c4ceb8:-1308618076,f4619fce0be7f3003882ab02003143d4:-533319088,11f7cbc6a9e7f300e680fd85dcb92cb7:-2012640722,9a87cf461de7f300787c291d3189b0aa:590302490,d0048b8211e7f300f88ce309aa6828dc:-512238208,ab052f308ca7330031c8c0be7a7a5dbb:1473030049,ca81caef419b7300d5cd86e4ddef61ea:222033794,a0010aafc89b7300d0771b152952a1b0:-2126690521,5ae0c2efcb9b73006278315ab7a00f51:-492520079,dafff16f129b7300a34b00f59ddcb8de:1820175659,427fb56fa99b73003bce3c2e5088e666:-899705051,4698bd2bb59b730017310bf21db4de8f:-1203619502,ae18f52b539b7300086b836816409f8e:-1431643442,4cd7f9e7499b7300d71ab2f3bbb00515:-1334393333,fd1771e7cd9b73009d95dffc967f66ce:-1346814695,5776f967299b7300249bed85bf23659f:841536629,4e16f9670e9b7300ae99af550df3d4c6:-222451105,08a5f9638d9b7300c66465ec54350d67:-1961112359,2d664d45f0df3300b7cf82e6dee63ad1:1828153509,fe4c463bbc72330087b4c4b4a0252181:-277034093,8030e89ac8723300350c0b3a3f212f07:-777017347,cccf545a53723300bd4adfd21843e31e:-1848332899,ea5f5c5a2272330045efa17e512f753b:-651668099,67de509ad57233000b9cee96002d8432:104753117,6a8e5c5ad672330089c09837ad27c11e:-651668099,c6dd545a417233006e298fbd8b71bd00:-139539463,931ddc1698723300635f74bbb29de766:1253391673,23acd41a6e72330034da8d1c1b531766:1838217846,97b9d412c27233003429cad1f4980033:-359935294,72f69412ab723300a30b15597c5b428b:1860171336,83461816db723300fb7c9eeaa87c1a7c:1533467491,913654162b723300b4c436f2faf1e301:-1863832799,ade590de463233008a17b88d69b03be7:-1730453810,5180941294723300e0c07ee848ae5781:-203153093,74f403280cb2330068b46324c9d029cb:1207310939,4d940b2c13723300d835d5d5a04bb84c:1420267932,c1a38f2469b233001b78d93f290c0ef7:-938064750,64034f6473b23300e986d461d27dc79c:-852095737,4b714b6438b2330021f368dff6e07c94:610260374,8f11cfe88172330070a1e16405c861a4:1862408242,fce00b2c1372330011b707bf7602a045:-1333728444,9020cfe0dab23300c6887c703482ded1:-1034664747,00ff7620bcb233005532b6962b98bdd2:-7804381,507eb22c3f7233004e114d0228b8bd42:1405927611,5395b22cd3723300557ce22260e0793e:-7804381,2cb07ea8e6723300c2f542d052380e17:-526996572,b70076a4d5723300dbbd45afb7f2a5e8:5567748,c2cea6a40772330057db5c083026a8eb:-526996572,b48da6a452723300289d55cb264bf430:-1822870006,90eba6a48d723300f465118099bc0ee0:216079738,2aa926a4e872330089fdfea41eebdc32:546776629,9499aae8ac323300a2a9ae0e2ac67c80:-250385679,d9aeca541cf23300d1aa26c6e4f6a291:1338924191,e0bcca54f5f2330025d6c13e4d8f3c9b:1034441724,517c06948bf23300cb7f56d8a47ef08b:-1061895673,c0cb82d469b23300e8cfec3ad20bbbaf:1034441724,a3960550793233006022f8cfbe53f34c:-185654525,e35f5bd1feaf33000647ebd783b08dda:1105925921,69417f4573273300ed92da6d7b3c2119:1553211763,d42e65d9dce77300e239179085b39306:-592298416,400ee5d546e773005aa9505d84fc74fe:-1266919709,01bda9d91fe7730037e58d51de0da920:-329949949,7d7c836e4ed33300e92b9e93dd5341d8:-1266919709,801c432e70d33300ffa749736b1db5be:768615631,4a9a4bea49d333005d3c567c6a16e116:-474030192,c1c9c7aa9ed333003a776a4cfddeaa9b:-10547425,ede643a635d33300477accdc527dd71c:-1071432204,d1a50b264ad33300010dc3b537f30c61:-1897360104,6c020bea3493330027c1cacb1a4325e7:-16845817,8e492f1cc5973300c0c7c5e6d5f51d65:1828153509,b1102350d2973300e8644c3cc46d7cc7:-1132441322,7101d390fa5733007c8f0df4a9c0797c:2048916006,21c307d4e9173300560f3835d9818870:1305479120,5ad9e65492d33300c204c524ca537fe7:1620335701,24b46edc0d93330032479de37152666a:-427731780,3474aed4e9933300ebaa5a321fb8b5ba:-493589215,2f5326581b9333009f2698c7db698fc2:1931777581,4ff2ee18c593330092b428bde48af94b:-884861201,53289218559333007ff118b28824a87d:593520875,2b375294e8933300e5699426f716e539:-1855241814,8ed61e10c9933300b480f0214f3b6da3:973569100,dd561e54e0933300929bf2eaee3b0dbc:-43631344,ceb51a1092933300acc7db01b71747a7:-1536249503,d59d82dcb2533300d2c0078d9a28ff95:-900130254,20fc02dc795333005c436323971bf0af:7692858,fa9c8adca85333005892e882d034b4ee:-595027722,5a9b425c95533300802317b5fb4a9fc9:-1630425153,07494a58cf533300302bf209829b515b:-948576381,c7e807d34dc33700430470dbb2d163de:2048916006,02900f43b287f300a0e6825a99fac37f:257704390,7074a6478203f30075cafd2503667d85:331110085,dcf3aa07f203f3009485b883aca24dc7:-408138085,e37f120303cfb30005467d3e8a35083c:-545576721,bafd3d4f700fb30067b44024c08a8d78:-1520027241,dbbc398f450fb300c2df2c602c8ce3c1:500697485,2c54b947870fb30043205ad88cff5103:-1018093464,1723f583140fb300ef08e0c24865e40f:-1400845175,8f82bdc3170fb3008a342ce8ac9ea165:-2028652497,ad12f5c3c00fb3001d4cfe445008a2ec:-1175334942,bb40f943e20fb30076abcc568ad539da:-1502922629,76ce6903bd0fb300b76c2ffce36476b3:1211625514,3eaaa90f2dcbb300e488238765689db2:-1917311144,3c1a614f5bcbb30003f0d7e3052867de:-718281986,ce99690f18cbb300dafa9de060677ee8:-2103453556,cb186d8bf6cbb300c176df0e6ad53c86:1967341051,5e256d0bbbcbb3002f7c0c9c916bdd75:-1824360474,c644edc75bcbb3007df92af6dffbb2bf:-2124767658,89e4e5be1103b300434e57f908aca478:-1476490641,ae74e5fa8203b300f8bcb660c2bdb8ea:-2105409488,cc34693eb003b3006a0bb98fdf9098c4:-1861070414,dcc2a17ef203b30067894911e4899e99:-1697375883,4821a9fa0303b3000b723a35c85181aa:50877948,3110e5b64b03b3009f08882f1be6896b:-1046413642,61dfddb65e03b300b9a0a77456e5f5c5:50402844,d28f9db6de03b30070e25c79daaef0be:1793364251,219b99b61703b300abdfe48419b4492e:-797992500,e54bd5b69e03b300758441b884fd5b60:-246262430,9daadd76d903b300122d3369f1350b1f:-2134473115,e90a99f23303b300df7553480e2275ce:1544965036,1a6919f22903b300d191653744d1dcd0:-858114910,4e37d1f28d03b300f1a1476635fa473a:-1469867222,5dd6d9b21d03b300f7ce8ff5c6da387c:1215432175,345619727a03b300dcf5aeef9eca7333:-943272626,4c55d572c603b300e4e1c47e0f0f27f6:972339820,b5b45d326803b300bf6c0934612a70aa:762969527,a0a45dfe01cf7300bf5aea00dfe2c70b:164346851,0cf31dfe1bcf7300ffb101569859a55c:-143183974,421355fe52cf73009f7f4585ea79f3af:664975112,b49255fe3dcf7300df40c3315d5076aa:1627638089,7c429d7e50cf730042d8c8f937f8a1c0:-886858469,3c41d97e33cf7300c21d315628080e00:-712150493,9580d17edbcf7300f261f02812f8a3a1:-1792676629,df00d17e83cf73001d14e2f8cfff8cb6:-1594400237,b4cd85fa2dcf73003c411a75e4dfb54c:238377375,c63c4d3acacf730046dbdd2c7f3e6022:401714481,aa88c1f6b0cf7300fe69ea12cd20c70e:-397268359,faa749b69fcf7300b02a1e6306f9e0ba:1120703283,91e685b67ecf73004c0ba3b294a653c3:-1151647309,f57641b69dcf7300281bfb3de51a1851:-1196655235,70d20df29bcf7300f64f0788fdb8f90d:887729016,a25249b293cf730040fbb16add0a9591:134603403,a691cd72d6cf730001e0fdcc40230a23:-1141507545,88b0cd720bcf7300a6dadfc23a117918:1696110012,dcaff072b0cf73008857e27eda71d524:1979317144,9bee343271cf73002a7ca3a7f22080cb:-724494225,d78cb03e848f7300599fd5abfff400f3:-2033089104,b39ab03ee18f730078b135052d4270be:-717978856,b11af4fa108f73006e1bd6007acba06d:-155631351,73b9f07a7a8f7300ec5b3d9c8a1d5857:-129995247,68e5fc3a068f73006fe16abe7b3d6d9b:-1709974898,3d757cf6828f7300a8e93547d1b5eb04:-1680656410,c39070364a8f730020c349934f69d26b:-985649026,a6ff2832318f730002417713163e2082:-1063223266,368ce472b88f7300349978add0cd6063:-684793568,fb2964be374f73002ad18a7bebbfc6fc:-820611553,e8a724becf4f7300e57b5bde88ac3ba8:1371627422,a2776c3ece4f7300181209126f764b8d:125179352,c8d3a87adc4f7300ffe54c183281a1e4:744498241,45712c7a064f73008ba9700c093178cb:1925979038,8de0207aba4f730029ccffb7b404f5d2:-796314565,8670e4b6434f7300d304cae915ed1a03:1155415452,fa30283a7d4f73002de07ab8fca14a24:-1552221556,a34f50f64a4f730099af861eabb8ca86:1268705678,feb9d072834f730019913a00a5fdc4c3:-614136067,c80898be260f7300d19eee6a76906f4b:-110424274,5a585bc50e8373006bc4a0f3d8652748:590077739,26da03c9ae43730013ab9ec1b75d0a6b:989920082,a781078ddf03730056e6da40564f62e1:-2133688814,8f593a89e903730095e937f5d98a1175:-1339702370,e6d572c53e0373006061a97612be0e40:1590701270,39a47241d20373009da9cda29a6b9dc7:585705654,6ec0fa0998cf33005012f4e19cfeac0c:1977430237,de507ec55ecf330058a2776476ca6c49:-708369562,75ff6a09cbcf33009e977bde46ea9b62:687498729,eddeeac50bcf3300753320c7c1f47489:108934611,3b3ee2c5f2cf33001777d5f2d5eba315:2125638939,5c1ea645f3cf33000df0f9601361d171:1057425240,667daecdc28f330081d096f194ae7d3a:959658604,95a6a20183cf33009ecbca2642a96c86:-449240718,74ba71fc36c333001593120dc480bf39:241346422,fad9317c07c33300dfe8ad1f0276f5fc:-85061735,d8d8b9b4abc33300f24b392c0b8d69f1:-1708561351,40fb5db4158333008615bb73fad27db8:1865216675,cd88d5346b8333007c36bf95a70d63a7:-1180756796,d1e759f072833300131c84e62f9eb878:1818437828,07a801a0ac073300bed5f179b2cb7d14:2069006465,bb380d60fa0733007c3ca818cae6650a:-958581880,b9e445ec88c3330062352c98fe575a3c:1857172374,532ebc2412c3330008b630d98104579f:-448167021,1c963824c2c333006c70240fb755a429:909523594,52f5f8e017c33300a86a957d98672ffb:-844155121,b05530e019c33300906349c2474391d5:-1971859565,9fa470a0aec3330009aebf3a91875f31:2018472553,dfe2f86051c333000eecb04a0742424a:751187499,2531f8ecf383330086d348773e09132c:-288356219,0c3e646c1c8333001b120c92c1374b61:-256775162,2dede06cd9833300f7c5d324a04f9580:-667974105,d65d642c5a8333007790ee42aafbe13e:1374794325,bd5c202c70833300bbe33f4fd639e248:-1652091640,66ea68a82083330097aa69506920a4aa:-794495733,92c960a80983330077138fe93c0c1675:1178341323,d749ac68c68333000fe8bf5691b02682:-1888033402,7b78a0e4ca8333005202be99926b1b31:26814277,1808a428f2833300a438f4850771e0cf:144568644,451720e49a8333003563b53f8b5b5a57:-415212842,c5f5a8a4a1833300582d7722fd32aa91:767023706,ca3320e0a18333003e520515059dc576:1420185273,23add86cfe4333003eaf5e3c18f1cf49:-943761637,cf1adca86d4333008fbbcbadcfc77e9c:-1780082796,590914a8fe43330068490d3fec9593db:-572292774,eda65c20344333009465c38caec51358:118887639,9786d8a8904333007fa4d25ee0e10520:-629948821,bf5654686f4333001435a784238e18fc:-1869026293,b255186839433300ba657f46c557d72b:-629948821,0cd1d8e4244333000b32bde46a52c14d:1301236780,0f1e8c20b6433300e4a9bc3d3f0b828c:-602461899,b54908ace803330016f383ee19dc288e:2012242688,ce7788a0240333002f934a4c815e86a6:-1051560787,927680e8d103330017dc4652a6468dad:-1172131484,83bbc430e34e7300dd322b4f4d862615:278180026,ca628078dd0e7300f4d844594f40c2ea:-1849395217,b4f42fec648a730015398c9fd8a4d701:-409167207,44c7ece06a0673000c9b6a4e4724f7ac:935551733,564dc58147f72300708c4516bd9d1bb3:-53385442,04b7c1492eb72300edb4b0193ee1234b:2014036025,ef262207c3c263007fcc814376034038:254048787,a806ea832fc263009d10fa4312b55b37:567451667,6975a683d1c263001de4bdc330bfea43:452437263,7f35825c0ac2e7005c2d86cd53384fa9:173677,d348225b4975e300e500c8868e4ffe6d:-1598747041,8de18a2118f9a30000c490e417014030:-1571805157,cc5d99c2b761230053aae2a85c06c821:2105357293,091d51c20a612300825eeef018c4ab91:-801241824,519c9182e1612300ab84d369a52a2bac:1089437388,bc5cd18242612300b99af0f6d2608462:1379740404,502c9182b8612300320c4250fe74a5a8:230639830,64fb19825d61230076445e9b2d0aa623:-1156355750,737b5582c26123004855d16d60305653:712421509,2e3b558233612300c5a94ced5053894e:-1262443102,57da11824d612300581219b80e388ba4:230639830,77ba5d42d8612300034cd260dcff5f3a:1497488720,a98a5542876123001d4b442d2e81ee2b:-426184920,c64a5942c361230012a8d4cbb29f73f1:-1330117081,dad95902316123004b0077fdd03ea28a:96328976,6d7911ceea212300b9a88849875a5787:-754852694,cdb855ce86212300475221c723c0c0f6:1133551318,702ed2c9892923002e231120fcac4eaf:-915913682,367d1249842923005376a2ab609b1626:-1516606480,6a5d1a89732923004b200f50b64d7302:-1854162367,582dd6892f2923006f327971b65f00fe:-557362201,bdac9649e1292300e5c355f6221371b0:-1016051050,06db5ac551292300a0e736544a931238:1861602566,b16bd6496e2923003c40b43c9762554d:-1639906781,ed5b1a09b42923007488408ddeb137b4:-1772945228,d9ba124975292300e062dc92cc35d01c:1880815359,a95a1e09382923004870cdfb059bec6c:1827460765,0b2ad2c5b4292300586be1465a2f02c6:-1434113969,a0e95ec5e229230026e632e6fcce5a6c:184193302,55f75e852a2923006f2f98af97d52314:779216116,6a079a45dc292300f4d593b82a41e6e1:-1174794557,e0a3960535292300d5b4b1eeba7b5545:1792136662,71831605d2292300af6fa3f1fa8435b7:-954244815,f33396c16a292300bf43bcc152b1715a:-51065841,7a139ac128292300cd2d0605f1925955:337397022,6fe216c16129230024bb298f18d3ce97:360547730,f08216c15a292300b8fd8fb53394957f:1023283536,37621e8160292300aef123431f85c272:-1829119090,95511a810c2923008bfb347aed594183:1495553716,60419e41742923007d3e7a69d433dd43:-1191904641,7160de41222923009f2f11cab31fc338:804491643,31926501eea523004675c06da6dbdc0b:-293067961,d339262c1ea12300be61c2d0faa8f308:-779070761,99886aa8e3a12300840251e549806148:-404606969,ba28e62844a12300fda72b97bd49731e:-416551907</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_properties_76b4b0f64f8f7300d8494ebf9310c76d</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Boolean Data validation list</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>x_nuta2_nutanix_ca.booleanValidationList</name><read_roles>x_nuta2_nutanix_ca.calm_admin</read_roles><suffix>booleanValidationList</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-08-07 10:50:30</sys_created_on><sys_id>76b4b0f64f8f7300d8494ebf9310c76d</sys_id><sys_mod_count>5</sys_mod_count><sys_name>x_nuta2_nutanix_ca.booleanValidationList</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_properties_76b4b0f64f8f7300d8494ebf9310c76d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-04-20 04:48:44</sys_updated_on><type>string</type><value>,associate_public_ip_address,use_managed_disks,use_custom_image,block_project_wide_ssh_key,drs_mode,disable_readiness_probe,hardware_clock_utc,</value><write_roles>x_nuta2_nutanix_ca.calm_admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=76b4b0f64f8f7300d8494ebf9310c76d"/></record_update>]]></payload>
<payload_hash>578641627</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3624eae4db711010eeb98087689619e8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1719656f4b20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.booleanValidationList</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>6ac207d5ee5c90108ff01e1ff7d5ea9b</update_guid>
<update_guid_history>6ac207d5ee5c90108ff01e1ff7d5ea9b:578641627,2b712bed86d3330055d1ce13f55e2e54:1907063045,d5095aa95113330062b0d3f457a27f95:873229007,4c753cf6c18f7300238d1d22d6dde77d:779129142,3b153cb6c68f7300739e780a616eb2f9:-1759426453,880574f61e8f7300d16e46b65d82377f:1451348918</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_d6716e92db1d230084249235ca96194b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_Import_Marketplace_Items&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_Import_Marketplace_Items&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_Import_Marketplace_Items = Class.create();
Nutanix_Import_Marketplace_Items.prototype = {
	initialize: function() {
		this.appUtil = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		this.pageBreaker = 5;
		this.version = gs.getProperty('x_nuta2_nutanix_ca.calm_version');
		//this.totalMPI = 0;
		//this.countPublishMPI = 0;
		
		this.activeMPI = [];		
	},
	
	
	_deactivateDeletedMPIandcatalogs: function(){
		
		try{
			this.logger.debug("Inside Nutanix_ImportBlueprints._deactivateDeletedBPandcatalogs");
			
			var queryString = 'stateANYTHING';
			

			for(var i in this.activeMPI)
				queryString += '^uuid!='+this.activeMPI[i];
							

			var inactiveMPISysID = [];
			
			var gr = new GlideRecord(this.appUtil.configuration.table.marketplaceItem+"");
			gr.addEncodedQuery(queryString);
			gr.query();		

			while(gr.next()){
				gr.state = 'inactive';
				gr.app_state = 'UNPUBLISHED';
				inactiveMPISysID.push(gr.update());
			}
			
			var inactiveCatItems = [];

			var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			catGr.addEncodedQuery('state!=inactive^state!=deleted^state!=draft^blueprintIN' + inactiveMPISysID.toString());
			catGr.query();
			
			while(catGr.next()){
				
				inactiveCatItems.push(catGr.item_name.name);
				
				catGr.state = 'inactive';
				catGr.update();				
			}
			this.logger.info("Deactivated " + catGr.getRowCount() + " catalog items (" + inactiveCatItems.toString() + ") as there MPI got into a Non-Active State.");
			
			
			
// 			var activeMPISysID = [];
			
// 			var gr = new GlideRecord(this.appUtil.configuration.table.marketplaceItem+"");
// 			gr.addEncodedQuery('uuidIN'+this.activeMPI.toString());
// 			gr.query();		

// 			while(gr.next()){
// 				activeMPISysID.push(gr.sys_id+'');
// 			}
			
// 			var reactiveCatItems = [];
			
// 			var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
// 			catGr.addEncodedQuery('state=inactive^blueprint.sys_idIN' + activeMPISysID.toString());
// 			catGr.query();

// 			while(catGr.next()){

// 				reactiveCatItems.push(catGr.item_name.name);

// 				catGr.state = 'active';
// 				catGr.update();				
// 			}
// 			this.logger.info("Re-activated " + catGr.getRowCount() + " catalog items (" + reactiveCatItems.toString() + ") as there MPI got into an Active State.");
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ImportBlueprints._deactivateDeletedBPandcatalogs. Error :- "+e);
		}		
	},
	
	
	
	startImportMPI : function(){
		try{
			this.logger.debug("Inside Nutanix_Import_Marketplace_Items.startImportMPI");
			
			var body = this.appUtil.generateRequestBody("startImportMPI", this.version, 0, 1);
			var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getMarketplaceItem+"", this.appUtil.stringify(body));
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				
				this.logger.info("Connection established to "+this.appUtil.configuration.api.getMarketplaceItem);
				
				var parsed = this.appUtil.parse(response.getBody());
				var records = parsed.metadata.total_matches;
				
				var pages = parseInt(records/this.pageBreaker);
				this.logger.debug("Number of MarketplaceItems JSON pages "+(pages+1));
				
				for(var i=0, k=0; i&lt;=pages; i++, k+=4) {
					
					var presetOffset;
					presetOffset = i+k;
					
					body = this.appUtil.generateRequestBody("importMPIData", this.version, presetOffset, this.pageBreaker);
					
					//this.appUtil.insertIntoQueue("importMPIData", "POST", this.appUtil.stringify(body), this.appUtil.configuration.api.getMarketplaceItem+"", 'Import marketplace items', 'This process invokes the import of MPI data.');
					var answer = {
						"method": "POST",
						"parameter": this.appUtil.stringify(body),
						"payload": this.appUtil.configuration.api.getMarketplaceItem+""
					};

					this.importMPIData(answer);					
				}
				
				this._deactivateDeletedMPIandcatalogs();								
				
			} else {
				
				this.logger.debug("Nutanix_Import_Marketplace_Items.startImportMPI :- Connection to /marketplace_items/list not established :- "+response.haveError()+" Status code:- "+response.getStatusCode());
			}
			
		} catch(e) {
			
			this.logger.debug("Nutanix_Import_Marketplace_Items.startImportMPI :- Exception caught during retrieval of MarketPlaceItem. Error :- "+e);
			this.logger.error("Exception caught during retrieval of MarketPlaceItem. Error :- "+e);
		}
	},
	
	importMPIData: function(current){
		
		try{
			this.logger.debug("Inside Nutanix_Import_Marketplace_Items.importMPIData");
			var response = this.appUtil.makeCalmApiCall(current.method+'', current.payload+'', current.parameter+'');
			
			this.logger.debug("Inside Nutanix_Import_Marketplace_Items.importMPIData :- "+current.parameter+" :- "+response.getStatusCode());
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				
				this.logger.info("Connection established to "+this.appUtil.configuration.api.getMarketplaceItem);
				
				var parsedJSON = this.appUtil.parse(response.getBody());
				var entities = parsedJSON.entities;
				
				this.logger.info("Number of imported MarketplaceItems:"+entities.length+"  "+current.parameter);
				
				for(var i=0; i&lt;entities.length; i++){
					
					var entity = entities[i];
					var entityUUID = entity.metadata.uuid+"";
					
					if(!this.appUtil.versionNewCheck()){
						
						var entityAppState = (entity.status.resources.app_state) ? entity.status.resources.app_state : "" ;
						if( entityAppState == "PUBLISHED" ) {
							
							this.activeMPI.push(entityUUID+'');
							
							var uuidResponse = this.appUtil.makeCalmApiCall('GET',  this.appUtil.configuration.api.getMarketplaceItemDetail+entityUUID, '');
							if(uuidResponse.getStatusCode() == '200' || uuidResponse.getStatusCode() == '201'){
								
								this.appUtil.insertIntoQueue("processImportMPIData", "", '', uuidResponse.getBody(), 'Process marketplace items', 'This job processes the imported MPI data.');
							}else{
								
								this.logger.debug("Nutanix_Import_Marketplace_Items.importMPIData :- Connection to /marketplace_items/uuid not established :- "+uuidResponse.haveError()+" Status code:- "+uuidResponse.getStatusCode());
							}
						}
					}else{
						
						this.activeMPI.push(entityUUID+'');
						
						var uuidResponse = this.appUtil.makeCalmApiCall('GET',  this.appUtil.configuration.api.getMarketplaceItemDetail+entityUUID, '');
						if(uuidResponse.getStatusCode() == '200' || uuidResponse.getStatusCode() == '201'){
							
							this.appUtil.insertIntoQueue("processImportMPIData", "", '', uuidResponse.getBody(), 'Process marketplace items', 'This job processes the imported MPI data.');
						}else {
							
							this.logger.debug("Nutanix_Import_Marketplace_Items.importMPIData :- Connection to /marketplace_items/uuid not established :- "+uuidResponse.haveError()+" Status code:- "+uuidResponse.getStatusCode());
						}
					}
				}
			} else {
				this.logger.debug("Nutanix_Import_Marketplace_Items.importMPIData :- Connection to /marketplace_items/list not established :- "+response.haveError()+" Status code:- "+response.getStatusCode());
			}
			
		} catch(e) {
			
			this.logger.debug("Nutanix_Import_Marketplace_Items.importMPIData :- Exception caught during retrieval of MarketPlaceItem. Error :- "+e);
			this.logger.error("Exception caught during retrieval of MarketPlaceItem. Error :- "+e);
		}
	},
	
	processImportMPIData: function(current){
		try{
			this.logger.debug("Inside Nutanix_Import_Marketplace_Items.processImportMPIData");
			var insertData = new GlideRecord(this.appUtil.configuration.table.stagingMarketplaceItem+"");
			insertData.initialize();
			var entity = this.appUtil.parse(current.payload);
			var status = entity.status;
			var resource = entity.status.resources;
			var metadata = entity.metadata;
			var field;
			//To insert status data
			for(var key in status){
				field = status[key];
				if( key!='resources' &amp;&amp; field)
					insertData[key] = (field.constructor === Object || field.constructor === Array ) ? JSON.stringify(field) : field+'';
			}
			//To insert resources data
			for(var key in resource){
				field = resource[key];
				if(field)
					insertData[key] = (field.constructor === Object || field.constructor === Array ) ? JSON.stringify(field) : field+'';
			}
			//To insert metadata
			for(var key in metadata){
				field = metadata[key];
				if(field)
					insertData[key] = (field.constructor === Object || field.constructor === Array ) ? JSON.stringify(field) : field+'';
			}
			insertData.insert();
			//this.countPublishMPI++;
		}
		catch(e){
			this.logger.debug("Nutanix_Import_Marketplace_Items.processImportMPIData :- Exception caught during processing of MarketPlaceItem. Error :- "+e);
			this.logger.error("Exception caught during processing of MarketPlaceItem. Error :- "+e);
		}
	},
	
	processingIcon : function(current){
		// This is where we'll save the attachment
		try{
			this.logger.debug("Inside Nutanix_Import_Marketplace_Items.ProcessingIcon");
			var tablename   = 'sc_cat_item';
			var recordSysId = current.parameter+"";
			var filename    = 'picture';
			var iconReference = this.appUtil.parse(current.payload);
			
			for(var i in iconReference){
				var icon = iconReference[i];
				var iconUUID = icon.icon_reference.uuid+'';
				
				this.logger.debug("Importing of MPI Icon API:- "+this.appUtil.configuration.api.getIcon+iconUUID+"");
				
				// Let's download the icon
				var response = this.appUtil.makeCalmApiCallForIcon('GET',this.appUtil.configuration.api.getIcon+iconUUID+"" , "" , recordSysId);
				// Configure the request to save the response as an attachment
				var httpResponseStatus = response.getStatusCode();
				var httpResponseContentType = response.getHeader('Content-Type');
				var newAttachmentSysId = response.getResponseAttachmentSysid();
				this.logger.debug("Image http response UUID :- "+iconUUID+" SysID: " + newAttachmentSysId);
				this.logger.debug("Image http response content-type :- " + httpResponseContentType);
				
			}
		}
		catch(e){
			this.logger.debug("Nutanix_Import_Marketplace_Items.ProcessingIcon :- Exception caught during processing of MarketPlaceItem Icon. Error :- "+e);
			this.logger.error("Exception caught during processing of MarketPlaceItem Icon. Error :- "+e);
		}
	},
	type: 'Nutanix_Import_Marketplace_Items'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-24 10:38:03&lt;/sys_created_on&gt;&lt;sys_id&gt;d6716e92db1d230084249235ca96194b&lt;/sys_id&gt;&lt;sys_mod_count&gt;87&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_Import_Marketplace_Items&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_d6716e92db1d230084249235ca96194b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-21 07:29:59&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>1227642739</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3624eae4db711010eeb98087689619eb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171ac34b1c40000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_Import_Marketplace_Items</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>06413c3973985010d418b910d8a25730</update_guid>
<update_guid_history>06413c3973985010d418b910d8a25730:1227642739,d5a86baa6bbfb300da6aa5fc0b41a328:635792340,33dcb266903fb300980c23b05b1c3a5b:197563629,e26bb8a6e2b7b300dbb30d97f048f9b7:-1573530745,6635545dc67b3300ebbd3b83cd0e6685:-495851812,c54b6a741fe33300a01b2a5e473ce7d3:-495613268,44c86634fce33300b9b8c6d0826aec9e:-339166938,f9215ab41c6333008cc7715705d6157c:-781544157,7c9e6227bb503300af1d57f302f04fa0:155665790,47d0055ab5103300a1e35ef0d2438e4d:-781011217,f3708d1a4e103300984cfa22fd340618:-1984397745,001e179c1426630057d86ac8fcbf4e01:1661744463,3e4fcb5c12e26300c81089796fd24cce:-876057425,d09ac758f7e26300a75d99ff68f5456a:-664008815,b73cbe589a626300e6565eded6edabf1:-1124843258,39e4f2c84ce6230028b947a74afc8986:-1937532303,68f2bac4d6e6230064cce8e82fc5d143:1332059089,9402fe4452e6230073bd7499d5f80bcc:1928825702,1a01b284afe62300ebd222e3db799506:1791111289,5680ba44c9e623008d98e42454886d8a:697265924,9d00bec08fe62300258256347ce509cf:805458775,eabf2e0470e6230021f1afd9643236fa:-2125711073,987e6a40c8e62300765925784aa8139d:1504806841,e2dd668057e623000b45a8e5c416e797:-1579535187,37f16ecc2f6623006df7c90fff2e6ee1:-1129655418,aea2c94c612223005382557ae6f52527:-1908769118,9c3b0b2fc2bd270098d0d4b2bf87222e:149047544,9d3a0ed3be35e30064c6d9d7c753f3f5:357853020,0dd252cf4879a3005c9c32e028814726:-2055069640,1af8650b2df5a300cd198d64f65e8353:1063591377,6835290312f5a3003a0243e005dac998:-1807384079,eda6a628b2a1230086d0a13d4c67c1db:-788671364,b69562a49da123006a03c2f3f64d1ef8:-519186186,b7e4266452a12300b0b461f9afc7956c:-1795928127,63c4ee24eda12300a7d4c22ebb646ede:591043538,8fa226a04ba12300173011bd79fa8a15:-1631642585,5dc0eaecb9612300f85e09e47a04da57:939840993,3b47c22c2b212300447fec79e0ca45ae:-1249116281,a06ead9039696300994cdf14b6164b28:-857447867,4249951c9ae5630024046600dc4f89a4:-1531680409,a6a29554fee56300ed65199164f5805c:-1863571168,ff96bc58df6563000656dd79436b0614:1446330221,22363098f86563005c686b8a9d908512:553455208,dde57c58ae65630085dbd42d82ab1bb9:-1836125943,ed75b018696563006c2eaa57c2cd0472:69260202,a473301879656300e568215f5025a028:-1107103829,a15370940e656300fc985559853f06d6:699141995,e0617c946b656300a8dc58391f8972c4:-367177711,3580741450656300fa646b374bddf20c:979244361,33ce28147b65630036a4cb2e8f7ff666:-1549116994,ea7ea014ae656300b3d9730f86ba6bb9:267508093,210e24d0e7656300a67e19367cd59c7b:1038052852,fd8d6490b5656300d610e287aa55a0e6:2037601624,1cf6c200fcad2300c56e9aa0c60ba70c:-2022376170,3120950c43e923002cd6b73fc6b14682:-1352185508,db4b418879e923008f2ea191aa4a5916:2129856363,9db885848be92300798a692e3bf79d81:500220746,e4292c4c4d6923001e561179355dc739:696784563,7d78284cf969230023f5709700dbde0e:-783040084,d887544c8a2923007fcdb5af6d9d16ef:1301261902,83f5d8885e29230086af46fb42fc4281:277199414,a8ec0804c2292300d490d118652346f5:314751514,99dc8444cc29230029673d911bc71b79:153997389,cdba48409b292300aea72a7f70af3351:-574496426,e415c0002e2923002172aee491cc6d98:-1729569624,e75440cc7be52300ec5eb02122aa422c:739815259,3cf3cccc16e5230064b61bc348673637:292300431,8d2380ccdbe52300778a4bf8881c82db:1033970185,fa124c8cf7e5230026c4618ad2526f8d:999120484,4b9273770dd52300bb3208257428ff22:-1283083223,fa937d4b6a91230063db192714334c60:-1646167933,aec31d32d295230093df7bbc6a4fcabe:-751806139,1167497a72552300b64fa6ebbf875df8:-1588432946,4ae4813a0f552300a70278bc0c89ca4c:-651429731,d2d4413a5b55230009a75c032b30d1b7:-100003557,b44c543a86d12300fbe175409d898610:-259156387,23ad6352eedd2300ea6a2f28b14411c2:522952846,7b9d2b1266dd2300d6b6fa805f9f076a:-1141339959,066dab12f6dd2300dc8f6c8592cda971:-1469943360,dceb6bde759d230085db11fec3e5a6e0:139418675,895a6b9ef19d23001aa657143d085a2f:1793628831,ae89af5ec29d23004796d9e18ab92b54:-1610148836,8108a35e3a9d230031255a1e1e073dd3:426251632,a947e71e189d230008a0e1fa10401203:1596200958,2ef2679ac29d2300a86b28ad39f1a9f4:1329333678,bf51671a4c9d2300affeab11cd3ad734:-691601237,290c0b9ac55d230062b77f0c0b3e59db:-443197333,d37acb1a0e5d230067ebc5fec64ae6eb:974472907,5bd13a1ea41d2300441ef721bd8cf27b:-1270126825</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_f44338594f9233008373224f9310c74b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#confirmAct').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	
	$j('#confirmAct').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_restore_sys_id").value + "";
	var snapshot_uuid = gel("snapshot_uuid").value + "";
	
	var delete_vm_check = $j('#delete_vm_restore').is(":checked").toString();
	var json_var = [{"name":"snapshot_id","value": snapshot_uuid},{"name":"delete_vm_post_restore","value": delete_vm_check}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideDialogWindow.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_restore.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_restore_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_restore");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_restore_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_restore_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_restore_sys_id" id="action_snapshot_restore_sys_id" value="${JS:action_snapshot_restore_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;div&gt;
		&lt;label style="margin-bottom: 10px;" class="control-label"&gt;&lt;b&gt;Restore will create a new VM from the selected snapshot. The existing VM will move to power off state.&lt;/b&gt;&lt;/label&gt;
		&lt;div class="form-group"&gt;
			&lt;span class="input-group-checkbox"&gt;
				&lt;input id="delete_vm_restore" class="checkbox" type="checkbox" value="false"/&gt;
				&lt;label for="delete_vm_restore" class="checkbox-label" id="delete_vm_restore_label"&gt;Delete existing VM after restore&lt;/label&gt;
			&lt;/span&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;div class="modal-footer"&gt;
		&lt;div class="row"&gt;
			&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
				&lt;button class="btn btn-primary" id="confirmAct"&gt;Confirm&lt;/button&gt;
				&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;style&gt;
		input[type="checkbox"]  {
		margin: auto 4px 3px auto;
		}
	&lt;/style&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_restore&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-26 12:05:08&lt;/sys_created_on&gt;&lt;sys_id&gt;f44338594f9233008373224f9310c74b&lt;/sys_id&gt;&lt;sys_mod_count&gt;75&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_restore&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_f44338594f9233008373224f9310c74b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:13:13&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>1614616972</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>3624eee4db711010eeb9808768961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b3456c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_restore</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>24d92b9672909410c653d0e0b92fd266</update_guid>
<update_guid_history>24d92b9672909410c653d0e0b92fd266:1614616972,389ac3c6e4581410576f53db3e7c50a6:515592236,341ddb890f6ac01029aa0323d9a3aa1b:-1108158309,7da89745d76ac01084f32ea4015857eb:2141369813,f585164d2f66c0109cc71e24ba5b3e62:1480008470,357308d4626a001073a5716ff21cf05c:713249248,2da1eccc6e1a84505c695ea170c39a0b:863744216,42bc4b4bc17d4810ebaabaf03daa9771:-170030112,502b4f0b2a7d48107bca418b0d1dc374:555189749,19990bc7867d4810063bc8d014c44cc8:1787598028,6d96cf07267d4810cdb8ddc72f133cee:-494418091,9e164f07fa7d48107c1b285b43fd9bc2:1784317059,cd150bc3ad7d481073d5b87bf27daffc:1376083265,b2844f83957d4810f8d6f9363a68ff8b:-1012705479,678d603afd11801071ed88c629f9aa8d:357543809,303df6a38ab48c50ba1d23dfe7151ad5:2026274043,4a98c4cc7df1041009a8466df73ddf70:1196096353,70113b3f94a104103cde55cd7a59acf4:-1338345438,86c0f73b3aa10410d416511a90e4f88c:-1494670559,4bd10b74c95948102424a0ee68abf783:621503372,59fd8f9e026337009b02fd77c2de5be3:-2004733690,822e51edf4af730066df49da7966e380:-2033822458,43df1fd137af3300db92051dda2d5dd1:-2094096854,4a6ee7c15f273300f5bfed0c6b095a5a:151243171,39da2aaffc1f7300bfd1c08b02644e43:885887907,54edd267871f73005b06994e5470a3e9:-85115970,8bbd92671a1f73006d18f0a11eb4eded:-426418566,62ff61a3449b730057a7464e35173918:-166197730,804bd527485b730027f572204f56914e:905410101,62b6196f671b7300e9ec97d832e44677:644622936,39b294bbe5e233000810ea108524b614:1588071551,6072d83b04e23300713c8e3dc7956100:558496679,752250f7ebe23300a669b5d52a909c55:1440688961,2562fd17a42233004878f70d00acbbcf:889809865,a73f939a15e233003d45c72610cd1a6b:376433960,070f9b9a02e23300d951146f4ede49a5:-1671787729,81aed71aa7e23300be7e7959d6ecb65b:117640188,0e2edf5a1de2330082d90c7c3451db5a:1961596829,adddd71a9be233005b7885e7d2972856:1896111204,e29d1f5ad1e233004cce825967acb6c1:-1939270841,e04d5b5a54e233007471fb238bdbbdbd:-477781189,111d57d61be23300ec34a0d70b70173d:88598182,70da97d684e23300c745dfbe880deec0:-2037161611,01c7df56f6e23300ff74397c1e98650d:531915467,eb971f561be23300c1b268d6d44b4d00:-2129869999,87671fd2fee23300478427f02e060f18:-1280347514,81e6931665e233000687d4b143526fff:265454236,99a69316fae23300d54a0c39c90b90fb:-1646193878,cd96171639e23300f6ce86a01e71f9b0:1142327962,ad661fd23ee233003e628f3509c0b673:1965171664,f605171676e233003506bba4873c45c8:-190383892,45f417169be233003438bb93a96771ac:-1136839674,17b49f92b9e23300095a60c28241b795:-1278142872,2da41fd20de23300b0dc6cc51882b56e:1006543820,91445f1e48a2330041f293935a4e5f4b:-1973240625,47f297de32a23300960ae90707deb852:-1760265836,f8b293de74a23300298d5c4472c93bc7:1185733146,1aa193de30a2330051d2441195630cc3:417898594,9c71179e6aa233004a5a0ecfd0bbae9b:439001954,354113929be23300a277830d485e2fab:-10785206,f0ddcfde9ca2330050dfa78c98b978af:1494313106,44cd8fda2aa23300cd7473918e8e44aa:715725280,452dc79e49a233006fa6386201308382:-474637094,9b8c4f1ed2a23300b0b16edebe0bca43:1348666650,c15c079e20a2330098e85ffa8c6ecd8a:893466080,504c079e5ba233005fed70e580ee0086:315000754,7cbb8b5ee4a23300e46b098c2f137db9:759349758,f8ab0b5e28a2330026f54a8d6cd25d0d:315000754,543b83da8fa2330007e5fcfde242ccdc:-442428778,ccfa0b5e02a23300d528ecf5b4ccb208:-831630716,7fd9471ee4a233006dd9f470c2907ef8:-442428778,42c98bda66a23300c80527daba609fc7:-528486304,fd9983daf9a23300952ad02b90c08bd5:1928947513,6bf8cbda2ba233005c8a495b9a0c0811:2063000590,d4e8431e4ea23300f27433f7f44eb451:1980205041,04c88bda21a233005dd73d3b2f7bdac1:-1694861715,629883da95a233001e01f48cb610d399:-2003971609,e24843daa4a23300ea5bf5d6aaca9c30:-172809178,1cf78bda83a23300f9affc44344eb2bd:1082233562,a7d60b9a95a2330018099f497862b472:-3111161,ca96cb1ad8a2330037434a6d3f9904e5:1793110629,e343f059a7923300d5fbc73c67ed922a:1660606088</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sysevent_script_action_d3e14cff07378c10c4dcf6fd7c1ed0e4</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sysevent_script_action"&gt;&lt;sysevent_script_action action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;condition_script/&gt;&lt;description/&gt;&lt;event_name&gt;x_nuta2_nutanix_ca.refresh_token&lt;/event_name&gt;&lt;name&gt;Script_act_acope&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[new Nutanix_Calm_Utils()._getApiToken();]]&gt;&lt;/script&gt;&lt;synchronous&gt;false&lt;/synchronous&gt;&lt;sys_class_name&gt;sysevent_script_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-02 12:40:02&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d3e14cff07378c10c4dcf6fd7c1ed0e4&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;Script_act_acope&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sysevent_script_action_d3e14cff07378c10c4dcf6fd7c1ed0e4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-07 12:27:42&lt;/sys_updated_on&gt;&lt;/sysevent_script_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1346922507</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3a24eae4db711010eeb98087689619e7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171828008290000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca.refresh_token</table>
<target_name>Script_act_acope</target_name>
<type>Script Action</type>
<update_domain>global</update_domain>
<update_guid>fe2f2dd524c49450ad6565b9d4183b9a</update_guid>
<update_guid_history>fe2f2dd524c49450ad6565b9d4183b9a:-1346922507,ac8a20bf8b3b8c101184e8fab9bbdb0c:-1717072180,7439683b7c3b8c107362d12e481a5b4e:-1346922507,b07600bb21778c10481fcca05801c3ae:1128964738,c536c07be9778c10763e21ece930d7a1:-721166891,22f40c77aa778c1091807effea60f011:299691454,383444f396778c10eecf9923ce609228:-748291985,1d03c0f35f778c10bf7ad57d915969f3:-390739906,ea024cff19378c10b989494ea5ba50e9:-724466723</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_a2e91eb5db81230084249235ca9619eb</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_ImportProjects&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_ImportProjects&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_ImportProjects = Class.create();
Nutanix_ImportProjects.prototype = {
    initialize: function() {
        this.appUtil = new Nutanix_Calm_Utils();
        this.logger = new Nutanix_Calm_Logger();
        this.pageBreaker = 20;
        this.activeProject = [];
    },

    _deactivateDeletedProject: function() {
        try {
            this.logger.debug("Inside Nutanix_Importproject._deactivateDeletedProject");

            var activeProjectQuery = 'state=COMPLETE';

            for (var i in this.activeProject) {
                activeProjectQuery += '^uuid!=' + this.activeProject[i];
            }

            var inactiveProjectSysID = [];

            var project = new GlideRecord(this.appUtil.configuration.table.Project + "");
            project.addEncodedQuery(activeProjectQuery);
            project.query();

            while (project.next()) {
                project.state = 'INACTIVE';
                inactiveProjectSysID.push(project.update());
            }

            var inactiveCatItems = [];

            var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig + '');
            catGr.addEncodedQuery('state!=inactive^state!=deleted^projectIN' + inactiveProjectSysID.toString());
            catGr.query();

            while (catGr.next()) {

                inactiveCatItems.push(catGr.item_name.name);

                catGr.state = 'inactive';
                catGr.update();
            }

        } catch (e) {
            this.logger.error("Exception caught inside Nutanix_ImportBlueprints._deactivateDeletedBPandcatalogs. Error :- " + e);
        }
    },

    _multiPCSubnet: function(accounts) {
        try {
			this.logger.debug("Inside Nutanix_ImportProjects._multiPCSubnet");
            for (var account in accounts) {
                var body = {
                    "entity_type": "virtual_network",
                    "group_member_attributes": [{
                            "attribute": "name"
                        },
                        {
                            "attribute": "cluster_uuid"
                        },
                        {
                            "attribute": "cluster_name"
                        },
                        {
                            "attribute": "vlan_id"
                        }
                    ],
                    "filter_criteria": "account_uuid==" + accounts[account],
                    "group_member_offset": 0,
                    "group_member_count": 100
                };
                var response = this.appUtil.makeCalmApiCall("POST", "/nutanix/v1/groups/list", this.appUtil.stringify(body));
                if (response.getStatusCode() == '200' || response.getStatusCode() == '201') {
                    var parsedJSON = this.appUtil.parse(response.getBody());
                    var total_entity = parseInt(parsedJSON.total_entity_count);
                    for (var i = 0; i &lt; total_entity; i++) {
                        var data = parsedJSON.group_results[0].entity_results[i].data;
                        var cluster_uuid = '';
                        var cluster_name = '';
                        var subnetName = '';
                        var subnetUUID = JSON.stringify(parsedJSON.group_results[0].entity_results[i].entity_id);
                        for (var j in data) {
                            if (data[j].name == 'cluster_uuid') {
                                cluster_uuid = JSON.stringify(data[j].values[0].values[0]);
                            }
                            if (data[j].name == 'cluster_name') {
                                cluster_name = JSON.stringify(data[j].values[0].values[0]);
                            }
                            if (data[j].name == 'name') {
                                subnetName = JSON.stringify(data[j].values[0].values[0]);
                            }
                        }

                        this.logger.debug('Nutanix_ImportProjects._multiPCSubnet i ' + i + 'subnetUUID ' + subnetUUID + ' subnetName ' + subnetName + ' cluster_uuid ' + cluster_uuid + ' cluster_name ' + cluster_name);
                        var grSubnet = new GlideRecord(this.appUtil.configuration.table.subnet);
                        grSubnet.addEncodedQuery('uuid=' + JSON.parse(subnetUUID));
                        grSubnet.query();
                        if (grSubnet.next()) {
                            grSubnet.name = JSON.parse(subnetName);
                            grSubnet.cluster_name = JSON.parse(cluster_name);
                            grSubnet.cluster_uuid = JSON.parse(cluster_uuid);
                            grSubnet.update();
                        } else {
                            grSubnet.initialize();
                            grSubnet.name = JSON.parse(subnetName);
                            grSubnet.uuid = JSON.parse(subnetUUID);
                            grSubnet.cluster_name = JSON.parse(cluster_name);
                            grSubnet.cluster_uuid = JSON.parse(cluster_uuid);
                            grSubnet.insert();
                        }
                    }
                }
            }
        } catch (e) {
            this.logger.debug("Nutanix_ImportProjects._multiPCSubnet :- Exception caught during retrieval of projects. Error: " + e);
        }
    },

    startImportProjects: function() {
        try {
            this.logger.debug("Inside Nutanix_ImportProjects.startImportProjects");
            var body = {
                "kind": "project",
                "offset": 0,
                "length": 1
            };
            var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getProjectList + "", this.appUtil.stringify(body));
            if (response.getStatusCode() == '200' || response.getStatusCode() == '201') {
                this.logger.info("Connection established to " + this.appUtil.configuration.api.getProjectList);
                var parsed = this.appUtil.parse(response.getBody());
                var records = parsed.metadata.total_matches;
                var pages = parseInt(records / this.pageBreaker);
                this.logger.debug("Number of Project JSON pages " + (pages + 1));
                for (var i = 0, k = 0; i &lt;= pages; i++, k += 19) {
                    body = {
                        "kind": "project",
                        "offset": i + k,
                        "length": this.pageBreaker
                    };
                    this.logger.debug("Call number to importProjectData:" + (i + 1));
                    //this.appUtil.insertIntoQueue("importProjectData", "POST", this.appUtil.stringify(body), this.appUtil.configuration.api.getProjectList+"", 'Import project data', 'This process invokes the import of project data.');
                    var answer = {
                        "method": "POST",
                        "parameter": this.appUtil.stringify(body),
                        "payload": this.appUtil.configuration.api.getProjectList + ""
                    };
                    this.importProjectData(answer);
                }
                this.logger.info("Completed importing and processing of Projects.");
                this._deactivateDeletedProject();
            } else {
                this.logger.debug("Nutanix_ImportProjects.startImportProjects :- Connection to projects/list not established :- " + response.haveError() + " Status code :- " + response.getStatusCode());
            }
        } catch (e) {
            this.logger.debug("Nutanix_ImportProjects.startImportProjects :- Exception caught during retrieval of projects. Error: " + e);
            this.logger.error("Exception caught during retrieval of projects. Error: " + e);
        }
    },

    importProjectData: function(current) {
        try {
            this.logger.debug("Inside Nutanix_ImportProjects.importProjectData");
            var response = this.appUtil.makeCalmApiCall(current.method + '', current.payload + '', current.parameter + '');
            if (response.getStatusCode() == '200' || response.getStatusCode() == '201') {
                var parsedJSON = this.appUtil.parse(response.getBody());
                var entities = parsedJSON.entities;
                this.logger.info("Number of imported Project:" + entities.length);
                for (var i = 0; i &lt; entities.length; i++) {
                    var entity = entities[i];
                    var metadata = entity.metadata;
                    var uuid = metadata.uuid;
                    this.activeProject.push(uuid + '');
                    this.appUtil.insertIntoQueue("processImportProjectData", "", '', this.appUtil.stringify(entity), 'Process project data', 'This job processes the imported project data.');
                }
            } else {
                this.logger.debug("Nutanix_ImportProjects.importProjectData :- Connection projects/list not established :- " + response.haveError() + " Status code :- " + response.getStatusCode());
            }
        } catch (e) {
            this.logger.debug("Nutanix_ImportProjects.importProjectData :- Exception caught during retrieval of projects. Error:- " + e);
            this.logger.error("Exception caught during retrieval of projects. Error :- " + e);
        }
    },

    processImportProjectData: function(current) {
        try {
            this.logger.debug("Inside Nutanix_ImportProjects.processImportProjectData");
            var accounts = [];
            var insertData = new GlideRecord(this.appUtil.configuration.table.stagingProject + "");
            var entity = this.appUtil.parse(current.payload);
            var status = entity.status;
            var resource = entity.status.resources;
            var metadata = entity.metadata;
            var spec_resources = entity.spec.resources;
            insertData.initialize();
            var field;
            //To insert status data
            for (var key in status) {
                field = status[key];
                if (key != 'resources')
                    insertData[key] = (field.constructor === Object || field.constructor === Array) ? JSON.stringify(field) : field + '';
            }
            //To insert resources data
            for (var key in resource) {
                field = resource[key];
                insertData[key] = (field.constructor === Object || field.constructor === Array) ? JSON.stringify(field) : field + '';
                if (key + '' == 'account_reference_list') {
                    for (var i in field) {
                        accounts.push(field[i].uuid);
                    }
                }
            }
            this._multiPCSubnet(accounts);
            //To insert metadata
            for (var key in metadata) {
                field = metadata[key];
                insertData[key] = (field.constructor === Object || field.constructor === Array) ? JSON.stringify(field) : field + '';
            }
            //To insert external_network_list
            for (var key in spec_resources) {
                if (key + '' == 'external_network_list') {
                    field = spec_resources[key];
                    insertData[key] = (field.constructor === Object || field.constructor === Array) ? JSON.stringify(field) : field + '';
                }
            }
            insertData.insert();
        } catch (e) {
            this.logger.debug("Nutanix_ImportProjects.processImportProjectData :- Exception caught during retrieval of projects. Error :- " + e);
            this.logger.error("Exception caught during retrieval of projects. Error :- " + e);
        }
    },
    MapCatItemToProject: function(current) {
        try {
            var rel = new GlideRecord(this.appUtil.configuration.table.catalogProjectRelation + "");
            rel.addQuery('catalog_item', (current.parameter + "").split(',')[0]);
            rel.deleteMultiple();

            var gr = new GlideRecord(this.appUtil.configuration.table.Project + "");
            gr.addQuery('state', 'COMPLETE');
            var obj = {};
            gr.query();
            while (gr.next()) {
                obj[gr.uuid + ""] = gr.sys_id + "";
            }
            var projectList = JSON.parse(current.payload + '');

            if (projectList.constructor === Object)
                projectList = JSON.parse('[' + current.payload + ']');

            var activeProjectList = [];

            var relGR = new GlideRecord(this.appUtil.configuration.table.catalogProjectRelation + "");

            for (var i in projectList) {
                var proj = projectList[i];

                relGR.initialize();
                relGR.catalog_item = (current.parameter + "").split(',')[0];
                relGR.version = (current.parameter + "").split(',')[1];
                relGR.projects = obj[proj.uuid + ''] + "";
                relGR.insert();

                activeProjectList.push(obj[proj.uuid + ''] + '');
            }

            var inactiveCatItems = [];
            var queryString = 'state!=inactive^state!=deleted^state!=draft^blueprintIN' + (current.parameter + "").split(',')[0];


            for (var i in activeProjectList)
                queryString = queryString + '^project!=' + activeProjectList[i];

            var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig + '');
            catGr.addEncodedQuery(queryString);
            catGr.query();

            while (catGr.next()) {

                inactiveCatItems.push(catGr.item_name.name);

                catGr.state = 'inactive';
                catGr.update();
            }
            this.logger.info("Deactivated " + catGr.getRowCount() + " catalog items (" + inactiveCatItems.toString() + ") as there Projects got removed.");

            var reactiveCatItems = [];

            var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig + '');
            catGr.addEncodedQuery('item_name.category=88bfbad237512300fdfc097973990e06^state=inactive^blueprint=' + (current.parameter + "").split(',')[0] + '^projectIN' + activeProjectList.toString());
            catGr.query();

            while (catGr.next()) {

                reactiveCatItems.push(catGr.item_name.name);

                catGr.state = 'active';
                catGr.update();
            }
            this.logger.info("Re-activated " + catGr.getRowCount() + " catalog items (" + reactiveCatItems.toString() + ") as project got re-attached.");
        } catch (e) {
            this.logger.error("Exception caught while mapping Catalog Item to Project. Error :- " + e);
        }
    },


    type: 'Nutanix_ImportProjects'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-10 09:48:23&lt;/sys_created_on&gt;&lt;sys_id&gt;a2e91eb5db81230084249235ca9619eb&lt;/sys_id&gt;&lt;sys_mod_count&gt;203&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_ImportProjects&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_a2e91eb5db81230084249235ca9619eb&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-19 15:45:16&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-830609621</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3a24eae4db711010eeb98087689619ea</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1719642fe7f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_ImportProjects</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>a97f4c9514dcd45006fa62ab5b401607</update_guid>
<update_guid_history>a97f4c9514dcd45006fa62ab5b401607:-830609621,5d204feb84ffc410ce70c23e1be043f9:1686173448,e0008f6fefffc410d516654b2c3eaf5e:174605224,7c0029576733c410a714cfe7daad7063:123522526,eb1f1557db33c410c772307e49dd6f70:1650366142,30c15d533afb8410929104ac58feecf1:1686173448,f36ee36aab7b04103e6f6b88cd6ebe30:-653508665,6cfd6fa6657b041044aedb2c9d0d6ce8:-104945505,c07d27e6aa7b0410dea79edcbfc66666:-1729623294,2c856f6a123b041036187d2d813af79d:-759749974,c6f3272a023b041028567d9629c1e160:-1164256382,097227a6a63b0410cc361d64b81865b1:1421136484,edd1a3e6a23b041011a7b3bbad8166e3:905934808,cd6127a6113b0410e8adae1a817b1576:-645338272,ac9b0f62547704103ad81efc18ea1e95:-2065596619,88d8cb269ef7041038166b0d84480d38:-1077731431,23e4b6a225b304104e878360f4ebf5fc:-91888171,6bf23eaee2730410c9d420e125621f81:-536957611,70527aee8f730410ca98cb38c267aac9:-1618689029,958132ee517304106d2c3e59b08ec7e5:-546761657,9ee0726e4073041049e942c141135a5a:-783697127,43ffa26ea2730410a46b6ceda3b3e9d4:1305042406,49df226ebf7304100b0d415d06df21f9:-439390770,5abde2ea34730410e0ef36f8114ece03:1132284689,59dc6e6af87304102d57a721df3461b8:124021297,f09c62e6357304101c05c1f2db0b867c:-336431585,ceebaa2a4d7304102d7eb0dbd833b27c:830951367,df8b62e63a730410b68a60fd40d56e00:940152231,4b4aae6612730410e469a78000b9c685:2036286942,07696e628473041042418d0177ea9b0a:-121634699,04192ee2497304108df89b6d813e4ff3:-111538780,5d98e2222b73041000cc137018331601:-492152070,2dc7262e20330410d71699561ce71727:853055178,7267e222527304104a4e275eeab87a0f:2038065505,3027626e1c3304101cf2f60f11827b85:-392436231,07c6626ebe3304103c02a477b11cd859:2014899058,4196662e2e330410605b1c381f7f6b8d:1435618448,56062aaa593304104a1e8373616241a3:-1645536868,45b5e6aa9233041023a0db4b04f12889:535087941,ecc2a2aae23304104948741e70f38203:1195921425,68526e2a29330410827aa5d48206f891:-147719049,83a1eaa6973304107ba9f70bca8d7b96:1990873767,6761aa2a803304100bcab8904a3fb3e2:-547057187,a4b0a66696330410ac9aef0b81e8964c:-807482839,66afd2666d330410c2e447045af0988a:1938147104,5ec7a0aad2fbc010347fd27f8e84dab6:504451516,7eb664aaf9fbc0103df82bfefac9b7fe:642837361,cb76ece611fbc010cc9294805f63d243:-92577671,6206646a34fbc010a9971f6c5042560e:1735944323,8cb5e0a6c4fbc0104518bf04b15c3f17:-799913196,03f4e0a6c0fbc010e11230d44d71a30f:891968509,2094a8a28efbc01020188148d59648d0:-1036820167,6f73682626fbc010aaa3c564f39150ed:-1704147116,7133a8a268fbc0106251b89a39394d97:1613522754,558168a29bfbc0100e087ba380141eba:1794178698,88e0686221fbc0107b57715df0e1a027:-2144086966,0b10686ee6bbc0109c0ab6279f73ac74:525934980,069f9c6e8ebbc01013126a9f2abab6a6:-1725273328,962fd46e8bbbc010e0a594698eb100be:2019135640,f2ee5cea9bbbc0100c5e19bb212e335e:1217581896,24be5c2ef2bbc010ed64b84c4e8b81dd:-1943453595,587ed0ea7bbbc010e2b0220dcdaaee27:-223338233,450e98aa27bbc01085e471f3326e84e9:1101871827,865dd4aafdbbc010e9dee5587665d50f:-981093758,ac1d1c6ae9bbc010641d75ed66824aaa:2094057616,a1ccd86a9dbbc010b005cd5cc990e889:-1919401167,807c1c665ebbc010708d3e77a3d0ab95:-513685619,ba1c9c26cabbc0106eb3b8022a0f633d:-1851823251,bbfb5026c4bbc0103f943246041c2e2f:-502379699,33d71c66d1bbc0102e62ab167ba6d18d:2001874981,eb67d4ee117bc0103cb0cf1aa47a2789:624763287,8f175026b2bbc01095819021fa54080c:1069334681,23c610e2f7bbc0106bfa94a3f6558dd7:-552487751,c0e5dc2252bbc0106aaca2db428efc52:-577404957,e78414eedd7bc010c5a31c91d85f5d1d:1082594806,53a2506ed87bc010203089e6d6d3e64a:-1323821735,6a22586eb17bc01019da4e04f9e0324d:-1520002951,19d194ea0a7bc010da359b1fb8745a09:-1904918345,b291dcaa5f7bc010b7c72cff68ae8f64:882264811,f34014a6877bc01053a589392cd4c5e6:351778937,41af0caae67bc0105d362e189a8fecaf:577250137,ab6e84e69d7bc010d8ec8f85132bc132:-1480146652,f6680c26cc7bc01007e8e64c725a920d:1464229858,ae38c422b37bc010041e34e470b2039d:979785196,37b740e21a7bc010d7f2bd200b066155:1194381775,78050022e07bc0104f0c852bf2d76961:1480162114,70844022387bc0108cae099cd9c2cf28:-420547934,14548c6ea33bc01094ecc6b456c793a5:1747065713,59918c6ec93bc010e5132e7c55c0b5c6:-588090877,ca41002e553bc010c9afea68a0502789:641380830,d311042e4f3bc010986fc029b38b86ab:-397288623,5d800cea113bc0102fbe011068d33b03:126538918,ad5088ea8b3bc0103e776487e0d81574:1037063697,8d204c6a1a3bc010b268b3b8e50dac8f:-1222507471,c1df775a9e3bc0107b2359e637900767:237971304,643fb71ae73bc01039d2e99d0e72150b:-1506022374,76ee7f5a063bc010557e7a93d8989f87:1700000585,5f9eff96303bc0101d4421ca3e56d8a7:-1288352882,e44effd6983bc0101ba3dae2daaafb31:774222144,4f7d33d6ae3bc010da1110948243289d:-148658947,062dff96d53bc0106357437b369ce0f9:-1402563690,65fcff96a43bc010bfa5f6ec1fbece9e:-411762399,aa1c73966e3bc010176cf9ad1a9d6aeb:-776315945,8febbb56d03bc0102b05976a6dd73cbc:1293729507,51ab7352bd3bc010c15190f54441a6b9:491152416,966b7792d13bc010ddf504cecd853037:149225391,81d67f52fc3bc010769df04895984cef:1247024079,3266fb52063bc010e8c60707e0fce9ae:-838812394,3ff57352043bc01071b1d7d25651a74b:-71590759,492577de94f7c0103fb420169ed6e366:49431472,07747f9ec0f7c01007dafbacf2df47af:1885175874,0f54ff1e6ff7c010b4f9527d60c3bb74:311451035,70089d0a1df7801063686665aaae98dc:114272863,99f41ab5bfff4010b7a3eef9146e29c2:1955282679,a493167577ff40105734ffb7900b2d41:-457766388,a30f4e719aff4010638c4b7194304240:-1415778463,55de4e3136ff4010e4f8f3257f63cdad:-440954225,f6eace7d2a7f40100911e4375e9cbf73:1424691122,ef268af9b47f4010aaf7b4318e1e6839:-551988214,2ab5063d987f401065b8577318661010:1816181805,189582b9a87f4010380ddbaecd0bd8a1:807238413,eba442b9ec7f4010da6dfb346f8ecde0:-2018659778,28344e71353f4010d30e6c576f81995e:1160779998,2babd931eb3f401067c8c833a412b086:-604378376,3bfa9dfd61fb4010e762924152b72386:1481663876,b7d719bd47fb401098c493e1ddaff2fb:1869738138,7d179db938fb40101f3fdf9224d8c7fa:2027424185,4c66d53d24fb4010b423c7fdb9e4e334:-1639428489,dfd4153d1ffb4010bf6aa4b6fa034ed1:1302568515,9b54d53908fb401091a11a2afb3268ec:1388115767,3712d1b95afb40107a7f43c1d3077930:-685290889,bda159f53cfb4010fff719ebba75e4ed:-297975177,e930d5397ffb4010f148bc89483568b0:-1348433049,1b9f05f501fb401085ec82a46307375f:1424691122,7e2e8dfd4ebb401027bc6f795d235021:1454932024,e84c85b117fb4010982f015d0b8d64a7:617695709,af04cdbdf5bb4010db3d171689d9385a:-1647352739,bd759fa2f186c09087b511b32bee8448:1424691122,6b5f6b094506cc507bb6c3ca4f2235fd:-402115373,94367d3d3b358450384f423c5c7d6f2c:1207482582,c5a9bd2534b94450847e455c91735efa:-1220426539,d408b1e56db94450cda2f3b14e6f6610:-728323026,c026f96586b94450843903165c206bc5:-1262987551,f094b5adcd794450c245b2388208418f:-2023856932,a04c6d2da67944509d42212f2ec1d6a6:-860055883,48faed2d1f794450bd7bbc8ced701cf7:-546938045,10a56569ed794450e37c50e1201d1a40:-1254816347,d7e3ade5f6794450c5c2147e7f575553:-1998630847,32b3e9e537794450fab90d9a59242d8f:-1860326105,394f1da160794450fd7f69668528a486:2080304208,038e19e137794450a20145a87df89943:-757111088,c4bd1da16379445037836b5ca50ef79b:2131034404,163bd5e554394450268f4136dde505db:-470638960,dc0f85a51e394450555c2f65d27ee906:-1268834373,d5bec1e5213944504bd5b590bd808ef2:-538611591,806e8da53e394450a293cbeb46e9f9c4:-514808307,a25205ad58f5445066f8d65aa78e0c2c:-754129784,b002cd6590f5445038f0cb45f04d0a60:2134494320,3511016d36f544503f3d1baac4feed69:2056282560,629d7c65cff5445056e6a5a520c253d5:1256984095,e07dbce512f544501bff73a846b4a55c:-1956599920,356c7c6504f54450134e37e3660dca24:-37841259,dc4c30e523f5445055c94968730d7b9d:-567814108,431c30e56cf54450c5d20c6324410cdb:538674161,7efb78e522f544507c1c702979a6fd8a:195354885,6c7bb865bff544502b986262361a80b7:524756752,b419763cef3dc050ff103d32017d80b6:-541026768,5fdc6af0d93dc050e32efa02b36b0ad8:808813358,e383ad1719a5cc10c0360d7db32dfddd:-220258518,7853e557b2a5cc109cb8343135e3df05:878994355,66a2ed17b4a5cc109677a7eaf332ee70:-58626109,de51a993fba5cc10934dbbdc97b0aad4:214596896,9c50eddf2f65cc10713c1887a49cc636:1139546729,199f5d1f1b65cc1079947f6d385a5579:1098988022,308e1d5b7d65cc105ea0645aa9cf5406:-307870733,c1ddd95b7365cc10cdbb70292e0e1bad:752523075,2e2d159bf565cc1085c931215799b70d:651935662,9b0b99d3c465cc1057f3b595aac3d421:1574184003,e7c4d153b965cc105a2b0de1d138e746:1001062553,3663d5dbcb25cc10e59ed40376c73d19:1347840207,ad101557bb25cc10121ac6490bbbf59c:-1882854963,41afc51b5425cc1083ffaa787b283554:-190527909,b7ae851b8c25cc102c43ca9abfa0a692:-1965494464,812c85930425cc1017abfa2c8c90db58:-466143994,08ca05938425cc10c137b2d317d518e5:-1413064573,963a8d9f14e1cc1076b6eb31f4beb3d4:-1197551279,e21381d3b6e1cc10f29d0cd375a711e5:-1287791139,22fff8dbbba1cc102e144a968ac415f0:-732303879,a3cb301b3ba1cc104e3d5089fc774fb3:-519474529,9a0738939ca1cc1045a373ca545be144:692726875,ebc17c9fc061cc10d3176a6cc855dd68:-1615971355,75efe0db4461cc10e302a3a8430c6236:-1552487841,e4e9a31bd3d100104418de65109fa470:1852796856,4df01b0f6f99cc1017e47be09f64f03a:1852796856,ccecbe26933fb3001113a43adf86767b:-1744017807,6455d8113bbb33008534e59f05fa0677:569034589,b682d099e77b3300966d52075e7431e8:485716240,eb32c09996f733000511a01610cb9935:-1644861048,0a80090cf0222300893aae1221b12ca4:-593650114,d79ff4659216e30048cf1a747724f13e:1503902270,2a7f7c659616e3006f63cd557b5e8eef:1749117318,ca0225d5f202ab0030a309e53b5b6cf0:656277032,ee00dc350a31e300df0b6683cbcbfd29:17721777,4dc5dda58b79a300daee8ae98023d783:-2000852270,d0251da50479a3008fc7020d823bc4ad:-1713061833,564151e1c579a300046645ab70e72ed2:691276984,e58a4d6de839a30040879b64850e6f5f:-776775073,e12a496d5539a300667fd3a6b28b0139:1245547804,03d8c92df239a3007838020030f81c91:1549636146,ab76c9a9de39a3004db97501d15f8caa:1065514183,96c48529b539a30076fe8d852b7c8e4f:-521488326,29b2c1299439a3001cc55dc0f6b476aa:-2104537681,a6ccf8e16d39a300e24ff45403dd4670:-2054934167,640cb0e10b39a300e79b26f81f3f7455:1053004619,32ba70a19f39a3009a5e51cdbbe9dac6:1377505683,02b7ce6c0b212300f49cbfe4f3f554d8:1471353261,a4efe15490696300c50b4b99771141c8:-709045009,f91c6190ca696300e586ca14be620e7e:-1968655764,e19a999c12e56300a0f9505524ae0d5c:1036399084,52500d90cca56300f0cce062440a4a4d:2076616855,ea32c58c33a923006f0d688c6e2c2f15:-145457377,96e319720d952300701138d000d82c86:-1852417661,7bb4cdf6a955230052a5092b24125da4:-9405223,d3a4c5f6255523003c021e00722092a7:962254687,6e032f6a2251230053bb90a3475af37b:612217565,5ee2eb6af1512300e77f70c9a86f8a38:-626493517,2f7bf1f4e0d12300b60ab691d8ab42e6:1763340465,2ecf7438351d6300f58a5d97e45e3fed:-47914924,fc4bec3821d96300308d5b07e478b6bd:1397565698,ae1b2c784ed9630081864986941c8e04:-615110723,dfaaec38e2d9630043a436b9140358b8:764991576,fd38e038c7d96300250d128e8c238db1:-822219293,3d186438a9d96300d861986ffa4e667e:-370003102,4d17ec38acd96300e0ac7415fdfac58f:427249196,4769128469912300e7763fbb66c778d5:-844488387,4460f077014d2300b3b855d1e9a04f93:1795068109,23dc15a71a852300c2ad13066951c863:1873091307,78cc55a7c98523001589b2594c32c02f:793233707,944b91678d852300fd504f31058dccaf:1873091307,aaa4d523cd85230064d4159a5a0e3123:668469638,ee244167e5452300470340e61ae013d1:1873091307,b7600da3a1452300511f3ed06bb0c15c:2090782381,68004d63ab452300dc6d435edf224dc2:-1758429907,85d3d8a387c123001961c54c852d3ac1:-1050710141,b18394a36ec1230042174a33c1387379:-535599749,de6394a3bec1230049313c0abdac8072:16589883,4103146303c123009eca89d3246d4bd6:1471505403,6bd21c23a1c123006013fc15593e48dd:-1752619679,c02880df65c56300512751d227adc76b:1046104694,1e1373471ac56300ce774f06b7d25698:-1623561583,96627347bec5630016bc11c2f3722c86:-1895104401,6c4233470dc563009000970983459c27:-329599567,5781ffc383c563000df6ea0d4cf647b4:-1699010199,7e503bc3fcc5630005f046a2d2e41582:907824829,8b7c5f476d85630056e4a537129088f0:-1699010199,2f2b1b87ce85630052d8833b48d87ef4:-713747691,e62a17475c856300ef92329419465f46:1061393147,26299b03f58563002b16177ea65e49a3:603159948,fcc71fc300856300208a176e1d1b6444:-1424586657,24275fc3e585630081a4dd09e8dedffa:993194299,bf0717cf204563002c32244ea65a4009:913255673,f1e65b835085630034bdcd3bd439273b:953224986,014f074f66456300eea0d98351e86e10:1237958807,53032a3de7812300d10e3f547c6d01ed:1753232393,cb30ee7533812300518a26bec2e5e5e0:-600090132</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_8e351b861bf1c410ac43877ddc4bcb93</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#snap_delete').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	$j('#snap_delete').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_delete_sys_id").value + '';
	var snapshot_uuid = gel("snapshot_uuid").value + '';
	
	var consolidate_vm = $j('#conolidate_vm').is(":checked").toString();
	var remove_children = $j('#remove_children').is(":checked").toString();
	
	var json_var = [{"name":"snapshot_id","value":snapshot_uuid},{"name":"remove_children","value":remove_children},{"name":"consolidate","value":consolidate_vm},{"name":"suppress_power_on","value":"false"}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideModal.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description&gt;Snapshot delete VMWare&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_delete_vmware.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_delete_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_snapshot_delete");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_delete_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_delete_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_delete_sys_id" id="action_snapshot_delete_sys_id" value="${JS:action_snapshot_delete_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;body&gt;
		&lt;div&gt;
			&lt;label style="margin-bottom: 20px;" class="control-label" id="delete_warning_label"&gt;&lt;strong&gt;Are you sure you want to delete this Snapshot?&lt;/strong&gt;&lt;/label&gt;
			&lt;div class="form-group"&gt;
				&lt;span class="input-group-checkbox"&gt;
					&lt;input id="conolidate_vm" class="checkbox" type="checkbox" value="false"/&gt;
					&lt;label for="conolidate_vm" class="checkbox-label"&gt;&lt;strong&gt;Consolidate&lt;/strong&gt;&lt;/label&gt;
				&lt;/span&gt;
			&lt;/div&gt;
			&lt;div class="form-group"&gt;
				&lt;span class="input-group-checkbox"&gt;
					&lt;input id="remove_children" class="checkbox" type="checkbox" value="false"/&gt;
					&lt;label for="remove_children" class="checkbox-label"&gt;&lt;strong&gt;Remove Children&lt;/strong&gt;&lt;/label&gt;
				&lt;/span&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="modal-footer"&gt;
			&lt;div class="row"&gt;
				&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
					&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
					&lt;button class="btn btn-primary" id="snap_delete"&gt;Confirm Delete&lt;/button&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_delete_vmware&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-20 07:28:21&lt;/sys_created_on&gt;&lt;sys_id&gt;8e351b861bf1c410ac43877ddc4bcb93&lt;/sys_id&gt;&lt;sys_mod_count&gt;25&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_delete_vmware&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_8e351b861bf1c410ac43877ddc4bcb93&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:12:08&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1355888581</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>3a24eee4db711010eeb9808768961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b344b50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_delete_vmware</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>3499a316fe909410e20903f9e056ae74</update_guid>
<update_guid_history>3499a316fe909410e20903f9e056ae74:-1355888581,eb5ac3c62b581410e814a178a9a532a1:-572535091,9d3d5f899c6ac010ee665e292622fc72:-344380354,777adb09b76ac010cc21fb3bbf20fe2c:-1626144444,282a5709776ac01016214d4f93b078b3:-34745107,2cc95709286ac0107857bf1bc5f3d7c3:-366256067,ec8953c57e6ac0105c1892bbace2b589:180173720,c59697458e6ac0101a16436478475476:-125330564,65051781a56ac010cec847f2c5067550:-1559299168,6441a0ccb31a8450643ff491deff6fe5:63177639,c6216800611a84508eb4b62875b63597:588435332,2ccc838ba47d481094adc9a7e466c6e1:1763845983,583b8f0bfb7d4810ffd6e206f0e3043d:134130316,7f790bc7087d481025dcf3f7c6fa9f24:-734965173,239607474f7d48107b9be61c06268454:689943292,1fa207833e7d481042a4a583dc572ef5:-1115546862,37bc4c5e1d75c410aac1746b4c2ef51c:-1738786536,5aacf3060375c410bb08adc774af9bf0:-697880235,3d3af34eff35c41097f33693d5a8d352:-462542079,ebb9f3062e75c4106189bba7987722d8:658937633,36f8f3ce7f35c410a643d09424eb4056:-235555044,64a8f306c375c4101a1f226c5360266b:-1476890462,45966b461335c4109b3dc3a259ca927c:459508640,91366f062135c41031633cc79f1b35b6:339719059,f27557c6fbf1c410684f59561e49de8d:915096238,3255d7c648f1c41093da0ffdd679ef62:-896492160</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_c870a53f37512300fdfc097973990edc</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable&gt;IO:566ab43e37912300fdfc097973990ec1&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Fetch Application Profiles&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {
   if (isLoading || newValue == '') {
      return;
   }
		
	var performAction = (g_form.getValue('type'))?g_form.getValue('type'):getParameterValue('performAction')+'';
	
	if( performAction == 'new' || performAction == 'addProfile' ){
		var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
		var loadingDialog = new GlideModal("loader", true);
		loadingDialog.setTitle('Fetching application profiles...'); //Set the loading dialog title here...
		loadingDialog.renderWithContent(''+loadingHTML);

	
		var blueprint = newValue;// g_form.getValue('project');

		var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
		ga.addParam('sysparm_name', 'fetchApplicationProfiles');
		ga.addParam('sysparm_blueprint', blueprint);
		ga.getXML(processProject, null, loadingDialog);

		function processProject(response, loadingDialog) {
			var answer = response.responseXML.documentElement.getAttribute("answer");
			var profileList = JSON.parse(answer);

			g_form.clearOptions('application_profile');
			var currentProfile = getParameterValue('currentProfile')+'';
			
			for(var i in profileList){
				var profile = profileList[i];
				
				if(currentProfile.indexOf(profile.sys_id+'') == -1)
					g_form.addOption('application_profile', profile.sys_id, profile.name);
			}

			var data = getParameterValue('data');

			if(data){
				data = JSON.parse(decodeURIComponent(data));
				g_form.setValue('application_profile', data.profile);
			}
			new GlideModal().get("loader").destroy();		
		}
	}
   
}


function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 21:05:57&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;c870a53f37512300fdfc097973990edc&lt;/sys_id&gt;&lt;sys_mod_count&gt;52&lt;/sys_mod_count&gt;&lt;sys_name&gt;Fetch Application Profiles&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_c870a53f37512300fdfc097973990edc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:29:54&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>142996258</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3e24eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4fb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Fetch Application Profiles</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>aa612fb885885c10507866755e97663d</update_guid>
<update_guid_history>aa612fb885885c10507866755e97663d:142996258,6b44693e7abfc410b9d5598d21a01fbe:61961692,47a2213eb8bfc410cb82519b279dfaee:2134303980,fcf655649d3f4010c9526b61e1fd99f3:514266018,b51831403537330070abc3b81a8deb0a:749614382,539baf41dc2733000f6c2056e194282d:-1027443746,00a2af49abe3330012ef1d89cce251ec:1874028463,3952238981e33300bfe7485d5d901f50:606436901,a531d5f00d433300c34c1d430a297b71:570081728,ba8019f06d433300259275780af868b1:601831965,ebc38c78c10e7300ec2ab1ff7c1fca65:570081728,43e088380f0e7300fb211015fa720330:-1570213293,f1f3239809427300cfede256b3c97b73:570081728,e9b3af5870427300c34e373b606b9d58:1154289435,0f63eb588f4273004d8dd36118755c48:848414827,5eac0b98db02730051f4e1e2df5bb17d:-730343393,552cc798df0273009f0e9ca60d18d26a:-978733810,b9cb0b9841027300c0bf042eec75c491:-1978051689,88bb07988a027300d2cb16b97f75f99c:2129525817,2cab43988b0273009155fe5f8f187805:-1978051689,0d7b47981b0273003cd3027d74f35e1d:582808311,696b87589202730094f5b1fcd066a591:889846553,5a4b8358960273000caea7cd1cd5b366:-915181242,c72b4f5877027300f57934bbc1b09e37:1466402960,3dda4f58aa0273001879d91ea1c0d187:941405865,2dca8358650273001dbb1d26e97c3d60:1666166686,3baacb589c0273004538b249d9f1357d:941405865,78aa4b5886027300158d6fd09476fefa:-1010660766,0d9a07584602730004a12c36dc82da6f:230681029,d68a075825027300a111fbf87aa3ce6a:2116927099,108a0b581d027300ceade25bdc90bf6e:-540671845,815a4f180a027300d5104037554714a1:1391477332,561ac35813027300ed4917fd758e79f7:-1230702485,0ef98358ef02730041efdb4e4d598f28:1434957043,f4a94f1844027300d2a191e385f159f5:1182888305,d8c717f1d7213300b67772d91ad1403f:-1879103343,ad9db19184e97300f436750e4d81bfa8:-1835837853,b24dfd5110e9730024210786e16e78d6:1681219235,8b4cf9ddf5a9730097a91db850723279:779435005,012cb951a3e9730051c25a5cefd0e562:-341484143,a9ea7511d5e9730098aae25500f70adc:779435005,fda9b99d36a97300c2f790648d0d60ff:1276061487,7748795da5a973007668aed8c1dc074c:-1223397731,32b639d907a97300da8749ed8301c7bc:1243112505,b4463d996aa97300b53ff0a49934bcbd:903238387,f416799952a97300d35212442f0d75da:571451491,6cc439598aa9730050d96b9dfc50d4d0:-1359892918,f322f9d1f1a97300b51574b628be4d9a:58179848,2d334105c4b7230015e0dd5fe0b4f4a0:821469209,be4dbccde77723000c341db10839d28e:1734481557,51abf08dc77723008b7e68c8f67bd7d1:1549655793,212bb84da17723003fb3c1cb19273823:1225919998,9ce81401d8c26b003071fbd610ddf854:1887287354,5258548d5e826b008bea96081573c919:-733596493,4a08584dcc826b00ff490dd2d3a8954d:2107611028,63e7908ddc826b000eb4e2166bb3ac10:-390077191,22b79c4d88826b005d4f710471d4eb5f:-751327722,8b9fa87b707567004b28cd3b71d78544:-390077191,ffaea83b317567001cc31efc0ebbe3c4:-1804060245,5f541877fb356700a31088505eef602c:-483290139,d1349877313567007d5ea40591dec670:-1106185285,37439c37013567003fadd7d76b9003aa:1524310942,4043d8378c356700e8cbe6bd55b378f4:1296607841,4dbe53979679e3001fa3bea02b6e9b63:1524310942,3d7789e90539a30061e8d91b5a9a7fda:-1398364290,fdbea67858bd230090a42982289aa75a:2145078010,4aa7ebbc952123007c7b1a813e76bbb5:1655192723,22664e77e7d123009aeb7ebb2b41fbc6:1013694078,02c58677d7d1230032ef15e5eb736439:1083299629,608582770ad123005784d24f0b389f6b:1013694078,d07542778bd123007a5fc410655e581c:-1694686891,fcb4463716d1230069778b0aa4a05dfd:1521411852,04b44637f5d1230073f798d6370d2f98:-540207575,6b64c2372cd123004e75695508ff8220:882926547,e23486f30cd1230055883900ba8efff1:-170134576,e99d3dbf959123009b2417933d0edf41:1013694078,249d3dbf609123004bcf8905533c5713:-1694686891,c9ec35bfed912300ea0fe462a5c8252f:723090791,f3dcf1bf41912300084cf7615497e9f6:-1694686891,84c9e1b31d912300e778275510ad3f2d:1013694078,cd68a573ee9123000d89b254387a4a5a:-420512343,5748a573ce912300f0ad544aeb086054:257935388,73e7ad33a991230054d08bc0dd2a2f0f:1013694078</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_75c3833837fd2300fdfc097973990e2f</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_ConfigureSettingScripts&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_ConfigureSettingScripts&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_ConfigureSettingScripts = Class.create();
Nutanix_ConfigureSettingScripts.prototype = {
	initialize: function() {
		this.appUtil = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		this.appScriptInstance = new Nutanix_ImportApplicationProfiles();
	},


	setServiceVariables: function( current ){
		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts.setServiceVariables.");			
			
			var performAction = current.variables.type+'';
			var catName = '';

			if(performAction == 'new'){
				var profile = current.variables.application_profile;
				var blueprint = current.variables.blueprint;
				var catSysId = current.description;
				var service_data = JSON.parse(current.variables.service_data);

				this.logger.debug("Got Profile:- "+profile+" Blueprint:- "+blueprint+" Catalog Item:- "+catSysId+" and Service Variables Data:- "+current.variables.service_data+" for setting service variables");			

				var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				fieldGR.addEncodedQuery('cat_item=' + catSysId);
				fieldGR.query();

				var fieldInfo = {};

				while(fieldGR.next()){
					fieldInfo[fieldGR.name] = fieldGR.sys_id+'';
				}


				this.logger.debug("Fethed the mapping of fields to sysIds. JSON string:- "+JSON.stringify(fieldInfo));			

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');

				for(var i in service_data){
					var serviceName = i;
					var categoryList = service_data[i];

					for(var j in categoryList){
						var categoryName = j;
						var category = categoryList[j];			

						var keys = Object.keys(category);

						if(!category[keys[0]].notCmplx || category[keys[0]].notCmplx+''=='false'){

							this.logger.debug("Mapping PortList variables "+JSON.stringify(category[keys[0]])+" in Varaibles properties table");

							gr.initialize();
							gr.variable = fieldInfo[categoryName+'']+'';
							gr.application_profile = profile+'';
							gr.catalog_item = catSysId+'';
							gr.default_value = JSON.stringify(category[keys[0]]);
							gr.isprofilevariable = 'false';
							gr.runtime_config = 'false';
							gr.uuid = '';
							gr.service_name = fieldInfo[serviceName+'']+'';
							gr.category_name = fieldInfo[categoryName+'']+'';
							gr.insert();

						}else{
							for(var k in category){
								var varia = category[k];

								this.logger.debug("Mapping service variable "+varia.name+" with value "+varia.value+" and runtime config as "+varia.runtime_config+" againsts service "+serviceName+" and category "+categoryName+" in Varaibles properties table");
								
								if(varia.data_type+'' == 'LOCAL' &amp;&amp; (varia.val_type+'' == 'DATE_TIME' || varia.val_type+'' == 'DATE'))
									varia.value = this.appScriptInstance._formttedDateTime(varia.value+'',  varia.val_type+'', true);


								gr.initialize();
								gr.variable = fieldInfo[varia.name+'']+'';
								gr.application_profile = profile+'';
								gr.catalog_item = catSysId+'';
								gr.default_value = varia.value+'';
								gr.isprofilevariable = varia.isprofilevariable+'';
								gr.runtime_config = varia.runtime_config+'';
								gr.uuid = varia.uuid+'';
								gr.service_name = fieldInfo[serviceName+'']+'';
								gr.category_name = fieldInfo[categoryName+'']+'';

								gr.isdisabled = varia.isdisabled+'';
								gr.issupported = varia.isSupported+'';
								gr.isservicevariable = varia.isservicevariable+'';


								gr.type = varia.type;
								gr.value_type = varia.val_type+'';
								gr.field_regex = varia.regex+'';
								gr.data_type = varia.data_type+'';
								gr.uuid = varia.uuid+'';

								gr.insert();

								catName = gr.catalog_item.name+'';
							}	
						}

					}
				}

				this.logger.info("Set service variables values for "+catName+".");

			}else{

				var profile = current.variables.application_profile+'';
				var catSysId = current.variables.cat_item+'';

				var service_data = JSON.parse(current.variables.service_data+'');

				this.logger.debug("Got Profile:- "+profile+" Catalog Item:- "+catSysId+" and Service Variables Data:- "+current.variables.service_data+" to update service variables.");			

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				gr.addQuery('catalog_item', catSysId);
				gr.addQuery('application_profile', profile);
				gr.addQuery('isprofilevariable', false);
				gr.query();

				while(gr.next()){
					/*if((gr.category_name.name+'').indexOf('storage') != -1){
						gr.default_value = JSON.stringify(service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+'']);
						gr.update();	
						this.logger.debug("Updated service storage variable "+ gr.default_value);
					}else if((gr.category_name.name+'').indexOf('port') != -1){
						gr.default_value = JSON.stringify(service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+'']);
						gr.update();	
						this.logger.debug("Updated service port list "+ gr.default_value);
					}*/


					var jsonData = service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''];							

					if(!jsonData.notCmplx || jsonData.notCmplx+''=='false'){
						gr.default_value = JSON.stringify(service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+'']);
						gr.update();	
						this.logger.debug("Updated service port list "+ gr.default_value);
					}else{	
						if(service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].data_type+'' == 'LOCAL' &amp;&amp; (service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].val_type+'' == 'DATE_TIME' || service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].val_type+'' == 'DATE'))
							service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].value = this.appScriptInstance._formttedDateTime(service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].value+'',  service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].val_type+'', true);

						gr.default_value = service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].value+'';
						gr.runtime_config = service_data[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].runtime_config+'';
						gr.update();	

						this.logger.debug("Updated service variable "+gr.variable.name+" with value "+gr.default_value+" and runtime config as "+gr.runtime_config+" againsts service "+gr.service_name.name+" and category "+gr.category_name.name+" in Variables properties table");
						catName = gr.catalog_item.name+'';

					}
				}

				this.logger.info("Updated service variables values for "+catName+".");
			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts.setServiceVariables. Error:- "+e);
		}
	},

	setProfileVariables: function( current ){
		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts.setProfileVariables.");			
			this.logger.info("Setting profile variables properties."+JSON.stringify(current));		

			var performAction = current.variables.type+'';
			var catName = '';
			if(performAction == 'new'){
				var profile = current.variables.application_profile;
				var blueprint = current.variables.blueprint;
				var catSysId = current.description;
				var variable_data = JSON.parse(current.variables.variable_data);

				this.logger.debug("Got Profile:- "+profile+" Blueprint:- "+blueprint+" Catalog Item:- "+catSysId+" and Service Variables Data:- "+current.variables.variable_data+" for setting profile variables");			

				var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				fieldGR.addEncodedQuery('cat_item=' + catSysId + '^type!=19^type!=20');
				fieldGR.query();

				var fieldInfo = {};

				while(fieldGR.next()){
					fieldInfo[fieldGR.name] = fieldGR.sys_id+'';
				}

				this.logger.debug("Fethed the mapping of fields to sysIds. JSON string:- "+JSON.stringify(fieldInfo));			

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');

				for(var i in variable_data){
					var varia = variable_data[i];
					
					if(varia.data_type+'' == 'LOCAL' &amp;&amp; (varia.val_type+'' == 'DATE_TIME' || varia.val_type+'' == 'DATE'))
						varia.value = this.appScriptInstance._formttedDateTime(varia.value+'',  varia.val_type+'', true);

					gr.initialize();
					gr.application_profile = profile+'';
					gr.catalog_item = catSysId+'';
					gr.default_value = varia.value+'';
					gr.isprofilevariable = varia.isprofilevariable+'';
					gr.runtime_config = varia.runtime_config+'';
					gr.uuid = varia.uuid+'';
					gr.variable = fieldInfo[varia.name+'']+'';
					gr.isdisabled = varia.isdisabled+'';
					gr.type = varia.type;
					gr.value_type = varia.val_type+'';
					gr.field_regex = varia.regex+'';
					gr.data_type = varia.data_type+'';
					gr.uuid = varia.uuid+'';
					gr.insert();
					catName = gr.catalog_item.name+'';
					this.logger.debug("Mapping profile variable "+varia.name+" with value "+varia.value+" and runtime config as "+varia.runtime_config+" againsts profile "+gr.application_profile.name+" in Variables properties table");
				}

				this.logger.info("Set profile variables values for "+catName+".");
			}else{

				var profile = current.variables.application_profile+'';
				var catSysId = current.variables.cat_item+'';

				var variable_data = JSON.parse(current.variables.variable_data+'');

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				gr.addQuery('catalog_item', catSysId);
				gr.addQuery('application_profile', profile);
				gr.addQuery('isprofilevariable', true);
				gr.query();

				while(gr.next()){
					if(variable_data[gr.sys_id+''].data_type+'' == 'LOCAL' &amp;&amp; (variable_data[gr.sys_id+''].val_type+'' == 'DATE_TIME' || variable_data[gr.sys_id+''].val_type+'' == 'DATE'))
						variable_data[gr.sys_id+''].value = this.appScriptInstance._formttedDateTime(variable_data[gr.sys_id+''].value+'',  variable_data[gr.sys_id+''].val_type+'', true);

					gr.default_value = variable_data[gr.sys_id+''].value+'';
					gr.runtime_config = variable_data[gr.sys_id+''].runtime_config+'';
					gr.update();
					catName = gr.catalog_item.name+'';
					this.logger.debug("Updated profile variable "+gr.variable.name+" with value "+gr.default_value+" and runtime config as "+gr.runtime_config+" againsts profile "+gr.application_profile.name+" in Variables properties table");
				}

				this.logger.info("Updated profile variables values for "+catName+".");
			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts.setProfileVariables. Error:- "+e);
		}
	},

	setCredentialsData: function(current){

		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts.setCredentialsData.");			





			var catSysId = current.description;
			var catName = '';
			var performAction = current.variables.type+'';

			if(performAction == 'new'){
				var blueprint = current.variables.blueprint;
				var variable_data = JSON.parse(current.variables.credentials_data);

				this.logger.debug("Got Blueprint:- "+blueprint+" Catalog Item:- "+catSysId+" and Credentials Data:- "+current.variables.credentials_data+" for setting credetnails.");			

				var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');

				for(var i in  variable_data){
					var varia = variable_data[i];

					gr.initialize();

					gr.catalog_item = catSysId+'';
					gr.actual_name = i+'';
					gr.description = varia.description+'';
					gr.is_default = varia.is_default+'';
					gr.is_secret_modified = varia.is_secret_modified+'';
					gr.name = varia.credential_name.value+'';
					gr.passphrase = (varia.passphrase)?varia.passphrase.value+'':'';
					gr.passphrase_editable = (varia.passphrase)?varia.passphrase.runtime_config+'':'';
					gr.password = (varia.password)?varia.password.value+'':'';
					gr.secret_editable = (varia.password)?varia.password.runtime_config+'':'';
					gr.ssh_private_key = (varia.ssh_private_key)?varia.ssh_private_key.value+'':'';
					gr.ssh_private_key_editable = (varia.ssh_private_key)?varia.ssh_private_key.runtime_config+'':'';
					gr.state = varia.state+'';
					gr.type = varia.secret_type.value+'';
					gr.username = varia.username.value+'';
					gr.username_editable = varia.username.runtime_config+'';
					gr.uuid = varia.uuid+'';

					gr.username_isdisabled = varia.username_isdisabled+'';
					gr.secret_isdisabled = varia.secret_isdisabled+'';
					gr.ssh_private_key_isdisabled = varia.ssh_private_key_isdisabled+'';
					gr.passphrase_isdisabled = varia.passphrase_isdisabled+'';				 

					gr.credential_reference = varia.credential_reference.value+'';				 
					gr.runtime = varia.runtime+'';				 

					gr.insert();

					catName = gr.catalog_item.name+'';
					this.logger.debug("Mapped credentials data against catalog item "+gr.catalog_item);
				}

				// 				var gr = new GlideRecord(this.appUtil.configuration.table.variableSetTable+'');
				// 				gr.addQuery('variable_set', gs.getProperty('x_nuta2_nutanix_ca.credentials.variable.set')+'');
				// 				gr.addQuery('sc_cat_item', catSysId+'');
				// 				gr.query();

				// 				if(!gr.hasNext()){
				// 					gr.initialize();
				// 					gr.variable_set = gs.getProperty('x_nuta2_nutanix_ca.credentials.variable.set')+'';
				// 					gr.sc_cat_item = catSysId+''; 
				// 					gr.order = '51001';
				// 					gr.insert();	
				// 				}

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				gr.addQuery('variable', gs.getProperty('x_nuta2_nutanix_ca.credentials.mapping.variable.sys.id')+'');
				gr.addQuery('catalog_item', catSysId+'');
				gr.query();

				if(gr.next()){
					gr.default_value = current.variables.environment_mapping;
					gr.update();
				}else{
					gr.initialize();
					gr.variable = gs.getProperty('x_nuta2_nutanix_ca.credentials.mapping.variable.sys.id')+'';
					gr.application_profile = '';
					gr.catalog_item = catSysId+'';
					gr.default_value = current.variables.environment_mapping;
					gr.isprofilevariable = false;
					gr.runtime_config = false;
					gr.uuid = '';
					gr.service_name = '';
					gr.category_name = '';
					gr.insert();
				}

				// 				if(current.variables.environment_mapping+'' == 'true'){
				// 					var mapping_data = JSON.parse(current.variables.credentials_mapping);

				// 					for(var i in mapping_data){

				// 						var varia = mapping_data[i];

				// 						var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
				// 						gr.addQuery('catalog_item', catSysId+'');
				// 						gr.addQuery('environment', varia.environment+'');
				// 						gr.addQuery('project', varia.project+'');
				// 						gr.query();

				// 						if(!gr.hasNext()){
				// 							gr.initialize();

				// 							gr.catalog_item = catSysId+'';
				// 							gr.actual_name = i+'';
				// 							gr.description = varia.description+'';
				// 							gr.is_default = varia.is_default+'';
				// 							gr.is_secret_modified = varia.is_secret_modified+'';
				// 							gr.name = varia.credential_name.value+'';
				// 							gr.passphrase = (varia.passphrase)?varia.passphrase.value+'':'';
				// 							gr.passphrase_editable = (varia.passphrase)?varia.passphrase.runtime_config+'':'';
				// 							gr.password = (varia.password)?varia.password.value+'':'';
				// 							gr.secret_editable = (varia.password)?varia.password.runtime_config+'':'';
				// 							gr.ssh_private_key = (varia.ssh_private_key)?varia.ssh_private_key.value+'':'';
				// 							gr.ssh_private_key_editable = (varia.ssh_private_key)?varia.ssh_private_key.runtime_config+'':'';
				// 							gr.state = varia.state+'';
				// 							gr.type = varia.secret_type.value+'';
				// 							gr.username = varia.username.value+'';
				// 							gr.username_editable = varia.username.runtime_config+'';
				// 							gr.uuid = varia.uuid+'';
				// 							gr.environment = varia.environment+'';
				// 							gr.project = varia.project+'';

				// 							gr.username_isdisabled = varia.username_isdisabled+'';
				// 							gr.secret_isdisabled = varia.secret_isdisabled+'';
				// 							gr.ssh_private_key_isdisabled = varia.ssh_private_key_isdisabled+'';
				// 							gr.passphrase_isdisabled = varia.passphrase_isdisabled+'';				 

				// 							gr.insert();	
				// 						}
				// 					}
				// 				}

				this.logger.info("Set profile variables values for "+catName+".");
			}else{
				var catSysId = current.variables.cat_item+'';
				var variable_data = JSON.parse(current.variables.credentials_data);

				for(var i in  variable_data){
					var varia = variable_data[i];

					var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
					gr.addQuery('catalog_item=' + catSysId + '^uuid='+varia.uuid);
					gr.query();

					if(gr.next()){
						gr.catalog_item = catSysId+'';
						gr.description = varia.description+'';
						gr.is_default = varia.is_default+'';
						gr.is_secret_modified = varia.is_secret_modified+'';
						gr.name = varia.credential_name.value+'';
						gr.passphrase = (varia.passphrase)?varia.passphrase.value+'':'';
						gr.passphrase_editable = (varia.passphrase)?varia.passphrase.runtime_config+'':'';
						gr.password = (varia.password)?varia.password.value+'':'';
						gr.secret_editable = (varia.password)?varia.password.runtime_config+'':'';
						gr.ssh_private_key = (varia.ssh_private_key)?varia.ssh_private_key.value+'':'';
						gr.ssh_private_key_editable = (varia.ssh_private_key)?varia.ssh_private_key.runtime_config+'':'';
						gr.state = varia.state+'';
						gr.type = varia.secret_type.value+'';
						gr.username = varia.username.value+'';
						gr.username_editable = varia.username.runtime_config+'';
						gr.uuid = varia.uuid+'';

						gr.username_isdisabled = varia.username_isdisabled+'';
						gr.secret_isdisabled = varia.secret_isdisabled+'';
						gr.ssh_private_key_isdisabled = varia.ssh_private_key_isdisabled+'';
						gr.passphrase_isdisabled = varia.passphrase_isdisabled+'';

						gr.credential_reference = varia.credential_reference.value+'';		
						gr.runtime = varia.runtime+'';				 

						gr.update();	
						catName = gr.catalog_item.name+'';
						this.logger.debug("Updated credentials data against catalog item "+gr.catalog_item);
					}
				}

				// 				var gr = new GlideRecord(this.appUtil.configuration.table.variableSetTable+'');
				// 				gr.addQuery('variable_set', gs.getProperty('x_nuta2_nutanix_ca.credentials.variable.set')+'');
				// 				gr.addQuery('sc_cat_item', catSysId+'');
				// 				gr.query();

				// 				if(!gr.hasNext()){
				// 					gr.initialize();
				// 					gr.variable_set = gs.getProperty('x_nuta2_nutanix_ca.credentials.variable.set')+'';
				// 					gr.sc_cat_item = catSysId+''; 
				// 					gr.order = '51001';
				// 					gr.insert();	
				// 				}

				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				gr.addQuery('variable', gs.getProperty('x_nuta2_nutanix_ca.credentials.mapping.variable.sys.id')+'');
				gr.addQuery('catalog_item', catSysId+'');
				gr.query();

				if(gr.next()){
					gr.default_value = current.variables.environment_mapping;
					gr.update();
				}else{
					gr.initialize();
					gr.variable = gs.getProperty('x_nuta2_nutanix_ca.credentials.mapping.variable.sys.id')+'';
					gr.application_profile = '';
					gr.catalog_item = catSysId+'';
					gr.default_value = current.variables.environment_mapping;
					gr.isprofilevariable = false;
					gr.runtime_config = false;
					gr.uuid = '';
					gr.service_name = '';
					gr.category_name = '';
					gr.insert();
				}

				// 				if(current.variables.environment_mapping+'' == 'true'){
				// 					var mapping_data = JSON.parse(current.variables.credentials_mapping);

				// 					for(var i in mapping_data){

				// 						var varia = mapping_data[i];

				// 						var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
				// 						gr.addQuery('catalog_item', catSysId+'');
				// 						gr.addQuery('environment', varia.environment+'');
				// 						gr.addQuery('project', varia.project+'');
				// 						gr.query();

				// 						if(!gr.hasNext()){
				// 							gr.initialize();

				// 							gr.catalog_item = catSysId+'';
				// 							gr.actual_name = i+'';
				// 							gr.description = varia.description+'';
				// 							gr.is_default = varia.is_default+'';
				// 							gr.is_secret_modified = varia.is_secret_modified+'';
				// 							gr.name = varia.credential_name.value+'';
				// 							gr.passphrase = (varia.passphrase)?varia.passphrase.value+'':'';
				// 							gr.passphrase_editable = (varia.passphrase)?varia.passphrase.runtime_config+'':'';
				// 							gr.password = (varia.password)?varia.password.value+'':'';
				// 							gr.secret_editable = (varia.password)?varia.password.runtime_config+'':'';
				// 							gr.ssh_private_key = (varia.ssh_private_key)?varia.ssh_private_key.value+'':'';
				// 							gr.ssh_private_key_editable = (varia.ssh_private_key)?varia.ssh_private_key.runtime_config+'':'';
				// 							gr.state = varia.state+'';
				// 							gr.type = varia.secret_type.value+'';
				// 							gr.username = varia.username.value+'';
				// 							gr.username_editable = varia.username.runtime_config+'';
				// 							gr.uuid = varia.uuid+'';
				// 							gr.environment = varia.environment+'';
				// 							gr.project = varia.project+'';

				// 							gr.username_isdisabled = varia.username_isdisabled+'';
				// 							gr.secret_isdisabled = varia.secret_isdisabled+'';
				// 							gr.ssh_private_key_isdisabled = varia.ssh_private_key_isdisabled+'';
				// 							gr.passphrase_isdisabled = varia.passphrase_isdisabled+'';				 

				// 							gr.insert();	
				// 						}
				// 					}
				// 				}

				this.logger.info("Updated credentials values for "+catName+".");
			}
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts.setCredentialsData. Error:- "+e);
		}		
	},
	
	_groupsToUsers:function(current) {
		
		var groups = (current.variables.assign_groups) ? (current.variables.assign_groups + "") : "";
		var users = (current.variables.assign_users) ? (current.variables.assign_users + "").split(",") : [];
		
		var grMembers = new GlideRecord("sys_user_grmember");
		grMembers.addEncodedQuery("group.sys_idIN"+groups);
		grMembers.query();
		while(grMembers.next()) {
			if(users.indexOf(grMembers.user.sys_id + "") == -1)
				users.push(grMembers.user.sys_id + "");
		}
		
		current.variables.assign_users = users.toString();
		
		return current;
	},

	configBPGeneralSettings: function( current, clientData, nonFilteredClientData ){

		try{
			
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts.configBPGeneralSettings.");
			var lg = new x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge();
			var status = lg.hideAccessLocalGroupOption(); //to check if the given option is for local groups.

			if(status + "" == "false")
				current = this._groupsToUsers(current);
			
			var performAction = current.variables.type+'';

			if(performAction == 'new'){
				var blueprint = current.variables.blueprint+'';
				var blueprintType = current.variables.type_of_blueprint+'';
				var createCatalog = current.variables.create_catalog+'';

				this.logger.debug("Got Blueprint:- "+blueprint+" Blueprint Type:- "+blueprintType+" and Create Catalog:- "+createCatalog+" for configuring new catalog item.");			

				var targetCatTable = 'x_nuta2_nutanix_ca_nutanix_catalog_items';
				var sourceCatTable = '';
				if(blueprintType == 'unpublished')
					sourceCatTable = 'x_nuta2_nutanix_ca_nutanix_blueprint';
				else
					sourceCatTable = 'x_nuta2_nutanix_ca_nutanix_marketplaceitems';				

				var ans;
				if(createCatalog == 'yes') 
					ans = this._copyCatalogItem(sourceCatTable, targetCatTable, blueprint, current, blueprintType, clientData, nonFilteredClientData);
				else
					ans = this._updateCatalogItem(sourceCatTable, targetCatTable, blueprint, current);

				this._insertIntoRuntimeConfigTable(ans, current);
				this._updateUserOverCalm(current);
				if(status + "" == "false") //updated version check the flag for referense.
					{
						this._updateGroupOverCalm(current);
					}
				else
					{
						this._updateGroupSnowRole(current);
					}
				
				return ans[0]+'';
			}else{

				var cat_item = current.variables.cat_item+'';

				this.logger.debug("Got Catalog Item:- "+cat_item+" for updating existing catalog item.");			

				var gr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
				gr.addQuery('item_name', cat_item);
				gr.query();

				if(gr.next()){
					var cat = gr.item_name.getRefRecord();
					cat.sys_name = current.variables.item_name+'';
					cat.name = current.variables.item_name+'';
					cat.short_description = current.variables.item_name+'';
					cat.description_markdown = current.variables.description+'';
					cat.description = this.appUtil.markdown_renderer(current.variables.description+'');
					cat.update();

// 					var user_criteria = gr.user_criteria.getRefRecord();
// 					user_criteria.user = current.variables.assign_users;
					var group = '';
					if(status + "" == "false")
						{
							group = current.variables.assign_groups;
						}
					else
						{
							group = current.variables.assign_local_groups;
						}
					var user_criteria = new sn_uc.UserCriteria(gr.user_criteria.sys_id);
                    user_criteria.update({"user": ""+current.variables.assign_users,
							              "group": ""+group
							              }, "Update user criteria user Group"); 
				//	user_criteria.update();

					this._updateUserOverCalm(current);
					
					if(status + "" == "false")
					{
						this._updateGroupOverCalm(current);
					}
					else
					{
						this._updateGroupSnowRole(current);
					}

					return gr.item_name+'';
				}

			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts.configBPGeneralSettings. Error:- "+e);
		}
	},

	_checkUsersUUID: function(current){
		try{		
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._checkUsersUUID.");			

			var userGr = new GlideRecord('sys_user');
			userGr.addEncodedQuery('sys_idIN'+current.variables.assign_users+'^x_nuta2_nutanix_ca_nutanix_uuidISEMPTY');				
			userGr.query();

			var taskUUIDList = [];

			while(userGr.next()){

				var ldapGR = new GlideRecord('ldap_server_config');
				if (ldapGR.get(userGr.ldap_server+''))
				{
				var LDAPName = '';
				var LDAPUuid = '';
				// 				var ldap_rdn = ldapGR.rdn+'';
				// 				ldap_rdn = ldap_rdn.replace(/DC=/g,"").replace(/,/g,".");
				var dir_body = { 
					"kind": "directory_service", 
					"filter": 'url=='+ldapGR.server_url //+";domain_name=="+ldap_rdn
				} 
				this.logger.debug("Body for directory services:: :: "+JSON.stringify(dir_body)); 

				var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.directoryServices+"", JSON.stringify(dir_body));
				this.logger.debug("Response Body for directory :: "+response.getBody());

				if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){

					var parsed = JSON.parse(response.getBody());
					parsed = parsed.entities;
					for(var p in parsed){
						var par_entity = parsed[p];
						var domain_name = par_entity.status.resources.domain_name+"";
						//						if(domain_name == ldap_rdn){
						if(par_entity.status.resources.url+'' == ldapGR.server_url+'' || par_entity.status.resources.url+'' == ldapGR.server_url+'/' || par_entity.status.resources.url+'/' == ldapGR.server_url+'' ){
							LDAPName = par_entity.status.name+'';
							LDAPUuid = par_entity.metadata.uuid+'';
							break;
						}
					}

					//LDAPName = parsed.entities[0].status.name+'';
					//LDAPUuid = parsed.entities[0].metadata.uuid+'';

				}else{
					this.logger.error("Nutanix_ConfigureSettingScripts._checkUsersUUID :- Error while updating directory:- "+response.haveError()+" Status code :- "+response.getStatusCode()+" Error :: "+response.getBody());
				}

				var body = {
					"spec": {
						"resources": {
							"directory_service_user": {
								"user_principal_name": userGr.email+'',
								"directory_service_reference": {
									"kind": "directory_service",
									"name": LDAPName,
									"uuid": LDAPUuid
								}
							}
						}
					},
					"metadata": {
						"kind": "user",
						"name": userGr.name+''
					}
				};
				this.logger.debug("Body send for user :: "+JSON.stringify(body));
				var response = this.appUtil.makeCalmApiCall("POST", "/users", JSON.stringify(body));	
				var res = JSON.parse(response.getBody());
				if(response.getStatusCode() == '200' || response.getStatusCode() == '201' || response.getStatusCode() == '202'){

					userGr.x_nuta2_nutanix_ca_nutanix_uuid = JSON.parse(response.getBody()).metadata.uuid+'';
					userGr.update();

					taskUUIDList.push(JSON.parse(response.getBody()).status.execution_context.task_uuid+'');

				}else if(response.getStatusCode() == '400' &amp;&amp; res.message_list[0].reason == "DUPLICATE_ENTITY"){

					var payload = { "kind": "user",
								   "filter" : "username=="+userGr.email+''
								  };


					var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getUsersList+"", this.appUtil.stringify(payload));

					if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){

						var parsedJSON = this.appUtil.parse(response.getBody());
						var entities = parsedJSON.entities;
						var entity = entities[0];
						var uuid = entity.metadata.uuid+'';
						userGr.x_nuta2_nutanix_ca_nutanix_uuid = uuid;
						userGr.update();

					} else {

						this.logger.debug("Nutanix_ImportUsers.importUsers:- Connection users/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
					}
					///

				}else{
					this.logger.error("Nutanix_ConfigureSettingScripts._checkUsersUUID :- Error while creating user entity in calm:- "+response.haveError()+" Status code :- "+response.getStatusCode()+" Error :: "+response.getBody());
				}
				}
			}

			var taskComplete = true;
			var i = 0;
			do{
				if(i&gt;=taskUUIDList.length){
					i=0;
					taskComplete = true;
				}

				var response = this.appUtil.makeCalmApiCall("GET", "/tasks/"+taskUUIDList[i], '');
				var parsedTask = JSON.parse(response.getBody());
				if(parsedTask.status+'' == 'QUEUED' || parsedTask.status+'' == 'RUNNING'){
					taskComplete = false;
					i++;
				}else{
					taskUUIDList.splice(i, 1); 
				}

				if(taskUUIDList.length&lt;1)
					break;

			}while(taskComplete==false);

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._checkUsersUUID. Error:- "+e);
		}
	},

	_updateSnowRole : function(current){

		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._updateSnowRole.");		
			var users = (current.variables.assign_users+'').split(',');
			for(var i in users){
				var gr = new GlideRecord("sys_user");
				gr.addQuery('sys_id',users[i]+'');
				gr.query();
				if (gr.next()){
					r=['3376fd254f452b001200e5201310c717','e098ecf6c0a80165002aaec84d906014'];
					
					/*var grProp = new GlideRecord('x_nuta2_nutanix_ca_calm_plugin_configuration');
		            if (grProp.get(gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id')))
					{	
		            if(grProp.use_external_credential_system)
		                  r.push('e76b74ba0ab3015700a3263b26e5e9d5');
					}*/
					for(var i=0;i&lt;r.length;i++){
						var grd = new GlideRecord('sys_user_has_role');
						grd.addQuery('user',gr.sys_id);
						grd.addQuery('role',r[i]);
						grd.query();

						if(!grd.hasNext()){
							grd.user = gr.sys_id;
							grd.role = r[i];
							grd.insert();
						}
					}
				}
			}
			var catSysId = current.variables.cat_item+'';
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('catalog_item', catSysId);
			gr.query();
			var catName ="";
			if(gr.next())
				catName = gr.catalog_item.name+'';

			this.logger.info("Required plugin roles given to all the assigned users for catalog item::"+catName);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._updateSnowRole. Error:- "+e);
		}

	},

	_updateUserOverCalm: function(current){
		try{		
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._updateUserOverCalm.");			

			if(!current.variables.assign_users)
				return;

			this._checkUsersUUID(current);//this create ldap user in calm and updates ldap user uuid in SNOW if user uuid is not present in calm.

			var response = this.appUtil.makeCalmApiCall("GET", this.appUtil.configuration.api.projectInternal+"/"+current.variables.project, '');

			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				
				var parsed = this.appUtil.parse(response.getBody());
				var acpRoles = parsed.spec.access_control_policy_list;

				var acpConsumerRoleIndex = '';

				for(var i in acpRoles){
					if(acpRoles[i].acp.resources.role_reference.uuid+'' == gs.getProperty('x_nuta2_nutanix_ca.cosumer.role.uuid')+''){
						acpConsumerRoleIndex = i;
					}
					parsed.spec.access_control_policy_list[i].operation = "UPDATE";
				}

				var userGr = new GlideRecord('sys_user');
				userGr.addEncodedQuery('sys_idIN'+current.variables.assign_users);				
				userGr.query();

				var userArr = {};

				while(userGr.next()){
					userArr[userGr.sys_id+''] = {
						"uuid": (userGr)?userGr.x_nuta2_nutanix_ca_nutanix_uuid+'':'',
						"email" : (userGr)?userGr.email+'':''
					};
				}

				if(acpConsumerRoleIndex){//if consumer role is there in project

					var users = (current.variables.assign_users+'').split(',');
					for(var i in users){
						parsed.spec.access_control_policy_list[acpConsumerRoleIndex].acp.resources.user_reference_list.push({
							"name": (userArr[users[i]+''])?userArr[users[i]+''].email+'':'',
							"kind": "user",
							"uuid": (userArr[users[i]+''])?userArr[users[i]+''].uuid+'':''
						});

						parsed.spec.project_detail.resources.user_reference_list.push({
							"name": (userArr[users[i]+''])?userArr[users[i]+''].email+'':'',
							"kind": "user",
							"uuid": (userArr[users[i]+''])?userArr[users[i]+''].uuid+'':''
						});
					}

				}else{ //pushes consumer role in project

					var projectSubnet;
					var project = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');
					project.addQuery('uuid', current.variables.project+'');
					project.setLimit(1);
					project.query();
					if(project.next()){
						projectSubnet = project.subnet+'';
					}

					var arr = [];

					var gr = new GlideRecord('x_nuta2_nutanix_ca_subnet');
					gr.addEncodedQuery('sys_idIN'+projectSubnet);
					gr.query();
					while(gr.next()){
						arr.push(gr.cluster_uuid+'');
					}

					var clusterEntitle = {
						"left_hand_side": {
							"entity_type": "cluster"
						},
						"operator": "IN",
						"right_hand_side": {
							"uuid_list": arr
						}
					};
										
					
					var tmp = {"acp":{"name":"nuSnowAcp-"+current.variables.project,"resources":{"role_reference":{"name":"Consumer","uuid":"49e8f061-0948-4705-953b-88915397bd60","kind":"role"},"user_group_reference_list":[],"user_reference_list":[],"filter_list":{"context_list":[{"scope_filter_expression_list":[{"operator":"IN","left_hand_side":"PROJECT","right_hand_side":{"uuid_list":[current.variables.project+'']}}],"entity_filter_expression_list":[{"operator":"IN","left_hand_side":{"entity_type":"ALL"},"right_hand_side":{"collection":"ALL"}}]},{"entity_filter_expression_list":[]}]}},"description":""},"metadata":{"kind":"access_control_policy"},"operation":"ADD"};
					
					var consumerFilter = JSON.parse(gs.getProperty('x_nuta2_nutanix_ca.consumer.entitlement.filter'));
					tmp.acp.resources.filter_list.context_list[1].entity_filter_expression_list = consumerFilter["2.9"];//gs.getProperty('x_nuta2_nutanix_ca.calm_version')];
					
					tmp.acp.resources.filter_list.context_list[1].entity_filter_expression_list.push(clusterEntitle);

					tmp.acp.resources.role_reference = {
						"name": "Consumer",
						"uuid": gs.getProperty('x_nuta2_nutanix_ca.cosumer.role.uuid')+'',
						"kind": "role"
					};

					tmp.acp.resources.user_reference_list = [];

					var users = (current.variables.assign_users+'').split(',');
					for(var i in users){

						tmp.acp.resources.user_reference_list.push({
							"name": (userArr[users[i]+''])?userArr[users[i]+''].email+'':'',
							"kind": "user",
							"uuid": (userArr[users[i]+''])?userArr[users[i]+''].uuid+'':''
						});

						parsed.spec.project_detail.resources.user_reference_list.push({
							"name": (userArr[users[i]+''])?userArr[users[i]+''].email+'':'',
							"kind": "user",
							"uuid": (userArr[users[i]+''])?userArr[users[i]+''].uuid+'':''
						});
					}
					parsed.spec.access_control_policy_list.push(tmp);

				}

				var requestBody = {
					"spec": parsed.spec,
					"api_version": parsed.api_version,
					"metadata": parsed.metadata
				}

				var response = this.appUtil.makeCalmApiCall("PUT", this.appUtil.configuration.api.projectInternal+"/"+current.variables.project, JSON.stringify(requestBody));

				if(response.getStatusCode() == '200' || response.getStatusCode() == '201' || response.getStatusCode() == '202'){

					this.logger.info("Nutanix_ConfigureSettingScripts._updateUserOverCalm:- Users successfuly updated in calm.");
					this._updateSnowRole(current);
				}else{
					this.logger.error("Nutanix_ConfigureSettingScripts._updateUserOverCalm :- Error while updating users onto calm :- "+response.haveError()+" Status code :- "+response.getStatusCode()+" Error :: "+response.getBody());
				}
			}else{
				this.logger.error("Nutanix_ConfigureSettingScripts._updateUserOverCalm :- Connection to /projects_internal not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._updateUserOverCalm. Error:- "+e);
		}
	},

	///changes
	_checkGroupUUID: function(current){
		try{		
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._checkGroupsUUID.");
			var groupGr = new GlideRecord('sys_user_group');
			groupGr.addEncodedQuery('sys_idIN'+current.variables.assign_groups+'^x_nuta2_nutanix_ca_nutanix_group_uuidISEMPTY');				
			groupGr.query();

			var taskUUIDList = [];
			
			while(groupGr.next()){
				var groups = (current.variables.assign_groups.getDisplayValue()+'').split(',');

				var distinguishedName = groupGr.source.replace(/ldap:/g,""); //"CN="+groups[i]+",CN=Users,DC=calsoftcalm,DC=com";

				var body = {
					"api_version": "3.0",
					"metadata": {
						"kind": "user_group"
					},
					"spec": {
						"resources": {
							"directory_service_user_group": {
								"distinguished_name": distinguishedName
							}
						}
					}
				};
				this.logger.debug("Body send for group :: "+JSON.stringify(body));
				var response = this.appUtil.makeCalmApiCall("POST", "/user_groups", JSON.stringify(body));	
				var res = JSON.parse(response.getBody());
				if(response.getStatusCode() == '200' || response.getStatusCode() == '201' || response.getStatusCode() == '202'){

					groupGr.x_nuta2_nutanix_ca_nutanix_group_uuid = JSON.parse(response.getBody()).metadata.uuid+'';
					groupGr.update();
					
					taskUUIDList.push(JSON.parse(response.getBody()).status.execution_context.task_uuid+'');

				}else if(response.getStatusCode() == '400' &amp;&amp; res.message_list[0].reason == "DUPLICATE_ENTITY"){

					var payload =  {	"kind": "user_group",
									"filter" : "group_name=="+groupGr.name+''
								   };


					var response = this.appUtil.makeCalmApiCall("POST", this.appUtil.configuration.api.getGroupsList+"", this.appUtil.stringify(payload));

					if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){

						var parsedJSON = this.appUtil.parse(response.getBody());
						var entities = parsedJSON.entities;
						var entity = entities[0];
						var uuid = entity.metadata.uuid+'';
						groupGr.x_nuta2_nutanix_ca_nutanix_group_uuid = uuid;
						groupGr.update();

					} else {

						this.logger.debug("Nutanix_ImportUsers.importUsers:- Connection users/list not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
					}
					///
				}else{
					this.logger.error("Nutanix_ConfigureSettingScripts._checkGroupsUUID :- Error while creating group entity in calm:- "+response.haveError()+" Status code :- "+response.getStatusCode()+" Error :: "+response.getBody());
				}
				//}
				//} 

				//} 
			}
			
			var taskComplete = true;
			var i = 0;
			do{
				if(i&gt;=taskUUIDList.length){
					i=0;
					taskComplete = true;
				}

				var response = this.appUtil.makeCalmApiCall("GET", "/tasks/"+taskUUIDList[i], '');
				var parsedTask = JSON.parse(response.getBody());
				if(parsedTask.status+'' == 'QUEUED' || parsedTask.status+'' == 'RUNNING'){
					taskComplete = false;
					i++;
				}else{
					taskUUIDList.splice(i, 1); 
				}

				if(taskUUIDList.length&lt;1)
					break;

			}while(taskComplete==false);
			
		} catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._checkGroupUUID. Error:- "+e);
		}
	},

	_updateGroupSnowRole : function(current){

		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._updateGroupSnowRole.");
			var groups = "";
			//Check ldap or local group to pick
			var lg = new x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge();
			var status = lg.hideAccessLocalGroupOption(); //to check if the given option is for local groups.
			if(status + "" == "false")
				groups = (current.variables.assign_groups+'').split(',');
			else
				groups = (current.variables.assign_local_groups+'').split(',');
			
			for(var i in groups){
				var gr = new GlideRecord("sys_user_group");
				gr.addQuery('sys_id',groups[i]+'');
				gr.query();
				if (gr.next()){
					r=['3376fd254f452b001200e5201310c717','e098ecf6c0a80165002aaec84d906014'];
					
					var grProp = new GlideRecord('x_nuta2_nutanix_ca_calm_plugin_configuration');
		            if (grProp.get(gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id')))
					{	
		            if(grProp.use_external_credential_system)
		                  r.push('e76b74ba0ab3015700a3263b26e5e9d5');
					}
					for(var i=0;i&lt;r.length;i++){
						var grd = new GlideRecord('sys_group_has_role');
						grd.addQuery('group',gr.sys_id);
						grd.addQuery('role',r[i]);
						grd.query();

						if(!grd.hasNext()){
							grd.group = gr.sys_id;
							grd.role = r[i];
							grd.insert();
						}
					}
				}
			}
			var catSysId = current.variables.cat_item+'';
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('catalog_item', catSysId);
			gr.query();
			var catName ="";
			if(gr.next())
				catName = gr.catalog_item.name+'';

			this.logger.info("Required plugin roles given to all the assigned groups for catalog item::"+catName);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._updateGroupSnowRole. Error:- "+e);
		}

	},

	_updateGroupOverCalm: function(current){
		try{
			
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._updateGroupOverCalm.");

			if(!current.variables.assign_groups)
				return;

			this._checkGroupUUID(current);//this create ldap group in calm and updates ldap group uuid in SNOW if group uuid is not present in calm.

			var response = this.appUtil.makeCalmApiCall("GET", this.appUtil.configuration.api.projectInternal+"/"+current.variables.project, '');

			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				var parsed = this.appUtil.parse(response.getBody());
				var acpRoles = parsed.spec.access_control_policy_list;
				var acpConsumerRoleIndex = '';

				for(var i in acpRoles){
					if(acpRoles[i].acp.resources.role_reference.uuid+'' == gs.getProperty('x_nuta2_nutanix_ca.cosumer.role.uuid')+''){
						acpConsumerRoleIndex = i;
					}
					parsed.spec.access_control_policy_list[i].operation = "UPDATE";
				}

				var groupGr = new GlideRecord('sys_user_group');
				groupGr.addEncodedQuery('sys_idIN'+current.variables.assign_groups);				
				groupGr.query();

				var groupArr = {};

				while(groupGr.next()){
					groupArr[groupGr.sys_id+''] = {
						"uuid": (groupGr)?groupGr.x_nuta2_nutanix_ca_nutanix_group_uuid+'':'',
						"name" : (groupGr)?groupGr.name+'':''
					};
				}
				if(acpConsumerRoleIndex){//if consumer role is there in project

					var groups = (current.variables.assign_groups+'').split(',');
					for(var i in groups){
						parsed.spec.access_control_policy_list[acpConsumerRoleIndex].acp.resources.user_group_reference_list.push({
							"name": (groupArr[groups[i]+''])?groupArr[groups[i]+''].name+'':'',
							"kind": "user_group",
							"uuid": (groupArr[groups[i]+''])?groupArr[groups[i]+''].uuid+'':''
						});

						parsed.spec.project_detail.resources.external_user_group_reference_list.push({
							"name": (groupArr[groups[i]+''])?groupArr[groups[i]+''].name+'':'',
							"kind": "user_group",
							"uuid": (groupArr[groups[i]+''])?groupArr[groups[i]+''].uuid+'':''
						});
					}


				}else{ //pushes consumer role in project

					//var tmp = {"acp":{"name":"nuSnowAcp-"+current.variables.project,"resources":{"role_reference":{"name":"Consumer","uuid":"49e8f061-0948-4705-953b-88915397bd60","kind":"role"},"user_group_reference_list":[],"user_reference_list":[],"filter_list":{"context_list":[{"scope_filter_expression_list":[{"operator":"IN","left_hand_side":"PROJECT","right_hand_side":{"uuid_list":[current.variables.project+'']}}],"entity_filter_expression_list":[{"operator":"IN","left_hand_side":{"entity_type":"ALL"},"right_hand_side":{"collection":"ALL"}}]},{"entity_filter_expression_list":[]}]}},"description":"untitledAcp-e3c568f8-e11b-71e3-a916-493940647e79"},"metadata":{"kind":"access_control_policy"},"operation":"ADD"};

					var projectSubnet;
					var project = new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');
					project.addQuery('uuid', current.variables.project+'');
					project.setLimit(1);
					project.query();
					if(project.next()){
						projectSubnet = project.subnet+'';
					}

					var arr = [];

					var gr = new GlideRecord('x_nuta2_nutanix_ca_subnet');
					gr.addEncodedQuery('sys_idIN'+projectSubnet);
					gr.query();
					while(gr.next()){
						arr.push(gr.cluster_uuid+'');
					}

					var clusterEntitle = {
						"left_hand_side": {
							"entity_type": "cluster"
						},
						"operator": "IN",
						"right_hand_side": {
							"uuid_list": arr
						}
					};


					var tmp = {"acp":{"name":"nuSnowAcp-"+current.variables.project,"resources":{"role_reference":{"name":"Consumer","uuid":"49e8f061-0948-4705-953b-88915397bd60","kind":"role"},"user_group_reference_list":[],"user_reference_list":[],"filter_list":{"context_list":[{"scope_filter_expression_list":[{"operator":"IN","left_hand_side":"PROJECT","right_hand_side":{"uuid_list":[current.variables.project+'']}}],"entity_filter_expression_list":[{"operator":"IN","left_hand_side":{"entity_type":"ALL"},"right_hand_side":{"collection":"ALL"}}]},{"entity_filter_expression_list":[]}]}},"description":""},"metadata":{"kind":"access_control_policy"},"operation":"ADD"};

					var consumerFilter = JSON.parse(gs.getProperty('x_nuta2_nutanix_ca.consumer.entitlement.filter'));
					tmp.acp.resources.filter_list.context_list[1].entity_filter_expression_list = consumerFilter["2.9"];//gs.getProperty('x_nuta2_nutanix_ca.calm_version')];

					tmp.acp.resources.filter_list.context_list[1].entity_filter_expression_list.push(clusterEntitle);
					
					
					
					tmp.acp.resources.role_reference = {
						"name": "Consumer",
						"uuid": gs.getProperty('x_nuta2_nutanix_ca.cosumer.role.uuid')+'',
						"kind": "role"
					};

					tmp.acp.resources.user_group_reference_list = [];

					var groups = (current.variables.assign_groups+'').split(',');
					for(var i in groups){

						tmp.acp.resources.user_group_reference_list.push({
							"name": (groupArr[groups[i]+''])?groupArr[groups[i]+''].name+'':'',
							"kind": "user_group",
							"uuid": (groupArr[groups[i]+''])?groupArr[groups[i]+''].uuid+'':''
						});

						parsed.spec.project_detail.resources.external_user_group_reference_list.push({
							"name": (groupArr[groups[i]+''])?groupArr[groups[i]+''].name+'':'',
							"kind": "user_group",
							"uuid": (groupArr[groups[i]+''])?groupArr[groups[i]+''].uuid+'':''
						});
					}
					parsed.spec.access_control_policy_list.push(tmp);
				}

				var requestBody = {
					"spec": parsed.spec,
					"api_version": parsed.api_version,
					"metadata": parsed.metadata
				}

				var response = this.appUtil.makeCalmApiCall("PUT", this.appUtil.configuration.api.projectInternal+"/"+current.variables.project, JSON.stringify(requestBody));


				if(response.getStatusCode() == '200' || response.getStatusCode() == '201' || response.getStatusCode() == '202'){
					this.logger.info("Nutanix_ConfigureSettingScripts._updateGroupOverCalm:- Groups successfuly updated in calm.");
					this._updateGroupSnowRole(current);
				}else{
					this.logger.error("Nutanix_ConfigureSettingScripts._updateGroupOverCalm :- Error while updating groups onto calm :- "+response.haveError()+" Status code :- "+response.getStatusCode()+" Error :: "+response.getBody());
				}
			}else{
				this.logger.error("Nutanix_ConfigureSettingScripts._updateGroupOverCalm :- Connection to /projects_internal not established :- "+response.haveError()+" Status code :- "+response.getStatusCode());
			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._updateGroupOverCalm. Error:- "+e);
		}
	},
	////changes over

	_updateCatalogItem: function(source, target, bpSys_id, current){

		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._updateCatalogItem.");			
			var catItemSysId = current.variables.cat_item+'';
			
			var lg = new x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge();
			var status = lg.hideAccessLocalGroupOption(); //to check if the given option is for local groups.

			var ans = [];

			var assignCriteria = new GlideRecord(this.appUtil.configuration.table.catalogUserCriteria+'');
			assignCriteria.addQuery('sc_cat_item', catItemSysId);
			assignCriteria.query();

			this.logger.info("Updated user &amp; group entitlement to "+current.variables.assign_users+" :: "+current.variables.assign_groups);		

			if(assignCriteria.next()){
				var user_criteria = assignCriteria.user_criteria.getRefRecord();

				user_criteria.user = current.variables.assign_users;
				if(status + "" == "false")
					{
						user_criteria.group = current.variables.assign_groups;
					}
				else
					{
						user_criteria.group = current.variables.assign_local_groups;
					}
				
				var criteriaSysId = user_criteria.update();

				ans.push(catItemSysId);
				ans.push(criteriaSysId);
			}		

			return ans;
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._updateCatalogItem. Error:- "+e);
		}
	},

	_copyCatalogItem: function(source, target, bpSys_id, current, blueprintType, clientData, nonFilteredClientData){
		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._copyCatalogItem.");			

			var sourceGR = new GlideRecord(source);
			sourceGR.addQuery('sys_id', bpSys_id);
			sourceGR.query();

			var ans = [];
			var nicSysIdList = [];

			if(sourceGR.next()){

				var profileSysID = '';
				var appSysID = '';
				var targetGr = sourceGR;

				targetGr.sys_name = current.variables.item_name+'';
				targetGr.name = current.variables.item_name+'';
				targetGr.short_description = current.variables.item_name+'';
				targetGr.description_markdown = current.variables.description+'';
				targetGr.description = this.appUtil.markdown_renderer(current.variables.description+'');
				targetGr.active = true;
				targetGr.blueprint_name = bpSys_id+'';
				targetGr.sys_class_name = target+'';
				if(blueprintType == "published"){
					
					var parsedClientData = JSON.parse(clientData);
						
					targetGr.cloned_bp_json = nonFilteredClientData;
					targetGr.cloned_bp_uuid = (parsedClientData.uuid+'') ? parsedClientData.uuid+'' : "";
					targetGr.cloned_bp_name = (parsedClientData.name+'') ? parsedClientData.name+'' : "";
				}

				var catItemSysId = targetGr.insert();

				var imageBase64Str = gs.getProperty('x_nuta2_nutanix_ca.default.image');

				var gr = new GlideRecord('sys_attachment');
				gr.addQuery('table_sys_id', catItemSysId);	//tablesys_id of the record
				gr.query();
				if(gr.next()){
					var kk = new GlideSysAttachment();
					imageBase64Str = kk.getContentBase64(gr);	
				}

				var attachGR = new GlideSysAttachment();
				attachGR.writeBase64(targetGr, 'picture', 'image/png', imageBase64Str);

				attachGR = new GlideSysAttachment();
				attachGR.writeBase64(targetGr, 'icon', 'image/png', gs.getProperty('x_nuta2_nutanix_ca.default.icons'));




				this.logger.debug("Created catalog item with sysId "+catItemSysId);			
				this.logger.info("Catalog item "+current.variables.item_name+" creating.");			

				var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				fieldGR.addEncodedQuery('cat_item='+bpSys_id);
				fieldGR.query();

				while(fieldGR.next()){

					var oldSysId = fieldGR.sys_id+'';

					var newField = fieldGR;
					newField.cat_item = catItemSysId+'';
					var fieldSysId = newField.insert();

					/**Advance variable Select box choices**/
					if(fieldGR.type+'' == 5){
						var glideRec = new GlideRecord('question_choice');
						glideRec.addQuery('question', oldSysId+'');
						glideRec.query();
						while(glideRec.next()){
							glideRec.question = fieldSysId;
							var x = glideRec.insert();

						}
					}


					/**Advance variable Select box choices**/

					if(fieldGR.name+'' == 'default_profile')
						profileSysID = fieldSysId;

					if(fieldGR.name+'' == 'default_app_name')
						appSysID = fieldSysId;



					if((fieldGR.name+'').indexOf('_nic_')!= -1){
						nicSysIdList.push(fieldGR.sys_id+'');

					} 
				}

				this.logger.debug("Created variables for catalog item "+current.variables.item_name);	

				/*var insVar = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+''); //Inserts variable to check sync or delete
				insVar.addQuery('cat_item', catItemSysId);
				insVar.query();
				if(insVar.next()) {
					insVar.initialize();
					insVar.type = 6;
					insVar.cat_item = catItemSysId+'';
					insVar.active = true;
					insVar.question_text = 'sync_flag';
					insVar.name = 'sync_flag';
					insVar.mandatory = 'false';
					insVar.order = 0;
					insVar.insert();
				}*/

				//Hide containers on order page
				var hideGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				hideGR.addQuery('cat_item', catItemSysId);
				hideGR.addQuery('active', true);
				hideGR.orderBy('order');
				var previousGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				previousGR.addQuery('cat_item', catItemSysId);
				previousGR.addQuery('active', true);
				previousGR.orderBy('order');
				hideGR.query();
				previousGR.query();
				while(hideGR.next()) {
					if(hideGR.type==20 &amp;&amp; previousGR.type==19) {
						hideGR.active = false;
						previousGR.active = false;
						previousGR.update();
						hideGR.update();
					}
					previousGR.next();
				}
				
				
				var lg = new x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge();
 				var status = lg.hideAccessLocalGroupOption(); //to check if the given option is for local groups.
// 				var user_criteria = new GlideRecord(this.appUtil.configuration.table.userCriteria+'');
// 				user_criteria.initialize();
// 				user_criteria.name = "Nutanix_"+current.variables.item_name+"_Entitlement";
// 				user_criteria.user = current.variables.assign_users;
// 				if(status+"" == "false")
// 					{
// 						user_criteria.group = current.variables.assign_groups;
// 					}
// 				else
// 					{
// 						user_criteria.group = current.variables.assign_local_groups;
// 					}				
// 				user_criteria.role = gs.getProperty('x_nuta2_nutanix_ca.admin.role.sysId');
// 				user_criteria.active = true;
// 				user_criteria.advanced = true;
// 				user_criteria.match_all = false;
// 				user_criteria.script = "answer = false;";
// 				var criteriaSysId = user_criteria.insert(); 
// 				gs.info('user_criteria.group '+user_criteria.group);
				
				
			var user_criteria = new sn_uc.UserCriteria();
				user_criteria.setName("Nutanix_"+current.variables.item_name+"_Entitlement"); 
				user_criteria.setUsers(current.variables.assign_users);
				var group = '';
				if(status+"" == "false")
					{
						group = current.variables.assign_groups;
					}
				else
					{
						group = current.variables.assign_local_groups;
					}	
				user_criteria.setGroups(group);
				user_criteria.setRoles(gs.getProperty('x_nuta2_nutanix_ca.admin.role.sysId'));
				user_criteria.setActive(true); 
				user_criteria.setAdvanced(true); 
				user_criteria.setMatchAll(false); 
				user_criteria.setScript("answer = false;");
				var criteriaSysId = user_criteria.create();


				this.logger.debug("Entitled users &amp; groups to catalog item "+current.variables.item_name);	

/*				var assignCriteria = new GlideRecord(this.appUtil.configuration.table.catalogUserCriteria+'');
				assignCriteria.initialize();
				assignCriteria.sc_cat_item = catItemSysId+'';
				assignCriteria.user_criteria = criteriaSysId+'';
				assignCriteria.insert();*/
				
 				var assignCriteria = new sn_sc.CatItem(catItemSysId);
                assignCriteria. availableForUserCriteria("add", [criteriaSysId]);

				ans.push(catItemSysId);
				ans.push(criteriaSysId);

				/*var onLoadclientScript = new GlideRecord(this.appUtil.configuration.table.catalogClientScript+'');
				onLoadclientScript.initialize();
				onLoadclientScript.name = "Get sync status on load";
				onLoadclientScript.type = "onLoad";
				onLoadclientScript.applies_to = "item";
				onLoadclientScript.cat_item = catItemSysId;
				onLoadclientScript.active = true;
				onLoadclientScript.order=100;
				//onLoadclientScript.sys_policy=protected;

				onLoadclientScript.description = 'This script is auto created thorugh runtime module for saving sync status.';

				onLoadclientScript.applies_catalog = true;
				onLoadclientScript.ui_type = "0";
				onLoadclientScript.applies_req_item = false;
				onLoadclientScript.applies_sc_task = false;
				onLoadclientScript.script = "function onLoad() { g_form.setValue('sync_flag', ''); var a=new GlideAjax('Nutanix_ClientServerScriptBridge');a.addParam('sysparm_name','checkQueue');a.getXML(responseParse);} function responseParse(response) {var b=response.responseXML.documentElement.getAttribute('answer');g_form.setValue('sync_flag', b);}";
				onLoadclientScript.insert();

				this.logger.debug("Created onLoad get sync value script on catalog item "+current.variables.item_name);

				var onSubmitclientScript = new GlideRecord(this.appUtil.configuration.table.catalogClientScript+'');
				onSubmitclientScript.initialize();
				onSubmitclientScript.name = "Prevent form submit";
				onSubmitclientScript.type = "onSubmit";
				onSubmitclientScript.applies_to = "item";
				onSubmitclientScript.cat_item = catItemSysId;
				onSubmitclientScript.active = true;
				onSubmitclientScript.order=100;
				//onLoadclientScript.sys_policy=protected;

				onSubmitclientScript.description = 'This script is auto created thorugh runtime module for preventing submission of form during a sync or delete.';

				onSubmitclientScript.applies_catalog = true;
				onSubmitclientScript.ui_type = "0";
				onSubmitclientScript.applies_req_item = false;
				onSubmitclientScript.applies_sc_task = false;
				onSubmitclientScript.script = "function onSubmit() { var sync_stat = g_form.getValue('sync_flag'); if(sync_stat == 'true'){return true;}else{return false;} }";
				onSubmitclientScript.insert();

				this.logger.debug("Created onSubmit validation script on catalog item "+current.variables.item_name);*/




                var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
				   "name" : "Check Catalog Item Validity",
				   "type" : "onLoad",
				   "applies_to" : "item",
				   "cat_item" : ''+catItemSysId,
				   "active" : true,
				   "order" : 1,
				   "description" : 'This script is auto created thorugh runtime module for checking BP validity from which this catalog item was created.',
				   "applies_catalog" : true,
				   "ui_type" : "0",
				   "applies_req_item" : false,
				   "applies_sc_task" : false
				});
				onLoadCatalogClientScript.appliesToCatalogItem(true);
				var onLoadScript =  "function onLoad() { var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\"; var loadingDialog = new GlideModal('loader', true); loadingDialog.setTitle('Checking Blueprint Status...'); loadingDialog.renderWithContent(''+loadingHTML); var blueprintType = getParameterValue('type')+''; var blueprintUUID = getParameterValue('uuid')+''; var profileSysId = getParameterValue('profileSysId')+''; var projectUUID = getParameterValue('projectUUID') + ''; var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'checkCatalogValidity'); ga.addParam('blueprintType', blueprintType); ga.addParam('blueprintUUID', blueprintUUID); ga.addParam('profileSysId', profileSysId); ga.addParam('projectUUID', projectUUID); ga.getXML(parseResponse, null, loadingDialog); function parseResponse(response, loadingDialog) { var answer = response.responseXML.documentElement.getAttribute('answer'); var message=''; if (answer + '' == 'INACTIVE') { message= 'Project/Profile/Blueprint/MPI is not available at Calm. So, Catalog Item can\\'t be launched. Re-Directing back to catalog launch page.'; clearFieldValue(message); } else if (answer + '' == 'CANTCHECK') { message='Can\\'t check whether the Project/Profile/BP/MPI from which the catalog item was created is available or not. Please check the connection with Calm. Re-Directing back to catalog launch page.'; clearFieldValue(message); } new GlideModal().get('loader').destroy(); }  function clearFieldValue(message){ var fldType = {}; var elemen = g_form.elements; for (var i in elemen) { fldType[elemen[i].fieldName + ''] = elemen[i].type + ''; } alert(message); var flds = g_form.nameMap; for (var i in flds) { if (fldType[flds[i].realName + ''] + '' == 'formatter' || fldType[flds[i].realName + ''] + '' == 'container' || fldType[flds[i].realName + ''] + '' == 'checkbox_container' || fldType[flds[i].realName + ''] + '' == 'undefined') { continue; } if (flds[i].prettyName.indexOf('cluster_name') == -1) g_form.clearValue(flds[i].prettyName); } 				 self.location = '/x_nuta2_nutanix_ca_nutanix_runtime_configuration_list.do?sysparm_userpref_module=29d7d2e54f41230065e48020a310c7f6&amp;sysparm_view=catalog_view&amp;sysparm_query=GROUPBYitem_name.category&amp;sysparm_clear_stack=true'; 				 }  function getParameterValue(name) {   name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");   var regexS = \"[\\\\?&amp;]\" + name + \"=([^&amp;#]*)\";   var regex = new RegExp(regexS);   var results = regex.exec(self.location);   if (results == null) {   return \"\";   } else {   return unescape(results[1]);   }   } }";
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();







                var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
					 "name":"Get Project and Profile List onLoad",
				     "type":"onLoad",
				     "applies_to":"item",
				     "cat_item":''+catItemSysId,
				     "active":"true",
				     "order":"100",
				     "description":"This script is auto created thorugh runtime module for getting projects and profile list.",
				     "applies_catalog":"true",
				     "ui_type":"0",
					 "applies_req_item":false,
				     "applies_sc_task":false
				});
                onLoadCatalogClientScript.appliesToCatalogItem(true);
				var onLoadScript = "function onLoad() { var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\"; var loadingDialog = new GlideModal('loader', true); loadingDialog.setTitle('Fetching Project And Profile'); loadingDialog.renderWithContent(''+loadingHTML); var cat_sys_id = g_form.getUniqueValue(); var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'fetchProjectAndProfileList'); ga.addParam('sysparm_catSysID', cat_sys_id); ga.getXML(parseResponse, null , loadingDialog); function parseResponse(response, loadingDialog) { var answer = response.responseXML.documentElement.getAttribute('answer'); var parsed = JSON.parse(answer);var projectList = parsed.projectList; g_form.clearOptions('default_project');for (var i = 0; i &lt; projectList.length; i++) { var project = projectList[i]; g_form.addOption('default_project', project.uuid, project.name);}var profileList = parsed.profileList.split(','); g_form.clearOptions('default_profile');g_form.setReadOnly('default_project', true); for (i = 0; i &lt; profileList.length; i++) { g_form.addOption('default_profile', profileList[i] + '', profileList[i] + ''); } g_form.setValue('default_profile', profileList[0]); new GlideModal().get('loader').destroy();}}";
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();

	//			this.logger.debug("Created onLoad script to get project and profile list on catalog item "+current.variables.item_name);

                var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
					"name":"Get Credentials OnLoad",
				    "type":"onLoad",
				    "applies_to":"item",
				    "cat_item":''+catItemSysId,
				    "active":true,
				    "order":200,
				    "description":"This script is auto created thorugh runtime module for getting Credentials list.",
				    "applies_catalog":true,
				    "ui_type":"0",
				    "applies_req_item":false,
				    "applies_sc_task":false
				});
				onLoadCatalogClientScript.appliesToCatalogItem(true);
				var onLoadScript = "function onLoad() { var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\";var loadingDialog = new GlideModal('loader', true); loadingDialog.setTitle('Fetching Credentials List...'); loadingDialog.renderWithContent(''+loadingHTML); var cat_sys_id = g_form.getUniqueValue();var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'fetchCredentialsList');ga.addParam('sysparm_catSysID', cat_sys_id);ga.getXML(parseResponse, null, loadingDialog); function parseResponse(response, loadingDialog) {var answer = response.responseXML.documentElement.getAttribute('answer'); var credArr = {}; var parsed = JSON.parse(answer);for (var i in parsed) { var credential = parsed[i]; var name = (credential.actual_name + '').toLowerCase().replace(/ /g, '_');g_form.setValue(name + '_credential_name', credential.name + ''); g_form.setReadOnly(name + '_credential_name', true); g_form.setValue(name + '_secret_type', credential.type + '', (credential.type + '' == 'KEY') ? 'SSH Private Key' : 'Password'); g_form.setReadOnly(name + '_secret_type', true); g_form.setValue(name + '_username', credential.username.value); g_form.setReadOnly(name + '_username', credential.username.readOnly); g_form.setDisplay(name + '_username', !credential.username.readOnly); if ((credential.type == 'KEY')) {g_form.setValue(name + '_ssh_private_key', credential.ssh_private_key.value); g_form.setReadOnly(name + '_ssh_private_key', credential.ssh_private_key.readOnly); g_form.setValue(name + '_passphrase', credential.passphrase.value); g_form.setReadOnly(name + '_passphrase', credential.passphrase.readOnly); g_form.setDisplay(name + '_password', 'false'); g_form.setDisplay(name + '_ssh_private_key', !credential.ssh_private_key.readOnly); g_form.setDisplay(name + '_passphrase', !credential.passphrase.readOnly); } else { g_form.setValue(name + '_password', ''); credArr[name + '_password'] = credential.password.value; g_form.setReadOnly(name + '_password', credential.password.readOnly); g_form.setDisplay(name + '_password', !credential.password.readOnly); g_form.setDisplay(name + '_ssh_private_key', 'false'); g_form.setDisplay(name + '_passphrase', 'false');}g_form.setDisplay(name + '_credential_reference', 'false'); if (credential.credential_reference &amp;&amp; credential.credential_reference.name) {g_form.setDisplay(name + '_credential_reference', 'true');g_form.addOption(name + '_credential_reference', credential.credential_reference.uuid + '', credential.credential_reference.name + '');g_form.setReadOnly(name + '_credential_reference', credential.credential_reference.readOnly);g_form.setDisplay(name + '_credential_reference', !credential.credential_reference.readOnly);g_form.setDisplay(name + '_ssh_private_key', 'false');g_form.setDisplay(name + '_passphrase', 'false');g_form.setDisplay(name + '_password', 'false');g_form.setDisplay(name + '_secret_type', 'false');}} sessionStorage['credentials_' + g_form.getUniqueValue()] = JSON.stringify(credArr); new GlideModal().get('loader').destroy();}}";
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();

	//			this.logger.debug("Created onLoad script to get credentials data on catalog item "+current.variables.item_name);	

				/* Fetching Dynamic values for advance variable*/

                var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
				  "name":"Fetch dynamic value for advance variables onload",
				  "type":"onLoad",
				  "applies_to":"item",
				  "cat_item":''+catItemSysId,
				  "active":true,
				  "order":10,
				  "description":"This script is created for fetching dynamic values for advance variables onload.",
				  "applies_catalog":true,
				  "ui_type":"0",
				  "applies_req_item":false,
				  "applies_sc_task":false
				});
				onLoadCatalogClientScript.appliesToCatalogItem(true);
				var onLoadScript = " function onLoad() { var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\"; var loadingDialog = new GlideModal('loader', true);  loadingDialog.setTitle('Fetching Dynamic values for advance variables...'); loadingDialog.renderWithContent(''+loadingHTML); var cat_sys_id = g_form.getUniqueValue(); var elemen = g_form.nameMap; var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'advanceVariableDynamicOptions'); ga.addParam('sysparm_catSysID', cat_sys_id); ga.getXML(parseResponse, null, loadingDialog); function parseResponse(response, loadingDialog) { var answer = response.responseXML.documentElement.getAttribute('answer'); var parse = JSON.parse(answer); var keys = Object.keys(parse[0]); var fieldRegex = parse[1]; parse = parse[0]; sessionStorage['FieldRegex_' + g_form.getUniqueValue()] = JSON.stringify(fieldRegex); for (var i = 0; i &lt; keys.length; i++) { var row = parse[keys[i] + '']; if (row.options.state == 'SUCCESS') { g_form.clearOptions(keys[i] + ''); for (var k = 0; k &lt; (row.options.values).length; k++) { g_form.addOption(keys[i] + '', row.options.values[k], row.options.values[k]); }} else { g_form.addErrorMessage('Error in variable: ' + keys[i] + ': ' + row.options.values[0]); }} new GlideModal().get('loader').destroy();}}";
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();

			//	this.logger.debug("Created onLoad script to fetch dynamic values for advance variable on catalog item "+current.variables.item_name);
				/* Fetching Dynamic values for advance variable*/


				var catalogScriptGR = new sn_sc.CatalogClientScript();
                catalogScriptGR.setAttributes({
                    "name": "Fetch form data on change of profile",
                    "type": "onChange",
                    "applies_to": "item",
                    "cat_item": "" + catItemSysId,
                    "cat_variable": "IO:" + profileSysID,
                    "active": true,
                    "order": 100,
                    "description": 'This script is auto created thorugh runtime module for fetching and setting form data and visibility.',
                    "applies_catalog": true,
                    "ui_type": "0",
                    "applies_req_item": false,
                    "applies_sc_task": false,
                });
                catalogScriptGR.appliesToCatalogItem(true);
                var Script = "function onChange(control, oldValue, newValue, isLoading) {if (newValue == '') {return;} var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\"; var loadingDialogbox = new GlideModal('loader', true);loadingDialogbox.setTitle('Fetching Order Form Data...'); loadingDialogbox.renderWithContent(''+loadingHTML);var fldType = {};var elemen = g_form.elements;for (var i in elemen) { fldType[elemen[i].fieldName + ''] = elemen[i].type + '';}var flds = g_form.nameMap;for (var i in flds) {if (fldType[flds[i].realName + ''] + '' == 'formatter' || fldType[flds[i].realName + ''] + '' == 'container' || fldType[flds[i].realName + ''] + '' == 'checkbox_container' || fldType[flds[i].realName + ''] + '' == 'undefined') {continue;} g_form.setDisplay(flds[i].prettyName, false);}g_form.setVariablesReadOnly(true);g_form.setDisplay('provider_icons', 'true');g_form.setReadOnly('default_project', false);g_form.setReadOnly('default_app_name', false);g_form.setReadOnly('default_profile', false);g_form.setDisplay('default_project', true);g_form.setDisplay('default_app_name', true);g_form.setDisplay('default_profile', true);var profile = newValue;var cat_sys_id = g_form.getUniqueValue();var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge');ga.addParam('sysparm_name', 'fetchOrderFormData');ga.addParam('sysparm_profile', profile);ga.addParam('sysparm_catSysID', cat_sys_id);ga.getXML(parseResponse, null, loadingDialogbox);function parseResponse(response, loadingDialog) { var answer = response.responseXML.documentElement.getAttribute('answer');   var fldType = {}; var elemen = g_form.elements; for (var i in elemen) { fldType[elemen[i].fieldName + ''] = elemen[i].type + ''; }  var nameTypeMap = {}; var flds = g_form.nameMap; for(var i in flds){ nameTypeMap[flds[i].prettyName+''] = fldType[flds[i].realName+'']+''; } 		  var fielVal = {};  var parsed = JSON.parse(answer);for (var i in parsed) {if(i.indexOf('cluster_name') == -1){ if(nameTypeMap[i+'']+'' == 'masked'){ fielVal[i] = parsed[i].value; g_form.setValue(i + '', ''); } else{ g_form.setValue(i + '', parsed[i].value + ''); }			 g_form.setReadOnly(i + '', parsed[i].readOnly + ''); g_form.setDisplay(i + '', !parsed[i].readOnly);	 }else{ g_form.setDisplay(i + '', !parsed[i].readOnly);	 g_form.setReadOnly(i + '', true);	 			}		}   sessionStorage['fieldValues_' + g_form.getUniqueValue()] = JSON.stringify(fielVal);		  new GlideModal().get('loader').destroy();}}";
				catalogScriptGR.addScript(Script);
                var ScriptId = catalogScriptGR.create();


				/*Onload script for subnet*/

		/*		var onLoadclientScript = new GlideRecord(this.appUtil.configuration.table.catalogClientScript+'');
				onLoadclientScript.initialize();
				onLoadclientScript.name = "Get Subnet Info";
				onLoadclientScript.type = "onLoad";
				onLoadclientScript.applies_to = "item";
				onLoadclientScript.cat_item = catItemSysId;
				onLoadclientScript.active = true;
				onLoadclientScript.order=50;

				onLoadclientScript.description = 'This script is created for getting subnet list.';

				onLoadclientScript.applies_catalog = true;
				onLoadclientScript.ui_type = "0";
				onLoadclientScript.applies_req_item = false;
				onLoadclientScript.applies_sc_task = false;
				onLoadclientScript.script = "function onLoad() { var clusterJSON = {}; var catalogSysId = g_form.getUniqueValue(); var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'getSubnet');ga.addParam('sysparm_catSysID', catalogSysId);ga.getXML(processAnswer);function processAnswer(response) {var ans = response.responseXML.documentElement.getAttribute('answer');sessionStorage['clusterName_' + g_form.getUniqueValue()] = ans;ans = JSON.parse(ans);var catalog_clusterJSON = ans.catalog_data;clusterJSON = ans.cluster_info;var nicList = [];for(var m in clusterJSON){nicList.push(clusterJSON[m].subnet);}for (var k in catalog_clusterJSON) {for (var i in catalog_clusterJSON[k].nics) {if (catalog_clusterJSON[k].value + '') {for (var l in clusterJSON) {var subnetList = clusterJSON[l].subnet;if (l != catalog_clusterJSON[k].value + '')for (var s in subnetList) g_form.removeOption(catalog_clusterJSON[k].nics[i] + '', s);}}else{var opt = g_form.getElement(catalog_clusterJSON[k].nics[i] + '');for (var x=1, n = opt.options.length; x &lt; n; x++) {var present = false;var val = opt.options[x].value+'';for(var s=0; s &lt; nicList.length ;s++){if (nicList[s][val]) {present =true;break;}} if(!present){ g_form.removeOption(catalog_clusterJSON[k].nics[i] + '', opt.options[x].value+''); x--;n--; } }} }}}}";
				onLoadclientScript.insert();*/
				
				var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
					"name":"Get Subnet Info",
				    "type":"onLoad",
				    "applies_to":"item",
				    "cat_item":""+catItemSysId,
				    "active":true,
				    "order":50,
				    "description":"This script is created for getting subnet list.",
				    "applies_catalog":true,
				    "ui_type":"0",
				    "applies_req_item":false,
				    "applies_sc_task":false
				});
				onLoadCatalogClientScript.appliesToCatalogItem(true);
			    var onLoadScript =  "function onLoad() { var clusterJSON = {}; var catalogSysId = g_form.getUniqueValue(); var ga = new GlideAjax('x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge'); ga.addParam('sysparm_name', 'getSubnet');ga.addParam('sysparm_catSysID', catalogSysId);ga.getXML(processAnswer);function processAnswer(response) {var ans = response.responseXML.documentElement.getAttribute('answer');sessionStorage['clusterName_' + g_form.getUniqueValue()] = ans;ans = JSON.parse(ans);var catalog_clusterJSON = ans.catalog_data;clusterJSON = ans.cluster_info;var nicList = [];for(var m in clusterJSON){nicList.push(clusterJSON[m].subnet);}for (var k in catalog_clusterJSON) {for (var i in catalog_clusterJSON[k].nics) {if (catalog_clusterJSON[k].value + '') {for (var l in clusterJSON) {var subnetList = clusterJSON[l].subnet;if (l != catalog_clusterJSON[k].value + '')for (var s in subnetList){ /*g_form.removeOption(catalog_clusterJSON[k].nics[i] + '', s);*/}}}{var opt = g_form.getElement(catalog_clusterJSON[k].nics[i] + '');for (var x=1, n = opt.options.length; x &lt; n; x++) {var present = false;var val = opt.options[x].value+'';for(var s=0; s &lt; nicList.length ;s++){if (nicList[s][val]) {present =true;break;}} if(!present){g_form.removeOption(catalog_clusterJSON[k].nics[i] + '', opt.options[x].value+''); x--;n--; } }} }}}}";
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();

				/*End of Onload script for subnet*/
				/**/

				for( var x = 0; x &lt; nicSysIdList.length; x++ ){
                    var onChangecatalogClientScript = new sn_sc.CatalogClientScript();
					onChangecatalogClientScript.setAttributes({
				        "name":"Populate Nic on change of Nic Sys_id : "+x,
					    "type":"onChange",
					    "applies_to":"item",
					    "cat_item":''+catItemSysId,
					    "cat_variable": "IO:"+nicSysIdList[x],
					    "active":true,
					    "order":400,
					    "description":"This script is created for onChange of Nic",
					    "applies_catalog":true,
					    "ui_type":"0",
					    "applies_req_item":false,
					    "applies_sc_task":false
				     });
					 onChangecatalogClientScript.appliesToCatalogItem(true);
					 var onChangeScript = "function onChange(control, oldValue, newValue, isLoading) { if (isLoading || newValue == '') { return; } var clusterJson = JSON.parse(sessionStorage.getItem( 'clusterName_'+g_form.getUniqueValue() )); var catCluster = clusterJson.catalog_data; var clusterInfo = clusterJson.cluster_info; var clusterVal;for (var i in clusterInfo) {for (var k in clusterInfo[i].subnet) {if (k == newValue) {clusterVal = i + ''; }}}var clustername, relatedNic;for (var i in catCluster) {var nic = catCluster[i].nics; for (var k in nic) { var nicElem = nic[k]; if ('"+nicSysIdList[x]+"' == k) { if (!catCluster[i].value) { g_form.setValue(catCluster[i].name, clusterVal); relatedNic = catCluster[i].nics; addNicOptions(relatedNic);}else{g_form.setValue(catCluster[i].name, clusterVal);relatedNic = catCluster[i].nics;}}}} function addNicOptions(relatedNic) {for (var n in relatedNic) {for (var l in clusterInfo) {if (l != clusterVal &amp;&amp; clusterVal) for (var j in clusterInfo[l].subnet) { g_form.removeOption(relatedNic[n], j); }}}}}";
                     onChangecatalogClientScript.addScript(onChangeScript);
                     var onChangeCatalogClientScriptId = onChangecatalogClientScript.create();
					this.logger.debug("Created onChange script to populate Nic SYS id  "+catalogScriptGR.cat_variable);

				}

				/**/
				this.logger.debug("Created onChange script to get form data on catalog item "+current.variables.item_name);


				var onChangecatalogClientScript = new sn_sc.CatalogClientScript();
				onChangecatalogClientScript.setAttributes({
				      "name":"Check AppName OnChange",
				      "type":"onChange",
				      "applies_to":"item",
				      "cat_item":''+catItemSysId,
				      "cat_variable":"IO:"+appSysID,
				      "active":true,
				      "order":100,
				      "description":"This script is auto created thorugh runtime module for checking application name.",
				      "applies_catalog":true,
				      "ui_type":"0",
				      "applies_req_item":false,
				      "applies_sc_task":false,

				});
                var onChangeScript = "function onChange(control, oldValue, newValue, isLoading) { if (isLoading || newValue == '') { return; } var name = newValue; if (!(/^[_-\\w ]+$/.test(name) &amp;&amp; (name.trim().lastIndexOf('-') != (name.trim().length - 1)))) { g_form.showErrorBox('default_app_name', 'Only alphanumeric characters, underscores(_), hyphens(-) and spaces are allowed and cannot end with hyphens(-).'); } }";
                onChangecatalogClientScript.addScript(onChangeScript);
                var OnChangeCatalogScriptId = onChangecatalogClientScript.create();

				this.logger.debug("Created onChange script to check application name on "+current.variables.item_name);

                var onSubmitcatalogScriptGR = new sn_sc.CatalogClientScript();
				onSubmitcatalogScriptGR.setAttributes({
					"name":"Check AppName OnSubmit",
				     "type":"onSubmit",
				     "applies_to":"item",
				     "cat_item":''+catItemSysId,
				     "active":true,
				     "order":100,
				     "description":"This script is auto created thorugh runtime module for checking application name on submit.",
				     "applies_catalog":true,
				     "ui_type":"0",
				     "applies_req_item":false,
				     "applies_sc_task":false,
				});
                onSubmitcatalogScriptGR.appliesToCatalogItem(true);
                var onSubmitscript = "function onSubmit() { var result = true; var name = g_form.getValue('default_app_name'); if (!(/^[_-\\w ]+$/.test(name) &amp;&amp; (name.trim().lastIndexOf('-') != (name.trim().length - 1)))) { g_form.showErrorBox('default_app_name', 'Only alphanumeric characters, underscores(_), hyphens(-) and spaces are allowed and cannot end with hyphens(-).'); result = false; } var errorFieldName = ''; var errorIntFieldName = ''; var parse = JSON.parse(sessionStorage.getItem('FieldRegex_' + g_form.getUniqueValue())); var keys = Object.keys(parse); for (var i = 0; i &lt; keys.length; i++) { var row = parse[keys[i] + '']; var patt = row.regex + ''; var reg = new RegExp(patt); var value = g_form.getValue(keys[i] + ''); var dataType = (row.data_type + '' == 'EXEC_SECRET' || row.data_type + '' == 'HTTP_SECRET' || row.data_type + '' == 'EXEC_LOCAL' || row.data_type + '' == 'HTTP_LOCAL') ? 'Dynamic' : row.data_type + ''; if (row.type + '' == 21) { var splitted = value.split(','); var actualVal = row.listRegex; var count = 0; for (var j = 0, n = splitted.length; j &lt; n; j++) { var listVal = actualVal[splitted[j] + '']; if (dataType + '' == 'Dynamic' &amp;&amp; j == n - 1 &amp;&amp; listVal.endsWith('\\n')) listVal = listVal.substr(0, listVal.length - 1); if (reg.test(listVal)) { count++;} } if (count == n) row.status = true; } else { if (dataType + '' == 'Dynamic' &amp;&amp; value.endsWith('\\n')) value = value.substr(0, value.length - 1); if (reg.test(value)) { row.status = true; } } if (value &amp;&amp; row.status == false) { result = false; g_form.hideFieldMsg(keys[i] + ''); if(dataType == ''){ errorIntFieldName += g_form.getLabelOf(keys[i] + '') + ','; g_form.showErrorBox(keys[i] + '', 'This is a Integer field.Please provide a integer value.'); } else{ errorFieldName += g_form.getLabelOf(keys[i] + '') + ','; g_form.showErrorBox(keys[i] + '', 'Value does not match specified regex: ' + row.regex); } }} if (result) {   var parse = JSON.parse(sessionStorage.getItem('fieldValues_' + g_form.getUniqueValue())); for(var i in parse){ if(g_form.getValue(i)+''=='') g_form.setValue(i, parse[i]); } 			 parse = JSON.parse(sessionStorage.getItem('credentials_' + g_form.getUniqueValue())); for(var i in parse){ if(g_form.getValue(i)+''=='') g_form.setValue(i, parse[i]); } 		 sessionStorage.removeItem('fieldValues_' + g_form.getUniqueValue()); sessionStorage.removeItem('credentials_' + g_form.getUniqueValue());      sessionStorage.removeItem('clusterName_' + g_form.getUniqueValue()); sessionStorage.removeItem('FieldRegex_' + g_form.getUniqueValue());var loadingHTML=\"&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;\" ;var loadingDialog = new GlideModal('loader', true); loadingDialog.setTitle('Validating field value with regex..'); loadingDialog.renderWithContent(''+loadingHTML);} else { errorIntFieldName = (errorIntFieldName.endsWith(',')) ? errorIntFieldName.substr(0, errorIntFieldName.length - 1) : errorIntFieldName; errorFieldName = (errorFieldName.endsWith(',')) ? errorFieldName.substr(0, errorFieldName.length - 1) : errorFieldName; if(errorIntFieldName != '' ) g_form.addErrorMessage('Variables are Integer field.Please provide suitable values: ' + errorIntFieldName); if(errorFieldName != '' ) g_form.addErrorMessage('Variables value does not match specified Regex.Please provide suitable values: ' + errorFieldName); new GlideModal().get('loader').destroy(); return false; }}";
onSubmitcatalogScriptGR.addScript(onSubmitscript);
var onSubmitcatalogScriptId = onSubmitcatalogScriptGR.create();

				this.logger.debug("Created onSubmit script to check application name on "+current.variables.item_name);
				
				var onLoadCatalogClientScript = new sn_sc.CatalogClientScript();
				onLoadCatalogClientScript.setAttributes({
					"name":"Hide Order details on request",
					"type":"onLoad",
					"applies_to":"item",
					"cat_item":''+catItemSysId,
					"active":true,
					"order":10,
					"description":"Hide on request details.",
					"applies_catalog":true,
					"ui_type":"0",
					"applies_req_item":true,
					"applies_sc_task":false
				});
				onLoadCatalogClientScript.appliesToCatalogItem(true);
				var onLoadScript = 'function onLoad(){if(g_form.getTableName()+""=="sc_req_item"){var e=new GlideModal("loader",!0);e.setTitle("Fetching Order Form Data..."),e.renderWithContent("&lt;div class=\'loading-container\'&gt;&lt;div class=\'loading-indicator icon-loading icon-lg\'&gt;&lt;/div&gt;&lt;/div&gt;");var a={},r=g_form.elements;for(var t in r)a[r[t].fieldName+""]=r[t].type+"";var o=g_form.nameMap;for(var t in o)a[o[t].realName+""]+""!="formatter"&amp;&amp;a[o[t].realName+""]+""!="container"&amp;&amp;a[o[t].realName+""]+""!="checkbox_container"&amp;&amp;a[o[t].realName+""]+""!="undefined"&amp;&amp;g_form.setDisplay(o[t].prettyName,!1);g_form.setVariablesReadOnly(!0),g_form.setDisplay("provider_icons","true"),g_form.setReadOnly("default_project",!1),g_form.setReadOnly("default_app_name",!1),g_form.setReadOnly("default_profile",!1),g_form.setDisplay("default_project",!0),g_form.setDisplay("default_app_name",!0),g_form.setDisplay("default_profile",!0);var l=g_form.getValue("default_profile")+"",n=g_form.getValue("cat_item")+"",i=new GlideAjax("x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge");i.addParam("sysparm_name","fetchOrderFormData"),i.addParam("sysparm_profile",l),i.addParam("sysparm_catSysID",n),i.getXML(parseResponse)}}function parseResponse(e){var a=e.responseXML.documentElement.getAttribute("answer"),r={},t=g_form.elements;for(var o in t)r[t[o].fieldName+""]=t[o].type+"";var l={},n=g_form.nameMap;for(var o in n)l[n[o].prettyName+""]=r[n[o].realName+""]+"";var i={},s=JSON.parse(a);for(var o in s)-1==o.indexOf("cluster_name")?(l[o+""]+""=="masked"?(i[o]=s[o].value,g_form.setValue(o+"","")):g_form.setValue(o+"",s[o].value+""),g_form.setReadOnly(o+"",s[o].readOnly+""),g_form.setDisplay(o+"",!s[o].readOnly)):(g_form.setVisible(o+"",!s[o].readOnly),g_form.setReadOnly(o+"",!0));sessionStorage["fieldValues_"+g_form.getUniqueValue()]=JSON.stringify(i),(new GlideModal).get("loader").destroy()}';
                onLoadCatalogClientScript.addScript(onLoadScript);
                var onLoadCatalogClientScriptId = onLoadCatalogClientScript.create();
				
				var cat_ui_policy = new GlideRecord(this.appUtil.configuration.table.catalogUIPolicy+'');
				cat_ui_policy.initialize();
				cat_ui_policy.catalog_item = catItemSysId;
				cat_ui_policy.short_description = 'Make Variables RITM ReadOnly';
				cat_ui_policy.applies_catalog = false;
				cat_ui_policy.applies_sc_task = false;
				cat_ui_policy.applies_req_item = true;
				cat_ui_policy.run_scripts = true;
				cat_ui_policy.script_true = 'function onCondition() { g_form.setVariablesReadOnly(true); }';
				cat_ui_policy.insert();



				this.logger.debug("Created ui policy to make field readonly on RITM on catalog item "+current.variables.item_name);	

			}		

			this.logger.info("New Catalog item "+current.variables.item_name+" creation completed.");			
			return ans;

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._copyCatalogItem. Error:- "+e);
		}
	},

	_insertIntoRuntimeConfigTable: function(ans, current){
		try{
			this.logger.debug("Inside Nutanix_ConfigureSettingScripts._insertIntoRuntimeConfigTable.");			

			var createCatalog = current.variables.create_catalog+'';

			if(createCatalog == 'yes'){

				var project = new GlideRecord(this.appUtil.configuration.table.Project+'');
				project.addQuery('uuid', current.variables.project+'');
				project.setLimit(1);
				project.query();
				project.next();

				var gr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
				gr.initialize();
				gr.application_profile = current.variables.application_profile+'';
				//gr.assigned_users = current.variables.assign_users+'';
				gr.user_criteria = ans[1];
				gr.blueprint = current.variables.blueprint+'';
				//gr.description = current.variables.description+'';
				gr.item_name = ans[0]+'';
				gr.project = project.sys_id+'';
				gr.insert();

				this.logger.info("Inserting value and runtime value of fields into variable proerpteis table.");			
			}else{
				var gr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
				gr.addQuery('item_name', current.variables.cat_item+'');
				gr.query();
				if(gr.next()){
					gr.application_profile = gr.application_profile + ',' + current.variables.application_profile+'';
					gr.update();
				}

				this.logger.info("Updating value and runtime value of fields into variable proerpteis table.");			
			}

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_ConfigureSettingScripts._insertIntoRuntimeConfigTable. Error:- "+e);
		}

	},

	type: 'Nutanix_ConfigureSettingScripts'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-13 16:38:54&lt;/sys_created_on&gt;&lt;sys_id&gt;75c3833837fd2300fdfc097973990e2f&lt;/sys_id&gt;&lt;sys_mod_count&gt;377&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_ConfigureSettingScripts&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_75c3833837fd2300fdfc097973990e2f&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-06-17 13:05:08&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1246477275</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>3e24eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>172c28acbcc0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_ConfigureSettingScripts</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>c390e300c6e51850f9c40065d2855311</update_guid>
<update_guid_history>c390e300c6e51850f9c40065d2855311:-1246477275,1770e3002de518501ba21a66525fed1c:-613914437,8ecf1f8466a51850071322a05ae3ffaa:-1246477275,5117d6371719d45006ff80b04798badf:229974658,8da41be081201010ff90899edc1ca396:761914233,7f07f8fa45dcd01079a3f3e96b12d745:1441129369,cb571bceb1945410a6e0b100cfe9b914:1852015472,ef8f740a10d41410266d18df81bd2522:131914711,3a530b423958141033ddb9ff199c0ed9:500727157,0af643994f5c90103db93df66b009f72:264889966,1141c395ab5c9010601a618c416f46b1:207544514,3cd5e7bca3885c101981cc6b518ae787:-1002475025,f87e83bcd1485c106fc853b4069fe5b5:-1630455096,e7629104a804d81010c7420357e323ef:1232571184,f2885f7b8dff0010f0f3a43d2a66c0aa:1105432602,b97916b8726f4410582a64c64b2586be:-1630455096,b0fcdd68a8ef041039b79b64435ab3e4:341934940,6d2c596850ef0410e4c3fd677658d3a9:-1218067992,21a95960d5ef0410cb24b4ec8dc2077f:1375546830,bd074533dd4700108c5db65544c2a98f:-433684952,301205bb56070010a73148f05504d2f4:-3703672,35cbb03782070010d724eeea767f04d4:-564052287,3978fc3307070010aeaadefd5748a0e1:-1472079261,3d94fc7f56c300100ea708849661f7b2:1142192920,35fdacf34ec30010f13bc23dc7786c31:8974399,81aa607328c300101b7a0a9f00381787:758546023,401d1c77bd8300100935a707cf548edc:-384532710,784758bf914300100b10621c3bad7b2d:-36623750,e881dc3f5b430010b40038df400377c5:1295454032,c78e04bb8d4300101f50541e115bca71:-1754500143,e93d4c3b08430010979a7a125747f7f0:-379511406,f89c44f745430010282a6d4af79f7905:433066943,447b04f742430010440d885102beb3a7:1011731344,880bccb74b43001046edbc36bba4884d:734471731,e7aa4c773e430010b434c7ff4e7ef841:-1110072733,762900777c4300105510f1c6a5052abd:734471731,f2d7c4f3a3430010cafa4bd758fde0cb:1766667701,3f1740ff5e030010132172f97d67ca35:1753664431,5941c8bf6b03001054872b496434a21b:807302527,db80843f4b0300109d63fda06f10eca8:-263901409,417fffebf603001008a365b303f72de6:69598990,71aeb7eb860300106c7c8f4508fbc9a0:1753664431,01ad37ab88030010c986213bc115d3ca:-208832367,58dcfb6b86030010a34a81075873ef14:1766667701,121af7272a03001009ab9976cd6bed29:-1607519703,ce73a66bf8b68410e9c07000e02916c4:-57930953,d451222b26b6841087489011f30e75b6:-381101280,8c5f5e276ab68410ba39afede2446c7b:-890874136,9e1d5ae3e7b684100339bf7a01e6a43b:-620470049,c7a75a6fd5768410941b3dce833d748e:1469333225,9b259eebc47684107e1023cb1c6fbb9f:-524501578,732496eb97768410f484799f0a4f177a:-497400972,b113d2ab9d768410e35a8fe74fee1278:-1012912641,1e31126ba87684109d5c9a6d35c750c2:43925247,b7001267737684101d400a0775839730:-437178942,a766740e92fe40103e3f863adb2e9092:1268951249,04e1640e0dbe401011b7706344935cf8:-239240839,dd5a677dadba40106aa00f0d916864ac:1095057568,07c16f35cdfa40104f1c07a91c2ac52d:917203043,e3206b35bbfa40106647f348fc073487:-590043976,fb0c5f350cfa4010f0ba046b7baf427a:131038949,26a13befef028490634c7bb39cf479fc:1926821837,958353624a86c0901d328ed271e87b3e:-563937869,3367b59aed86809073bc8b46fa2ab99d:-830559596,f34cee14a72d841081df93c50e07e302:-237997336,8a98a8f6f41180105950414ef43f6161:953689350,5a5f95fee3510010e2cf4bbfd0370ae9:302572807,5a5f95fee3510010e2cf4bbfd0370ae9:302572807,7997ea43de790c10e3e092efabbbdd43:-1104788231,9187805286d14c10e8c3674e78911b9e:302572807,c935c012a6d14c108257a28113b72436:430891913,eb64c05e0a914c10fcf8adb691b397d9:571139561,18bc7bc24b914c10e90a4c1b56baea4f:1632915295,1580b706e2514c10855293d1569f7c7c:2094765251,4c7931e51cd5c8107848c21df6cc50fc:1556213633,ae2edd2dac55c810087e2268adea253e:1153012001,73e21dada115c8103cde317d94539d66:-997519306,c7a9091d2a5988108222b683ab5b63eb:1271438391,0285945970d58810d3b68004a6f0194f:-1745742247,1f63d05983d588102329be5ffaea2778:1732867349,da901cdd859588106707b9d3029e5040:2098909439,8c187da43a19081041b75e8aa4532f25:1690824889,6768f4e261b7b300ca3e73c0d7969871:325342875,d75c5e164cff7300ede4950da89a0a0f:-1320290326,c9f4565ea6bf7300667ee61596d6dd2e:2118546932,6e636e563d373300cba8a65445bef3a4:-655341986,86da0a9a44b33300e999508e4ea972ba:-1090911937,c61a3c46173373003dc1f013844f4ab8:324025723,3663f00267337300214186de493732b7:-845583615,00cfac0e65ff3300fce4d1c52e0b3625:-1129561287,85a13306daf7730025d253826e870827:392385327,84fb63ce0ab77300142ad6b13f628718:890990618,4ce26b42c2b77300a460ce607442cac2:1126117023,2e92e7029bb773001f29508d30e65998:-2065220906,2b316702a9b77300795ee4bbae32ac74:-661318934,063d8c11287b330010fb98d876606287:890154701,0a994f1ca33773009dd2c15cf28a73f5:1038442192,54e58f586a377300811a73c8cd304c56:-2039858672,4fd48b5820377300afc31fdd8668d423:-1938493409,470fe21c6fb3730034e4acd01adada0d:280064304,1f74e65c05737300f2a8b70948dcf622:141017344,92c2e65c1673730063873f246388b01c:678875932,deb09144a3bb7300118aa76ff67e1cba:280064304,ab809544febb73007fe599a694298a95:1494440481,dfee010475bb7300fbd0c7fe88ef533c:1381773573,5791e17b0d637300cb2c9a4ee9a92c3c:-1969894150,830d55b3d463730046ee46cc04b1c961:-669344185,c06452945d337300944c75a29cc639fd:907799312,dfdf3d40633733008df14512dcf03f91:50681350,921c69841cf3330099dd8a667db905e8:535357156,7741214016f33300def83efe3ed33dc8:863150788,18ac51c8feb33300a09410bd02542e0d:230182039,697bdd88a0b33300697bd2125a3dcb36:-1337519963,a84ba53926a33300209ddd97ff9de9bb:-1331551696,987e9db949633300bb915c9d87adb702:-1204987844,db2385a1cbe37300bc260a3783ac72ce:811441335,76da5021a2637300fce7e72131319331:1740202500,a6b59c2dac2373006f8fa06c237c209d:-985102419,b4ff8c69cd237300dee7521539b677ca:1945066666,243be34d00e33300c0aaad712704d52f:1044321641,45c8e74dcee33300d92e77bb6c43198c:1725016939,965e5bc5f3e33300497838e9132be89a:1753245222,d2a1ee7846a33300260bb049db96da53:364212093,6554e2e6fb13330010c64d50b684d29d:-1394626435,0466eb21e1173300acf1ece0e3649503:1778433155,100e33d0015b3300cf0383108c233e45:1131244627,21a4ff94c31b33005f5e71e277e08f3d:-1075620266,7b8b679c6e97330064b0a5bc09503000:1516109094,52daa39cfd9733007dc540e19f3108fe:672435482,34e807d315c3370001c7124391c75ce8:94759328,624c5adf838ff3005b7c8b421542b0ff:504857174,0ae4047ac9cb73001bc67b5f48adf4ba:-86295255,5b1d5f12cb0373002bce42d4de4ec0be:-1287143617,42bfbe864d073300d3182ca39c8555c1:701244212,5aa57a0e29c3330068d02bd7cdb59c17:1807279883,3629e602c9c3330087f57b72154d02ad:1347524982,65082ace6b833300f6f55144e80cf857:-677665913,62366e4e9e833300e82f42fcb4c19d8b:990937220,58d366cab5833300f29978cf0869ab05:-352350045,00285bc5df837300b103d9bc0c53c374:-778962601,a9a71bc561837300e1f09041c4d0628b:2037413206,2f7cc30dd2437300a9859a6c001ddb46:-219844982,9b847601b70373008cc393f96f5ec211:-1387136593,2a991e09b78f330011ffb80176730142:-906416427,99a71645b88f33002d76e4b04e332342:1958624469,f207da815f8f330077406a4957b2a567:257146343,93d356c1918f330072f0b781a7533953:106077413,9cd549f4cc433300b26b6d9d27428d37:-1369396865,f20097c8a6033300806c9230d8994b48:-448753601,589b4ab31e7233004fd3309efa27cf3c:1974094018,153f53baf57e730032caf64126d2bba7:33853828,e3ac537aa87e73003a0ddf3f4f89b550:138630921,d867a23ae2ba730077bb6386a0f2e6b5:1731138489,e127a23a7cba730034354c1e8cc3c5a4:1152582658,d7762eb690ba7300d0564000084b7de8:-49912054,2e0626be4d7a73000ba1ba01200b1c02:1678772428,e32bd6fea87a730012b35aeec0b25683:602055586,48fa96be7b7a73000a841e495a6d1e41:-1905818123,d08a5a7ece7a73003a4079f044589867:1904241583,26d9d67e3f7a7300ee6d7649ce64c53f:434135891,8b19563ebb7a730000cc17dbedda6b91:-94918848,f1526a6ebc327300a96bf74d00f8aa31:-1010189881,29b1e62ed532730001a493ac7dd34908:-817716970,3cd0eaea8e3273004fb99f65613fcd5c:-255171661,30502a6ac43273005d803d667dc3e5b5:-400456261,1a9eda2a4b327300e6f1192fbc649553:-255171661,07879aa2913273007c520a557343d775:498285572,40a512eed0fe3300d9d35170a14a5d28:1787849148,4a0b0eaa83fe33001122c54494ffa17a:-1822617279,dede39e2d5fe33002f5dcc97175a2197:1054489759,296ef9a2eefe33006edeb841972bc623:-887367164,91cd71a208fe330062a106165a031a5e:-1873449987,920d752282fe33005f747b201873198a:-1753676557,8c5c39eedcbe33004cb3a3127fb3acb0:1188112532,aaa98deeca3e3300b88c1d0338ea29e4:-376017060,2996c52e3c3e33007035eb85121a39d4:-1750782075,ff94c9ea813e33009e393373f3ba4cd6:2120070419,ea027f10ee1f3300e502b51b065e0a9a:-899913992,5c017310f71f33001e04f48a26d50ae8:-1432309888,4bc197908a9b3300e0a6475c8c66e716:-1678403529,d66e3ad4dd97330052bbd3bb66ab3414:-1138936593,5d54bdb3c2f6330019c8a5602c613a4e:1854812464,d70ec5b7977633009b7172a89393f0d3:203285200,3dac857742763300b6b410d94c00606d:1086779680,be5ff5cc9bf23700d40fd0154254b24c:-275912241,fdf61dc0eeb23700d5b0b00be92c2e3b:-1713452353,c993d900e3b2370067f8bbbb8d430d54:200946659,e49ec10c59723700bd152d48ae00e0c9:-1947942160,011e090c3c7237002ab4417d160cd237:1710626537,d04ff880e57237003dd65a3e2744ef5c:1710626537,0ac754c4bbfef3006c97dd2dc7cb38d8:-761208537,eb155084cafef30096b0b7621adae772:-1510879516,a193d004cdfef3006d1953a22395c95e:978474048,16b298c0d6fef30020d42476724dcb7c:-759582082,54d1d84004fef3009bd686d2c6cd300a:903464853,822084044bbef300230f04f240abd6ee:1725713171,1afcf773772ef3005cd3f7a34f04794a:-712717173,951afbb3ca2ef300924a1c65881d9357:-1492882388,59d821735b6af300dac1f87b9d2a80d2:835137744,9387e5ff052af3002ac721e1b38c826e:732953378,34775537192af300d08291482326ba69:-518489889,167251ff8be6f3009641f0822b3bc169:-39539206,dffc4d7fade6f30024ab70c350af4716:-1506782741,eefb8df740e6f3006bf5237f12ea6cf9:-778648843,d27a09f7e4e6f3000ef14cdc1fff3d63:-1063277212,bc6a6bdf3e6ab300b2f32d0f900eeb30:1172822988,f330ae13b0e6b300341ba85bab317660:1588068004,b942925ba0a6b3002587d02c38aabba5:69732192,0bfc399b3366b300825687e12ad2454c:-78605334,51a429131d26b3003e0459fa81a649b8:1660719654,acc2d3dafae233008f578907988c5119:-679143218,c36b92dd2d4233002431c6240321dadc:-1080192217,2f2a235ca542b300f1848ddd60610acc:1491005343,f61bba50b9ce73000147dc1923bd2247:-1030323245,8bde3ac038467300c0202501c5077026:-237151155,db5e7ac0bc46730056cebebe354fd5a6:-293535511,468a04fcfa0e7300fd80c6992b1fb8f7:1738433112,92ac37a4100e73002059798d74e63d5e:1755962176,cdbab364d70e73004506a36f696d1d64:-1072182561,9f58bb60930e7300227ff4a3f73a91ae:-1614864626,9c36b7203b0e7300aa2e5fcb166f0f41:398462569,01fe2b68d2ca7300b408e7ff78bc181e:-1426430207,33093ce4c50673006acce6b7da4f3eee:-1908166565,fc3ef240b8c6330086e0749fc7ac15af:911189072,b5dce6c0d086330040d3fc31d71672a2:1606422870,753b668090863300aa115fc70463f2a5:-1473295746,9a8ae24056863300ba0a1a0593231611:-120244186,a0242a88304633003e732b597c057b98:-420019750,e7367e4075863300e9c515e50745e73f:1521946081,4472324c1746330054ab00dc581c2349:-1281312029,c90ae6c4e0463300fcaf6637f1e4797d:1750401018,5f1dda0ce482330044837c5d0751a4ab:-617379078,1008cac4158233001fecd71e166c9270:1515772607,5622c600518233002493a6c7318c9d4c:-2121565515,fdf146808e823300d8b036bd6db8090c:327673645,7792c7ffc9053300a94600615bdf6ddb:-1341146679,7a89a2376805330029e6fa07e39e91b8:869225015,ee48e2b32505330069ec77d81e9637a4:1785413159,e8076ebf67c13300e4cbf8a16b904ced:1537266199,a7a6aebfbdc133008d68645caff98c5d:-96745688,fe056ebf5cc133004894bd254f7efc34:-1899966825,5763a23f36c13300fb21cfad1eb1dd6d:1124747036,c553ea3f2fc133008a9350f9fbfcd6e3:307083529,faf122fb52c133006371fd4cc7a603c1:-1184055416,8effdaf7a0c1330032ca104196f4765b:-1803068202,d12e9a3702c1330078c5eb3e5bc976b6:-52991238,7d6d5a37c2c133009814fae2e227f1ce:-771682150,dd1d5a377ec133008e79ef76a778bf7b:331743265,a1fb16ffe1813300ddee3b3d04dd1480:1602320226,b8da9273d1c133000a83d6cdb1850033:-1239528313,50f81ebf4b8133008b1b51b311ab9223:-1863991856,eac7967f2b813300a354532e8484b61e:-1698851537,70a71efbc8813300ab0fbe0bb0128c2c:-1759058465,0d569ebbe28133008b60bf50b3dc3915:2071143624,37c21237fe8133000068315b825e8b4e:1937897363,c537c67be541330030f3a83240a307f6:328908947,f49360f64b493300d9b59ac34694fc72:-1026344919,3b469d1ddbc533002e0015d1855c4d52:-790535505,0564b20b7cf433006a388f6b7b47d2e5:552562034,012caa83fbf433007c20cf73dc1e2b03:541301471,cf191199627c330009e246edd4fce802:-2020496292,bca85159467c3300724ccdaf60753574:-232535972,5e084745d0383300ae15862d27c7d174:-759524882,25552ebe08607300475e45e420c26466:-923104886,67a90afa522073005e9934704a51e484:-1548517137,d3c6ce7a0420730038dee1ecdb02c73d:589601885,f7650ef61f20730035ddfe571c3622e6:1717453722,59c202f23c207300ba9f8c5b9e2f8e5b:1809314130,43414e36e32073006ad8805b31b7ac38:-1240764358,c15b485ebce033003582b57e09b1524a:-1185005543,e37fb7c291e033003285bd1fc8082087:-1237797137,64cef70259e03300739d05b98298d1a2:1998095052,f59b3702b2e033007693fdc606d27ee1:1339086989,69821a2c80ac7300fba407c20c3f0813:1864176761,0f725a2c96ac7300a0a41fa55ceec8cd:-137536481,7d51162c0aac7300e3fc0c3bc274488b:215452165,02bf0ea878ac7300712295e1c22c911b:1863506109,edd5c2ac466c730039abe06d1a0e098b:1646125281,ff45ca2c966c73000e82a359a652f4a0:-334611414,293342a8476c73002a2c861b7540109b:970601781,3a66eaa736d03300faedfbb9ee84454e:956577462,50956aa779d0330017953cf24f27a959:-11059385,d50fd56f078c7300ee720f624e7e15c9:2102155172,ea4772d3ecc4730098e1b66e1ac4ca99:856004836,e5d7aac36a8c3300633ed0236721ea68:-1990749090,2bcb4a7a4b04330086b1bef2c14b797b:2136475614,478bac6509803300fc720ec83cd6f9e1:974841522,eb5b6c659c803300b3938fe5c5df7f2e:-1900675581,1c7ae46528803300bac0ecbb8c118e0b:454415471,4b166021c9803300c5d034e9faa0c5e4:-1611044451,213cc4a181403300ba340a7ee26f17ed:-1553911896,6d1a882181403300e0582044144d2607:-899057435,f896c4ad6900330098c4cb708e4cc0a7:-1742335955,3116b35122003300a24aea388ab8af23:-1703045349,6cfdafcd26803300c2a15efe0d4fe4d0:1593520559,15b9ef09f78033005a5b50c6c0d34477:1234251145,02306bc5bd803300e8ed50f122c70412:1772734003,1dce5f8574803300eab272242b66099b:1049446017,3c0ed78103803300941989128c180d9c:-1679724837,79595f8d20403300d458607c03b6e91c:-1197133221,65768741d8403300f3ed082d5881347d:827416250,c89f360d94003300c1f2a64fd4db8004:-834722297,6be17241630033001b7aa9894ca02991:-1250226741,944b6934004c3300f5995348093d273c:-1886439671,2b3861f44e4c330088137d6d16ceaf67:-1386794053,9a08edb41e4c3300a0c1605327324638:-2142948029,34fa12e813443300fc789b4d5ae3b628:1493726448,c1469628c8443300d0e53e6943a0ee4c:1993853930,a635daa4a004330014057fe77cf62938:1238638223,feed9dec7780330028246779868c2fc3:305195600,5b2d51ec5180330005b2c98ec327dbee:816443358,03cb1d6c2d803300fe7990b4e8ea1898:-897725240,e03ad52cc98033003b5eea70054556ad:-1585834196,638991a896803300cead83a2815bee3d:1141242668,9ff6d9684d803300362ae0916c108f8f:-87620086,41461d28728033007696cee302ad5068:-904731595,4f7555e469803300b94c74821e111bd3:-367462983,c0e35da491803300c26fda712fae7869:-1721041251,a53315a4358033003dd327920aee8c80:-1549988852,3d12f26a743363003fd75278544b9b48:-427310362,00d2de2efd7f2300b51a0739e8c6a55b:950840081,e5ce690822b723007f1290135bd4d864:-427310362,caa78d0c7a372300a0ffc69c285db40f:-489363912,212d2cc80b332300b37707f308e476c1:1474472888,f59628442833230071a89ca6b270db68:1965922265,6ba2a04459332300ca516c1c7858641c:1972821307,d1f91d282127230047fb7bb529b251aa:1875771069,9eb751580623a300728067ec014302b1:735878130,b8bb45103323a300eeb03b9d3723b0a4:2106653218,5f29c95c80ef6300bd14f3f931fa2778:-1905033145,459e8c1c886f63001e5629fe3f399576:6470929,3441c0d0746f6300f6a24017558e6142:1065809142,e0e04490ea6f63009b31fe085a3eaac5:-1024757928,8b8f73c0506f6300fe2f5e3dd5f26376:1406690245,99661f48fdeb63007af502f7381a2bca:-2100029723,6f62db84aeeb6300e89bfe24f5cadabc:1406690245,2d9b58c8b69323008626171655ab5b2b:721228922,dd685c882493230084563555bfdb6cba:-231155468,34c61848dc9323008fd3bc2b9099eb5d:-474204289,6d7590480d93230042cc1275e11a0cee:-1740936063,8af41c04ec932300effa4e34383d9e97:1177786964,8b2773ff43032300b59da0d93c040be8:1620538721,047b5e72133623003592e4d668c6b3d7:1770695140,d8495691deb26300719e1bcfc228ac0b:-1936325168,49689651d2b263003384942606bc7062:2073550990,2840041a43d22300c334210dbc85de34:-319340131,ec9f370a78d22300399be5da9ff86f7a:1707823211,15cd1b4601922300286ccbdf5a485fcb:530515607,4aca5b82e492230027c68ecf8d757a76:-1515970741,883a57ce605223005438ae5774a8926a:-1221894046,b595a5b90f122300b6f7eb82c4682f2c:-1257457597,e0acdca17a1a2300137b5f6c3f64b6e3:-1762783301,eb7c96ff6346630090687c79d8b53a33:-1523214961,327b9e3f3d466300cda582b7aeddb395:2137848011,ed991e3fca466300d4c48c568a288a37:-1543286845,5d2fc633a8c26300c02905bd642cbd15:-1614427952,525c7d378a4e230022637c958cf4d2af:646842192,5febfd37a84e2300b8752ec47f4103b6:287363573,e8cfbbefcd0a23006124c378e8269f12:292657468,c1ff8d1b5fc2a3000438bc1f2c5678de:-365896569,2cae411ba6c2a3009b2bd744a176f0b9:348538766,accdc1d76fc2a3009ef98226ad2ee170:-1053337893,9c1d419779c2a30035935dcadbe9abc4:858687386,79dccd1798c2a30018a53f472b4736f3:1795223909,ae1cc15397c2a3001758aa21b3d77191:-1028493339,57ab8dd324c2a3008a3b293a47d3e241:-1471873190,b9e901df4b82a3005adb24863b21884f:883269552,70394d9f9c82a30047ceba65cc6d0d46:443913589,de654ddb5e82a3007b3b6b02ecb05c7c:-753110487,9764c59bd582a3005c2bc0a4a89c2a0b:1304705921,4034015b5282a3003ced81feda3046a3:555657290,5eb34d9b8f82a300f8440fc69fbebb46:366089578,9d7a660796c26300a569115356c0cead:-1798832708,8ad7b1c37742630077c45e720fd0ceab:167412680,b79e2c8eb282a3002acc3fad87aa65e9:224163592,03ebd7f5498a6300576b691f74b551f0:748067985,a7e6d635250a63003077e5388f99ba56:-84651925,55e020e91d06230084e588fed0d037ed:1276000438,08f7e59d4702ab00717d29d87927eed1:-534072882,964370455b066b003d96318fd3196d22:-1406614294,8da1d6306f8e2b000ca4382cee735223:884655005,5cfe86bc204e2b007c8728041bbc9e6a:-1994639537,9f3cc63c1d4e2b00438236adba734174:-1120900491,f7303320e1822b00177d2c1680536996:-1500211880,561ea7accf422b0027fe031da348653e:500570330,bb6d276c7f422b004f97230988beb4a8:-942158918,fe4a63e8c4422b00a591c7a2e5aeb8ad:-697012778,d1786fe472422b002c6aeafe5bf5ee5e:-1040130432,6c536b6423422b006906a3929284b7c9:1886024193,8befd3e06c422b00145ece7eee2a5441:15587755,d41121d46542e7001a1b7f8a23aaafdc:-1800816530,7ff910d4524ea70047ba5af7ca42c234:-1047898512,c41276e7e77d2700a63880e71adb3d79:-141350877,f60f995b8871e30086dbc880cf48b609:1513819955,79fcd9d77971e300fb4dcefdd37d2d70:1482287239,8939d113a371e300a34a11c1834498df:-534529906,3bcf78d3f931e300ebe43e4b3e682678:-1438209563,ed2dbc93ba31e300d2818420b31a33fc:-2016476515,5102e9cf3fb5a300511ea12fe532bb94:-1196294743,e7f6554731b5a300a304a284ffb21771:-715141173,e54495831bb5a300bbfe50cf57c36577:2104201875,33e8e0470935a30022d10b013be1f832:-809069624,bf38e4436e35a300284465df6e942f95:-1933290549,97e7eafa9cfd6300d45336e76dea8cd7:-540734130,63bfddb2b77d6300e43149e7c511076e:-1057735186,cb4b9dfe073d6300261c3ce84832238f:158203178,56159e9235f9230073fcd012213037a2:-573354144,2930d69e79b9230007c3223436038d0d:-125910144,76ff4a5ebeb92300401e22567c247b0e:-573354144,efadce1a1fb923009a72838ca55d29ef:1471590552,1ab4d66d6cf9a30011f57231daf466c8:1760930812,763156e9bcf9a300b845b24d266b81a1:1260022664,b89a9d694c79a300da65661a3de8f24e:-1448811490,208a95698b79a30010a074cb02ee978b:146266701,7ebb7ca11639a300b8a6e27b9a6dac19:1688340378,b00454a550b5a300edff79581f2cb3e7:291979858,4f231c6566b5a3000c5c985c66479f88:1630684732,c3629c25ecb5a300ac443fccfd6acf43:-1923430733,976e67197335a3000910b4cdf048df64:-917386157,0c4c27d52035a300b14ae5d1973b41fc:803960670,12652b919a35a30078133bd6eb1d0bba:-378345354,11036b110a35a30099099f28e60fcfe9:1318512054,530d5155fcfd6300c22e2138187b69aa:64212888,62fc99d55efd63001a2d88f367102833:846475075,bfeb49d973bd6300fbae78206a374ce3:1565934112,94c701997ebd6300a0fe70983764971f:-131741244,dc130c5dbbf963003834a8b9d8eed3d2:-1689936812,a0110cd936f9630012865e19e9e5ba4f:47509028,cbceff4929f96300873619e2618b2a6c:58013585,b755a389f0b963003b5a8edc2e1bb0ea:-1106693858,8c44c73881fd2300b627dd39a53edad4:-254845890</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_df7df2564fa233008373224f9310c7f3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;nuta_snapshot_restore&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;true&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;new Perform_Action_Condition().performActions(current.parent_uuid, 'action_restore', 'system');&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style&gt;primary&lt;/form_style&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;true&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Restore&lt;/name&gt;&lt;onclick&gt;performSnapshotRestore()&lt;/onclick&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var template = '&lt;div id="#{HTML:id}" tabindex="-1" ' + 'aria-hidden="true" class="modal fade " role="dialog" ' + 'aria-labelledby="#{HTML:id}_title" data-readonly="#{HTML:readOnly}" data-has-help="#{HTML:showHelp}" focus-escape="#{HTML:focusEscape}" style="overflow-y: scroll;"&gt;' +
    '	&lt;div class="modal-dialog #{size}"&gt;' +
    '		&lt;div class="modal-content"&gt;' +
    '			&lt;header class="modal-header"&gt;' +
    '				&lt;button data-dismiss="GlideModal" class="btn btn-icon close icon-cross" id="#{HTML:id}_closemodal"&gt;' +
    '					&lt;span class="sr-only"&gt;Close&lt;/span&gt;' +
    '				&lt;/button&gt;' +
    '			&lt;h1 id="#{HTML:id}_title" class="modal-title h4"&gt;' +
    '				#{HTML:title}' +
    '			&lt;button class="btn btn-icon icon-help help"&gt;' +
    '				&lt;span class="sr-only"&gt;Help&lt;/span&gt;' +
    '			&lt;/button&gt;' +
    '			&lt;/h1&gt;' +
    '			&lt;/header&gt;' +
    '			&lt;div class="modal-body container-fluid"&gt;&lt;/div&gt;' +
    '		&lt;/div&gt;' +
    '	&lt;/div&gt;' +
    '&lt;/div&gt;';

function performSnapshotRestore() {
	var sysId = ' ';
	if (typeof rowSysId == 'undefined'){
		sysId = gel('sys_uniqueValue').value + '';
	} else{
		sysId = rowSysId + '';
	}
	
	getSingleVmProvider(sysId);
	
}

function getSingleVmProvider(act_sys_id) {
	var loadingHTML = "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
    var loadingDialog = new GlideModal("nuta_restore_modal", true);
    loadingDialog.setTitle('Performing action...'); //Set the loading dialog title here...
    loadingDialog.renderWithContent('' + loadingHTML);
	
	var ga = new GlideAjax('Run_App_Actions');
    ga.addParam('sysparm_name', 'getProviderTypeSingleVM');
    ga.addParam('sysparm_actionsysid', act_sys_id);
	ga.addParam('sysparm_sysid_type', "restore_points");
    ga.getXML(getProviderAjax, null, act_sys_id);
}

function getProviderAjax(response, sysId) {
	var provider_name = response.responseXML.documentElement.getAttribute("answer") + '';
	var page_selector = {"AHV_VM":"x_nuta2_nutanix_ca_Snapshot_restore","AWS_VM":"x_nuta2_nutanix_ca_Snapshot_restore_aws","VMWARE_VM":"x_nuta2_nutanix_ca_Snapshot_restore_vmware"};
	
	//var gm = new GlideModal(page_selector[provider_name]);
	var gm = new GlideModal("nuta_restore_modal");
	gm.setDialog(page_selector[provider_name]);
	gm.setWidth(450);
	gm.setPreference('sysparm_sysId', sysId + '');
	gm.setTitle('Restore');
	gm.backdropStatic = true;
    gm.template = template;
	gm.render();
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-12 11:05:56&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;df7df2564fa233008373224f9310c7f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;37&lt;/sys_mod_count&gt;&lt;sys_name&gt;Restore&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_df7df2564fa233008373224f9310c7f3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 09:23:11&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_restore_points&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>1112691663</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>3e24eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c7b10000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table>x_nuta2_nutanix_ca_restore_points</table>
<target_name>Restore</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>4e5bfff8ca0c5c10748aa752b3925985</update_guid>
<update_guid_history>4e5bfff8ca0c5c10748aa752b3925985:1112691663,9fbf55baa6bfc41089c0bcb2ba16becc:278177710,0d9f51badbbfc4108376636c7d13c5f7:1662726062,026f993ac0bfc410297bbd469d691579:326385581,fb3e117a47bfc410523b7fb40a755784:384317662,12ad1db6dabfc410a551bffaacc3bc7d:1459412407,44c99d3643bfc41042d41bad910c2412:477206165,5d88593676bfc410289cd9b9ef181298:-995512155,764815f22dbfc410f2810b512129e3d1:1812984134,4eea061f1b3b081053a4ea1254a98998:726488632,fc0ddade0a8280505c98f39f91a1a01e:-1949278692,b5b783870b7d4810d741eace94e44344:-987384478,174e6b712db984104d0a35de6be72295:761553721,14cd2f31d8b9841026d7c5d9a42ac249:1446068534,550daf318cb984109c66c31eac287600:666121463,51ecaffdc77984108e92885586b0b10a:1222969962,21bbaffd39798410721adeced0131605:-457960653,17c41edf6f623300bd006a2bcedcaec7:-1317934769,8de3569f9b623300b6bb55183032ac50:128664030,6b3e425fc3223300a8ae63fee86f4c19:1341145113,f4fc461b23623300ea627b4379a80989:528470843,0051e31ea4e23300cf9eadeff2b3e787:1002831515,1fb0a7da32e2330055e009654020c19c:216368825,cb19179680e233004d59e3278f776b9c:-791408486,76981f56a6e233007b65525fa9de3b06:1311379492,dc241fd258e23300ed0a44e1c0399e11:-553061185,39c39f9215e23300af8ec59d32a47e47:1524938647,d813179ec0a23300d428e47caf9f5de2:1605902485,40709fde8fa23300803dc9942c633179:698123339,50b787dafaa2330085851fb794b02f27:1772750113,b7770f9a06a2330054571ca814f4e246:1848170178,23578f9a2ca23300ddcf8662626414d9:2070500780,de1743daf7a2330017b94ccfbf538029:-741797131,c242cf96d2a233003b34a96715c83701:488778058,d6100316a9a2330051fc2b0c2f9b1de0:700354978,41dffa9614a2330055d72d599fe3be04:-1413755952,b9aff21685a233004b50683515b489f0:1675990709,517f7616d4a233005d73e98981ad1d00:-1657628876,6c3ffe165fa233002c78d205c827b1b1:-688766308</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_hub_action_type_definition_8835f7ac1b1f0410e1e51067bc4bcb30</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_hub_action_type_definition"&gt;&lt;sys_hub_action_type_definition action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;active&gt;true&lt;/active&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Flow for Nutanix Refresh Token&lt;/description&gt;&lt;ih_action&gt;true&lt;/ih_action&gt;&lt;internal_name&gt;nutanix_refresh_token&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action.credentialalias}}","label":"actioncredentialAlias","type":"action","ref":""},{"name":"{{action.midapplication}}","label":"actionmidApplication","type":"action","ref":""},{"name":"{{action.endpoint}}","label":"actionendpoint","type":"action","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_body}}","label":"stepREST stepResponse Body","type":"step","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].status_code}}","label":"stepREST stepStatus Code","type":"step","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_headers}}","label":"stepREST stepResponse Headers","type":"step","ref":""}]&lt;/label_cache&gt;&lt;latest_snapshot&gt;c7d530b22f7414100e1e5e492799b64b&lt;/latest_snapshot&gt;&lt;master_snapshot&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/master_snapshot&gt;&lt;name&gt;Nutanix_Refresh_Token&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;state&gt;published&lt;/state&gt;&lt;sys_class_name&gt;sys_hub_action_type_definition&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:30:44&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_Refresh_Token&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_hub_action_type_definition_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_definition&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=8835f7ac1b1f0410e1e51067bc4bcb30"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=8835f7ac1b1f0410e1e51067bc4bcb30"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=8835f7ac1b1f0410e1e51067bc4bcb30"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;ada67f201b5f0410e1e51067bc4bcb1a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_headers}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;response&lt;/field&gt;&lt;id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;61a67f201b5f0410e1e51067bc4bcb1b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_body}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;statuscode&lt;/field&gt;&lt;id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;e9a67f201b5f0410e1e51067bc4bcb1a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].status_code}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/action&gt;&lt;cid&gt;1b9a3c94-a0da-44fe-9cb0-0373d47b0c14&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;inputs/&gt;&lt;label&gt;REST step&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="REST"&gt;07a762fb47222200b4fad7527c9a7129&lt;/step_type&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;12&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;11a63f201b5f0410e1e51067bc4bcbf8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;f11ebf865f101300a09a2abd7f466652&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;5&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;define_connection_inline&lt;/value&gt;&lt;variable display_value=""&gt;91e207d03b50030057a4a2e334efc4a0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;13&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;18409d8007482000dada43c0d1021e8f&lt;/value&gt;&lt;variable display_value=""&gt;c30a451d2f201300a09a839fb18c95b4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;11&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;99a63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;e532afc12f101300a09a839fb18c95b9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;30&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d5a63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Accept","value":"application/json"},{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Content-Type","value":"application/json"}]}&lt;/value&gt;&lt;variable display_value=""&gt;371837f1c71003007b237f48cb9763b0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;25&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:17&lt;/sys_created_on&gt;&lt;sys_id&gt;fad5fc722f7414100e1e5e492799b6dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[]}&lt;/value&gt;&lt;variable display_value=""&gt;4328e2fb47222200b4fad7527c9a7164&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;application&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d9a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.midapplication}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;base_url&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;55a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.endpoint}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;capabilities&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;91a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;connection&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d1a63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;credential_alias&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;19a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.credentialalias}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;1da63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;query_params&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:17&lt;/sys_created_on&gt;&lt;sys_id&gt;f2d5fc722f7414100e1e5e492799b6dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;use_mid&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;dda63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=5da63f201b5f0410e1e51067bc4bcbbb^sys_idNOT IN59a63f201b5f0410e1e51067bc4bcbc4"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,isLocal=true,uiType=password2,uiTypeLabel=Password (2 Way Encrypted),uiUniqueId=d09c68a4-811c-4b60-81af-c757b9315ee8&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;sn_auth_token&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;password2&lt;/internal_type&gt;&lt;label&gt;Credential Value&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;255&lt;/max_length&gt;&lt;model display_value="REST step"&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/model&gt;&lt;model_id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_5da63f201b5f0410e1e51067bc4bcbbb&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;7&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;59a63f201b5f0410e1e51067bc4bcbc4&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:07&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_input action="delete_multiple" query="model=8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN45a67fac1b1f0410e1e51067bc4bcbcd,c1a63f201b5f0410e1e51067bc4bcbb5,cda63f201b5f0410e1e51067bc4bcbaf"/&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=ce688086-20ac-48d2-81a0-e3538118f0eb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;credentialalias&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;credentialAlias&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:04&lt;/sys_created_on&gt;&lt;sys_id&gt;45a67fac1b1f0410e1e51067bc4bcbcd&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:06&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=af87ca16-a4e6-4fb7-ba5d-005cd88dc72d&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;endpoint&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;endpoint&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;3&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;c1a63f201b5f0410e1e51067bc4bcbb5&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:06&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=75767fab-26f5-49b2-b899-998e17c49a88&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;midapplication&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;midApplication&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;2&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;cda63f201b5f0410e1e51067bc4bcbaf&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:06&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN59a63f201b5f0410e1e51067bc4bcbfb,5da67f201b5f0410e1e51067bc4bcb01,a1a67f201b5f0410e1e51067bc4bcb07"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=33990732-e012-4afe-ba32-55c5d838cadb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;response&lt;/element&gt;&lt;element_prototype display_value="Response Body" element="response_body" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;a804c77347622200b4fad7527c9a7119&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;response&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;59a63f201b5f0410e1e51067bc4bcbfb&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=0fae528b-28d2-4253-bd90-45ec5eb78e1d&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;headers&lt;/element&gt;&lt;element_prototype display_value="Response Headers" element="response_headers" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;09d4cb7347622200b4fad7527c9a71e3&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;headers&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;2&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;5da67f201b5f0410e1e51067bc4bcb01&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=44c9b74d-cc01-4191-bc52-7348fd3ddd05&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;statuscode&lt;/element&gt;&lt;element_prototype display_value="Status Code" element="status_code" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;a053077347622200b4fad7527c9a716e&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;statuscode&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model&gt;&lt;model_id&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_definition&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;3&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;a1a67f201b5f0410e1e51067bc4bcb07&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/action&gt;&lt;cid&gt;1b9a3c94-a0da-44fe-9cb0-0373d47b0c14&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;inputs/&gt;&lt;label&gt;REST step&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="REST"&gt;07a762fb47222200b4fad7527c9a7129&lt;/step_type&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;12&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;11a63f201b5f0410e1e51067bc4bcbf8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;f11ebf865f101300a09a2abd7f466652&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;5&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;define_connection_inline&lt;/value&gt;&lt;variable display_value=""&gt;91e207d03b50030057a4a2e334efc4a0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;13&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5da63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;18409d8007482000dada43c0d1021e8f&lt;/value&gt;&lt;variable display_value=""&gt;c30a451d2f201300a09a839fb18c95b4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;11&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;99a63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;e532afc12f101300a09a839fb18c95b9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;30&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d5a63f201b5f0410e1e51067bc4bcbf7&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Accept","value":"application/json"},{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Content-Type","value":"application/json"}]}&lt;/value&gt;&lt;variable display_value=""&gt;371837f1c71003007b237f48cb9763b0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/document_key&gt;&lt;order&gt;25&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:17&lt;/sys_created_on&gt;&lt;sys_id&gt;fad5fc722f7414100e1e5e492799b6dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[]}&lt;/value&gt;&lt;variable display_value=""&gt;4328e2fb47222200b4fad7527c9a7164&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=5da63f201b5f0410e1e51067bc4bcbbb"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;application&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d9a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.midapplication}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;base_url&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;55a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.endpoint}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;capabilities&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;91a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;connection&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;d1a63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;credential_alias&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;19a63f201b5f0410e1e51067bc4bcbf6&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.credentialalias}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;1da63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;query_params&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:17&lt;/sys_created_on&gt;&lt;sys_id&gt;f2d5fc722f7414100e1e5e492799b6dd&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:17&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;use_mid&lt;/field&gt;&lt;id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;dda63f201b5f0410e1e51067bc4bcbf5&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=5da63f201b5f0410e1e51067bc4bcbbb^sys_idNOT IN59a63f201b5f0410e1e51067bc4bcbc4"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,isLocal=true,uiType=password2,uiTypeLabel=Password (2 Way Encrypted),uiUniqueId=d09c68a4-811c-4b60-81af-c757b9315ee8&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;sn_auth_token&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;password2&lt;/internal_type&gt;&lt;label&gt;Credential Value&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;255&lt;/max_length&gt;&lt;model display_value="REST step"&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/model&gt;&lt;model_id&gt;5da63f201b5f0410e1e51067bc4bcbbb&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_5da63f201b5f0410e1e51067bc4bcbbb&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;7&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;59a63f201b5f0410e1e51067bc4bcbc4&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:07&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN05a63f201b5f0410e1e51067bc4bcbb4,09a63f201b5f0410e1e51067bc4bcbb9,89a63f201b5f0410e1e51067bc4bcbae"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;midapplication&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;midApplication&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;05a63f201b5f0410e1e51067bc4bcbb4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;endpoint&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;endpoint&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;09a63f201b5f0410e1e51067bc4bcbb9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;credentialalias&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;credentialAlias&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:05&lt;/sys_created_on&gt;&lt;sys_id&gt;89a63f201b5f0410e1e51067bc4bcbae&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:05&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT IN29a67f201b5f0410e1e51067bc4bcb0b,9da67f201b5f0410e1e51067bc4bcb00,e1a67f201b5f0410e1e51067bc4bcb06"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;statuscode&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;statuscode&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;29a67f201b5f0410e1e51067bc4bcb0b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;response&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;response&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;9da67f201b5f0410e1e51067bc4bcb00&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;headers&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;headers&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_8835f7ac1b1f0410e1e51067bc4bcb30&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:06&lt;/sys_created_on&gt;&lt;sys_id&gt;e1a67f201b5f0410e1e51067bc4bcb06&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:06&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_hub_action_plan action="delete_multiple" query="action_id=8835f7ac1b1f0410e1e51067bc4bcb30^sys_idNOT INd683bb2c2f2c18100e1e5e492799b63d"/&gt;&lt;sys_hub_action_plan action="INSERT_OR_UPDATE"&gt;&lt;action_id display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/action_id&gt;&lt;plan&gt;{"persistor":{"@class":".ChunkingPlanPersistor","table":"sys_hub_action_plan","id":"d683bb2c2f2c18100e1e5e492799b63d","name":"plan"}}&lt;/plan&gt;&lt;snapshot&gt;cb83776c2f2c18100e1e5e492799b6ae&lt;/snapshot&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-30 10:41:59&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;d683bb2c2f2c18100e1e5e492799b63d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_overrides/&gt;&lt;sys_scope/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-30 10:41:59&lt;/sys_updated_on&gt;&lt;/sys_hub_action_plan&gt;&lt;sys_hub_action_type_snapshot action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;acls/&gt;&lt;action_template/&gt;&lt;annotation/&gt;&lt;callable_by_client_api&gt;false&lt;/callable_by_client_api&gt;&lt;category/&gt;&lt;copied_from/&gt;&lt;copied_from_name/&gt;&lt;description&gt;Flow for Nutanix Refresh Token&lt;/description&gt;&lt;internal_name&gt;nutanix_refresh_token&lt;/internal_name&gt;&lt;label_cache&gt;[{"name":"{{action.credentialalias}}","label":"actioncredentialAlias","type":"action","ref":""},{"name":"{{action.midapplication}}","label":"actionmidApplication","type":"action","ref":""},{"name":"{{action.endpoint}}","label":"actionendpoint","type":"action","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_body}}","label":"stepREST stepResponse Body","type":"step","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].status_code}}","label":"stepREST stepStatus Code","type":"step","ref":""},{"name":"{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_headers}}","label":"stepREST stepResponse Headers","type":"step","ref":""}]&lt;/label_cache&gt;&lt;master&gt;true&lt;/master&gt;&lt;name&gt;Nutanix_Refresh_Token&lt;/name&gt;&lt;natlang/&gt;&lt;outputs/&gt;&lt;outputs/&gt;&lt;parent_action display_value="Nutanix_Refresh_Token"&gt;8835f7ac1b1f0410e1e51067bc4bcb30&lt;/parent_action&gt;&lt;sys_class_name&gt;sys_hub_action_type_snapshot&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:07&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_overrides/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:20&lt;/sys_updated_on&gt;&lt;system_level&gt;false&lt;/system_level&gt;&lt;type/&gt;&lt;/sys_hub_action_type_snapshot&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=b1a67f201b5f0410e1e51067bc4bcb98"/&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=b1a67f201b5f0410e1e51067bc4bcb98"/&gt;&lt;sys_element_mapping action="delete_multiple" query="id=b1a67f201b5f0410e1e51067bc4bcb98"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;86a67f201b5f0410e1e51067bc4bcbde&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_headers}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;response&lt;/field&gt;&lt;id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4aa67f201b5f0410e1e51067bc4bcbde&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].response_body}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;statuscode&lt;/field&gt;&lt;id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c2a67f201b5f0410e1e51067bc4bcbde&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/table&gt;&lt;value&gt;{{step[1b9a3c94-a0da-44fe-9cb0-0373d47b0c14].status_code}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT IN39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/action&gt;&lt;cid&gt;1b9a3c94-a0da-44fe-9cb0-0373d47b0c14&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;inputs/&gt;&lt;label&gt;REST step&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="REST"&gt;07a762fb47222200b4fad7527c9a7129&lt;/step_type&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;13&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0aa67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;18409d8007482000dada43c0d1021e8f&lt;/value&gt;&lt;variable display_value=""&gt;c30a451d2f201300a09a839fb18c95b4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;25&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:21&lt;/sys_created_on&gt;&lt;sys_id&gt;27d530b22f7414100e1e5e492799b6da&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[]}&lt;/value&gt;&lt;variable display_value=""&gt;4328e2fb47222200b4fad7527c9a7164&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;11&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;46a67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;e532afc12f101300a09a839fb18c95b9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;30&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;82a67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Accept","value":"application/json"},{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Content-Type","value":"application/json"}]}&lt;/value&gt;&lt;variable display_value=""&gt;371837f1c71003007b237f48cb9763b0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;12&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;caa67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;f11ebf865f101300a09a2abd7f466652&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;5&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;cea67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;define_connection_inline&lt;/value&gt;&lt;variable display_value=""&gt;91e207d03b50030057a4a2e334efc4a0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;application&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4ea67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.midapplication}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;base_url&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c6a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.endpoint}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;capabilities&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;06a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;connection&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;caa67f201b5f0410e1e51067bc4bcbba&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;credential_alias&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8aa67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.credentialalias}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8ea67f201b5f0410e1e51067bc4bcbba&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;query_params&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:21&lt;/sys_created_on&gt;&lt;sys_id&gt;a3d530b22f7414100e1e5e492799b6da&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;use_mid&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;42a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=39a67f201b5f0410e1e51067bc4bcbaa^sys_idNOT IN39a67f201b5f0410e1e51067bc4bcbb0"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,isLocal=true,uiType=password2,uiTypeLabel=Password (2 Way Encrypted),uiUniqueId=d09c68a4-811c-4b60-81af-c757b9315ee8&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;sn_auth_token&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;password2&lt;/internal_type&gt;&lt;label&gt;Credential Value&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;255&lt;/max_length&gt;&lt;model display_value="REST step"&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/model&gt;&lt;model_id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_39a67f201b5f0410e1e51067bc4bcbaa&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;7&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;39a67f201b5f0410e1e51067bc4bcbb0&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_hub_action_input action="delete_multiple" query="model=b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT IN71a67f201b5f0410e1e51067bc4bcba4,7da67f201b5f0410e1e51067bc4bcb9e,b1a67f201b5f0410e1e51067bc4bcb99"/&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=af87ca16-a4e6-4fb7-ba5d-005cd88dc72d&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;endpoint&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;endpoint&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;3&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;71a67f201b5f0410e1e51067bc4bcba4&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:20&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=75767fab-26f5-49b2-b899-998e17c49a88&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;midapplication&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;midApplication&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;2&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;7da67f201b5f0410e1e51067bc4bcb9e&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:20&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_input action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,uiType=string,uiTypeLabel=String,uiUniqueId=ce688086-20ac-48d2-81a0-e3538118f0eb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;credentialalias&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;credentialAlias&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_input&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:07&lt;/sys_created_on&gt;&lt;sys_id&gt;b1a67f201b5f0410e1e51067bc4bcb99&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:20&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_input&gt;&lt;sys_hub_action_output action="delete_multiple" query="model=b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT IN02a67f201b5f0410e1e51067bc4bcbc0,0ea67f201b5f0410e1e51067bc4bcbc5,42a67f201b5f0410e1e51067bc4bcbcb"/&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=33990732-e012-4afe-ba32-55c5d838cadb&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;response&lt;/element&gt;&lt;element_prototype display_value="Response Body" element="response_body" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;a804c77347622200b4fad7527c9a7119&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;response&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;1&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;02a67f201b5f0410e1e51067bc4bcbc0&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=0fae528b-28d2-4253-bd90-45ec5eb78e1d&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;headers&lt;/element&gt;&lt;element_prototype display_value="Response Headers" element="response_headers" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;09d4cb7347622200b4fad7527c9a71e3&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;headers&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;2&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0ea67f201b5f0410e1e51067bc4bcbc5&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_action_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,pwd2droppable=true,uiType=string,uiTypeLabel=String,uiUniqueId=44c9b74d-cc01-4191-bc52-7348fd3ddd05&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;statuscode&lt;/element&gt;&lt;element_prototype display_value="Status Code" element="status_code" name="var__m_sys_flow_step_definition_output_07a762fb47222200b4fad7527c9a7129"&gt;a053077347622200b4fad7527c9a716e&lt;/element_prototype&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_link/&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;label&gt;statuscode&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;8000&lt;/max_length&gt;&lt;model display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model&gt;&lt;model_id&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/model_id&gt;&lt;model_table&gt;sys_hub_action_type_snapshot&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;3&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_action_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;42a67f201b5f0410e1e51067bc4bcbcb&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_action_output&gt;&lt;sys_hub_step_instance action="delete_multiple" query="action=b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT IN39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_hub_step_instance action="INSERT_OR_UPDATE"&gt;&lt;action display_value="Nutanix_Refresh_Token"&gt;b1a67f201b5f0410e1e51067bc4bcb98&lt;/action&gt;&lt;cid&gt;1b9a3c94-a0da-44fe-9cb0-0373d47b0c14&lt;/cid&gt;&lt;extended_inputs/&gt;&lt;extended_outputs/&gt;&lt;icon/&gt;&lt;inputs/&gt;&lt;inputs/&gt;&lt;label&gt;REST step&lt;/label&gt;&lt;order&gt;1&lt;/order&gt;&lt;outputs/&gt;&lt;section/&gt;&lt;step_type display_value="REST"&gt;07a762fb47222200b4fad7527c9a7129&lt;/step_type&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;/sys_hub_step_instance&gt;&lt;sys_variable_value action="delete_multiple" query="document_key=39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;13&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;0aa67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;18409d8007482000dada43c0d1021e8f&lt;/value&gt;&lt;variable display_value=""&gt;c30a451d2f201300a09a839fb18c95b4&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;25&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:21&lt;/sys_created_on&gt;&lt;sys_id&gt;27d530b22f7414100e1e5e492799b6da&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[]}&lt;/value&gt;&lt;variable display_value=""&gt;4328e2fb47222200b4fad7527c9a7164&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;11&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;46a67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;1&lt;/value&gt;&lt;variable display_value=""&gt;e532afc12f101300a09a839fb18c95b9&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;30&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;82a67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;{"type":"ADV_NV","value":[{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Accept","value":"application/json"},{"attributes":{"mandatory":false,"omit_if_empty":false},"name":"Content-Type","value":"application/json"}]}&lt;/value&gt;&lt;variable display_value=""&gt;371837f1c71003007b237f48cb9763b0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;12&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;caa67f201b5f0410e1e51067bc4bcbbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value/&gt;&lt;variable display_value=""&gt;f11ebf865f101300a09a2abd7f466652&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_variable_value action="INSERT_OR_UPDATE"&gt;&lt;document&gt;sys_hub_step_instance&lt;/document&gt;&lt;document_key&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/document_key&gt;&lt;order&gt;5&lt;/order&gt;&lt;sys_class_name&gt;sys_variable_value&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;cea67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;value&gt;define_connection_inline&lt;/value&gt;&lt;variable display_value=""&gt;91e207d03b50030057a4a2e334efc4a0&lt;/variable&gt;&lt;/sys_variable_value&gt;&lt;sys_element_mapping action="delete_multiple" query="id=39a67f201b5f0410e1e51067bc4bcbaa"/&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;application&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4ea67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.midapplication}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;base_url&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c6a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.endpoint}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;capabilities&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;06a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;connection&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;caa67f201b5f0410e1e51067bc4bcbba&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;credential_alias&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8aa67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value&gt;{{action.credentialalias}}&lt;/value&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;headers&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;8ea67f201b5f0410e1e51067bc4bcbba&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;query_params&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-19 06:55:21&lt;/sys_created_on&gt;&lt;sys_id&gt;a3d530b22f7414100e1e5e492799b6da&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_element_mapping action="INSERT_OR_UPDATE"&gt;&lt;field&gt;use_mid&lt;/field&gt;&lt;id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;42a67f201b5f0410e1e51067bc4bcbbb&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;table&gt;var__m_sys_flow_step_definition_input_07a762fb47222200b4fad7527c9a7129&lt;/table&gt;&lt;value/&gt;&lt;/sys_element_mapping&gt;&lt;sys_hub_step_ext_output action="delete_multiple" query="model=39a67f201b5f0410e1e51067bc4bcbaa^sys_idNOT IN39a67f201b5f0410e1e51067bc4bcbb0"/&gt;&lt;sys_hub_step_ext_output action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes&gt;element_mapping_provider=com.glide.flow_design.action.data.FlowDesignVariableMapper,isLocal=true,uiType=password2,uiTypeLabel=Password (2 Way Encrypted),uiUniqueId=d09c68a4-811c-4b60-81af-c757b9315ee8&lt;/attributes&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label/&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;sn_auth_token&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;help/&gt;&lt;hint/&gt;&lt;internal_type display_value=""&gt;password2&lt;/internal_type&gt;&lt;label&gt;Credential Value&lt;/label&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;255&lt;/max_length&gt;&lt;model display_value="REST step"&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/model&gt;&lt;model_id&gt;39a67f201b5f0410e1e51067bc4bcbaa&lt;/model_id&gt;&lt;model_table&gt;sys_hub_step_instance&lt;/model_table&gt;&lt;name&gt;var__m_sys_hub_step_ext_output_39a67f201b5f0410e1e51067bc4bcbaa&lt;/name&gt;&lt;next_element/&gt;&lt;order&gt;7&lt;/order&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_hub_step_ext_output&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;39a67f201b5f0410e1e51067bc4bcbb0&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package/&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-19 06:55:21&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_hub_step_ext_output&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT INb1a67f201b5f0410e1e51067bc4bcba3,b5a67f201b5f0410e1e51067bc4bcba8,bda67f201b5f0410e1e51067bc4bcb9d"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;midapplication&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;midApplication&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;b1a67f201b5f0410e1e51067bc4bcba3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;endpoint&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;endpoint&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;b5a67f201b5f0410e1e51067bc4bcba8&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;credentialalias&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;credentialAlias&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_input_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:07&lt;/sys_created_on&gt;&lt;sys_id&gt;bda67f201b5f0410e1e51067bc4bcb9d&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:07&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="delete_multiple" query="name=var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98^sys_idNOT IN4ea67f201b5f0410e1e51067bc4bcbc4,82a67f201b5f0410e1e51067bc4bcbca,c6a67f201b5f0410e1e51067bc4bcbcf"/&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;response&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;response&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;4ea67f201b5f0410e1e51067bc4bcbc4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;headers&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;headers&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;82a67f201b5f0410e1e51067bc4bcbca&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;sys_documentation action="INSERT_OR_UPDATE"&gt;&lt;element&gt;statuscode&lt;/element&gt;&lt;help/&gt;&lt;hint/&gt;&lt;label&gt;statuscode&lt;/label&gt;&lt;language&gt;en&lt;/language&gt;&lt;name&gt;var__m_sys_hub_action_output_b1a67f201b5f0410e1e51067bc4bcb98&lt;/name&gt;&lt;plural/&gt;&lt;sys_class_name&gt;sys_documentation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-28 07:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;c6a67f201b5f0410e1e51067bc4bcbcf&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name/&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-28 07:37:08&lt;/sys_updated_on&gt;&lt;url/&gt;&lt;url_target/&gt;&lt;/sys_documentation&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1099518934</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7224eae4db711010eeb98087689619e8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1722bd0dbf20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_Refresh_Token</target_name>
<type>Action Type</type>
<update_domain>global</update_domain>
<update_guid>c8e570b2b87414104c678c25b45a1c4e</update_guid>
<update_guid_history>c8e570b2b87414104c678c25b45a1c4e:-1099518934,0fd530b2f87414108e0dd73828751941:-1475048845,c5d5fc7255741410164d990c7e6a7a84:830351813,5ea6bf20595f0410aebe2cdbe8735a1a:1035939536,a5a67f202c5f0410781098b399d42f3b:1272684889,8035f7aca51f0410ad3d5d88b7564133:-1303064806</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_d018c57f37112300fdfc097973990e26</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_ClientServerScriptBridge&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_ClientServerScriptBridge&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_ClientServerScriptBridge = Class.create();
Nutanix_ClientServerScriptBridge.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	
	fieldValidation: function() {
		
		var utils = new Nutanix_Calm_Utils();
		var logger = new Nutanix_Calm_Logger();
		
		try {
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fieldValidation.");

			var catSysId = this.getParameter('sysparm_catSysId');
			var fieldValueMap = this.getParameter('sysparm_fieldValueMap');
			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			
			return configureScript.fieldValidation(catSysId, fieldValueMap);	
		}catch(e) {
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fieldValidation. Error:- "+e);	
		}
		
	},
	
	hideAccessLocalGroupOption : function()
	{
		var utils = new Nutanix_Calm_Utils();
		var logger = new Nutanix_Calm_Logger();
		
		try
			{
				logger.debug("Inside Nutanix_ClientServerScriptBridge.hideAccessLocalGroupOption.");
				var localGroupOption = new Nutanix_FetchConfigureSettingDropdown();
				return localGroupOption.hideAccessLocalGroupOption(); //returns the value that is present on the form
			}
		catch(e)
			{
				logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.hideAccessLocalGroupOption. Error:- "+e);
			}
	},
	
	advanceVariableDynamicOptions: function() {
		
		var utils = new Nutanix_Calm_Utils();
		var logger = new Nutanix_Calm_Logger();
		
		try {
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getHttpValues.");

			var catSysId = this.getParameter('sysparm_catSysID');
// 			var fieldValueMap = this.getParameter('sysparm_fieldValueMap');
			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.advanceVariableDynamicOptions(catSysId);	
		}catch(e) {
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getHttpValues. Error:- "+e);	
		}
		
	},

	getHttpValues: function() {
		
		var utils = new Nutanix_Calm_Utils();
		var logger = new Nutanix_Calm_Logger();
		
		try {
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getHttpValues.");

			var type = this.getParameter('sysparm_type');
			var parent_uuid = this.getParameter('sysparm_parentUuid');
			var variable_uuid = this.getParameter('sysparm_varUuid');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.getHttpValues(type, parent_uuid, variable_uuid);	
		}catch(e) {
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getHttpValues. Error:- "+e);	
		}
	},

	
	mpiPatching: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.mpiPatching.");
			var project = this.getParameter('sysparm_project');
			var blueprint = this.getParameter('sysparm_blueprint');
			
			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.mpiPatching(project, blueprint);	
			
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.mpiPatching. Error:- "+e);
		}
	},
	
	getSubnet : function() {
		
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getSubnet."+this.getParameter('sysparm_catSysID'));
			var catalog = this.getParameter('sysparm_catSysID');
			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.getSubnet(catalog);	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getSubnet. Error:- "+e);
		}
		
	},
	
	checkQueue: function() {
		var logger = new Nutanix_Calm_Logger();
		var gr = new GlideRecord('x_nuta2_nutanix_ca_nutanix_process_queue');
		//gr.addEncodedQuery('state!=complete^topic!=startInventoryDelete^topic!=processImportedApp^topic!=importApplications');
		gr.addEncodedQuery('state!=complete^state!=error^topic!=startInventoryDelete^topic!=processImportedApp^topic!=importRecoveryPoints^topic!=processRecoveryPoints');
		gr.query();
		if(gr.next()) {
			//gs.addErrorMessage('Inventory is currently being synced. Please wait for this operation to finish.');
			//logger.error("Inside Nutanix_ClientServerScriptBridge.checkQueue: Inventory is being synced.");
			return false;
		}
		else if(gs.getProperty('x_nuta2_nutanix_ca.Delete_Flag')=='1') {
			//gs.addErrorMessage('Inventory is currently being deleted. Please wait for this operation to finish.');
			//logger.error("Inside Nutanix_ClientServerScriptBridge.checkQueue: Inventory is being deleted.");
			return false;
		}
		else
			return true;
	},
	
	deleteFlagState: function() {
		if(gs.getProperty('x_nuta2_nutanix_ca.Delete_Flag') == 1) {
			return 'deleting';
		}
		else {
			var gr = new GlideRecord('x_nuta2_nutanix_ca_nutanix_process_queue');
			gr.addEncodedQuery('state!=complete^state!=error^topic!=startInventoryDelete^topic!=processImportedApp^topic!=importRecoveryPoints^topic!=processRecoveryPoints');
			gr.query();
			if(gr.next()) {
				return 'syncing';
			}
		}
	},
	
	appFlag: function() {
		var utils = new Nutanix_Calm_Utils();
		var grAction = new GlideRecord(utils.configuration.table.NutanixCalmAction);
		if(grAction.get(this.getParameter('sysparm_actId')))
		{	
		var appUUID = grAction.parent_uuid;
		var gr = new GlideRecord(utils.configuration.table.NutanixCalmApplication);
		gr.addQuery('uuid',appUUID);
		gr.query();
		gr.next();
		
		if(gr.action_flag == '1') {
			return '1';
		}
		else
			return '0';
		}
	},
	
	getVariablesProperty: function() {
		var logger = new Nutanix_Calm_Logger();
		try{
			var varProp = gs.getProperty('x_nuta2_nutanix_ca.aws_display_vars');
			return varProp;
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getVariablesProperty. Error:- "+e);
		}
	},
	
	cleanInstance: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			var gr = new GlideRecord('x_nuta2_nutanix_ca_nutanix_process_queue');
			gr.addEncodedQuery('state!=complete^topic!=startInventoryDelete');
			gr.query();
			logger.debug("Inside Nutanix_ClientServerScriptBridge.cleanInstance.");
			if(gr.next()||gs.getProperty('x_nuta2_nutanix_ca.Delete_Flag')=='1') {
				logger.error('A sync or a delete process is currently in progress. Please wait for them to finish');
			}
			else {
				gs.setProperty('x_nuta2_nutanix_ca.Delete_Flag','1');
				var grDel = new Nutanix_Calm_Utils();
				grDel.insertIntoQueue('startInventoryDelete', '','','','Starts Inventory deletion','This process deletes the calm snow data.');
				logger.info('Inventory cleanup has started.');
			}
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.cleanInstance. Error:- "+e);
		}
	},
	
	fetchBlueprints: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchBlueprints.");
			var project = this.getParameter('sysparm_project');
			var blueprintType = this.getParameter('sysparm_blueprintType');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.fetchBlueprints(project, blueprintType);	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchBlueprints. Error:- "+e);
		}
	},
	
	fetchApplicationProfiles: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchApplicationProfiles.");
			var blueprint = this.getParameter('sysparm_blueprint');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.fetchApplicationProfiles(blueprint);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchApplicationProfiles. Error:- "+e);
		}
	},
	
	fetchProviderIcons: function () {
		var logger = new Nutanix_Calm_Logger();
		try {
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchProviderIcons.");
			var catSysId = this.getParameter('sysparm_catId');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.fetchProviderIcons(catSysId);
		} catch (e) {
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchProviderIcons. Error:- " + e);
		}
	},
	
	fetchActionVariables: function () {
		var logger = new Nutanix_Calm_Logger();
		try {
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchActionVariables.");
			var JSONstr = '';
			var actSysId = this.getParameter('sysparm_actSysId');
			var grAction = new GlideRecord('x_nuta2_nutanix_ca_nutanix_calm_action');
			if (grAction.get(actSysId))
			{	
				var actName = grAction.action_name + '';
				var trueName = grAction.name + '';
				var actionType = grAction.type + '';
				var varStr = grAction.action_variables + '';
			}
			if(varStr!='') {
				JSONstr = {"name":actName,"true_name":trueName,"type":actionType,"vars":varStr};
			}
			else
				JSONstr = {"name":actName,"true_name":trueName,"type":actionType};
			return JSON.stringify(JSONstr);
			
		} catch (e) {
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchActionVariables. Error:- " + e);
		}
	},
	
	getProfileVariableDetails: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getProfileVariableDetails.");
			var project = this.getParameter('sysparm_project');
			var blueprint = this.getParameter('sysparm_blueprint');
			var application_profile = this.getParameter('sysparm_application_profile');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			var response = configureScript.getProfileVariableDetails(project, blueprint, application_profile);

			return response;
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getProfileVariableDetails. Error:- "+e);
		}
	},
	
	getServiceVariableDetails: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getProfileVariableDetails.");
			var project = this.getParameter('sysparm_project');
			var blueprint = this.getParameter('sysparm_blueprint');
			var application_profile = this.getParameter('sysparm_application_profile');
			var type = this.getParameter('sysparm_type');
			var bpType = this.getParameter('sysparm_bpType');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			var response = configureScript.getServiceVariableDetails(project, blueprint, application_profile,type,bpType);
			return response;
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getProfileVariableDetails. Error:- "+e);
		}
	},
	
	getCrendentialsDetails: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getCrendentialsDetails.");
			var project = this.getParameter('sysparm_project');
			var blueprint = this.getParameter('sysparm_blueprint');
			var application_profile = this.getParameter('sysparm_application_profile');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			var response = configureScript.getCrendentialsDetails(project, blueprint, application_profile);

			return response;
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getCrendentialsDetails. Error:- "+e);
		}
	},
	
	mappedCredentials : function() {
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.mappedCredentials.");
			var projectUUID = this.getParameter('sysparm_project');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.mappedCredentials(projectUUID);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.mappedCredentials. Error:- "+e);
		}
	},
	
	fetchEnvironmentCredentials : function() {
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchEnvironmentCredentials.");
			var credSysId = this.getParameter('sysparm_credentialSydID');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.fetchEnvironmentCredentials(credSysId);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchEnvironmentCredentials. Error:- "+e);
		}
	},
	
	getCatalogInfo: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getCatalogInfo.");
			var catalogItemSysID = this.getParameter('sysparm_catalogItemSysID');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.getCatalogInfo(catalogItemSysID);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getCatalogInfo. Error:- "+e);
		}
	},
	
	getRealtedCatalogItems: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getRealtedCatalogItems.");
			var blueprint = this.getParameter('sysparm_blueprint');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.getRealtedCatalogItems(blueprint);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getRealtedCatalogItems. Error:- "+e);
		}
	},
	
	getBlueprintInfo: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.getBlueprintInfo.");
			var blueprint = this.getParameter('sysparm_blueprint');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.getBlueprintInfo(blueprint);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.getBlueprintInfo. Error:- "+e);
		}
	},
	
	fetchRuntimeVariablesValue: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchRuntimeVariablesValue.");
			var sysId = this.getParameter('sysparm_sysId');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.fetchRuntimeVariablesValue(sysId);
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchRuntimeVariablesValue. Error:- "+e);
		}
	},
	
	fetchProjectAndProfileList: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchProjectAndProfileList.");
			var catSysID = this.getParameter('sysparm_catSysID');

			var configureScript = new Nutanix_CatalogFormScripts();
			return configureScript.fetchProjectAndProfileList( catSysID );	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchProjectAndProfileList. Error:- "+e);
		}
	},
	
	fetchOrderFormData: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchOrderFormData.");
			var profile = this.getParameter('sysparm_profile');
			var catSysID = this.getParameter('sysparm_catSysID');

			var configureScript = new Nutanix_CatalogFormScripts();
			return configureScript.fetchOrderFormData( profile, catSysID );	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchOrderFormData. Error:- "+e);
		}
	},
	
	fetchCredentialsList: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchCredentialsList.");
			var catSysID = this.getParameter('sysparm_catSysID');

			var configureScript = new Nutanix_ImportCredentials();
			return configureScript.fetchCredentialsList( catSysID );	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchCredentialsList. Error:- "+e);
		}
	},
	
	fetchMappedCredentialsDetails: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.fetchMappedCredentialsDetails.");
			var catSysID = this.getParameter('sysparm_catSysID');

			var configureScript = new Nutanix_ImportCredentials();
			return configureScript.fetchMappedCredentialsDetails( catSysID );	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fetchMappedCredentialsDetails. Error:- "+e);
		}
	},
	
	checkDuplicate: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.checkDuplicate.");
			var catName = this.getParameter('sysparm_catName');
			var catSysId = this.getParameter('sysparm_catSysId');

			var configureScript = new Nutanix_FetchConfigureSettingDropdown();
			return configureScript.checkDuplicate( catName,  catSysId);	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.checkDuplicate. Error:- "+e);
		}
	},
	
	checkCatalogValidity: function(){
		var logger = new Nutanix_Calm_Logger();
		try{
			logger.debug("Inside Nutanix_ClientServerScriptBridge.checkCatalogValidity.");
			var blueprintType = this.getParameter('blueprintType');
			var blueprintUUID = this.getParameter('blueprintUUID');
			
			var profileSysId = this.getParameter('profileSysId');
			var projectUUID = this.getParameter('projectUUID');

			var configureScript = new Nutanix_CheckCatalogItemValidity();
			return configureScript.checkCatalogValidity( blueprintType,  blueprintUUID, profileSysId, projectUUID);	
		}catch(e){
			logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.checkCatalogValidity. Error:- "+e);
		}
	},
	
	getUserEmail: function(){
		var gr = new GlideRecord('sys_user');
		
		if (gr.get(gs.getUserID()))
		{
		return gr.email+''; 		
		}
	},
	
    type: 'Nutanix_ClientServerScriptBridge'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 19:13:04&lt;/sys_created_on&gt;&lt;sys_id&gt;d018c57f37112300fdfc097973990e26&lt;/sys_id&gt;&lt;sys_mod_count&gt;143&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_ClientServerScriptBridge&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_d018c57f37112300fdfc097973990e26&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 12:38:36&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>634624677</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7224eae4db711010eeb98087689619eb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217bb080000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_ClientServerScriptBridge</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>64810b42ef5814109ea4d7cc4b94bfb8</update_guid>
<update_guid_history>64810b42ef5814109ea4d7cc4b94bfb8:634624677,2414b7413fd340100ab96503ad3b9043:1243306487,f90b4665057e0010f82f440f315e14d6:895557797,7e9a8a25ac7e0010108dbe64c495c61c:-240350596,091b78b66e2a08101d6d7b394bcc3c23:962085174,7ace8a2566f944108f2fbe7b6b4a8f47:-619924775,488d02e110f944100e0c10f37707451d:1436885151,25e698323c26c4102bee78fcb4ad32ef:-489282716,b6d69832c626c410e399918034141070:1489889436,e8fa48f6fde2c4100fdcd326b7c50319:-188913381,f4a7cb39f2da4c90535f3e4b459355d7:1489889436,8027cb3dadda4c90f05ddab210c7dbff:1400837256,d55c4ff0c6de8890dd45017934b5a404:98391846,845817a6df86c0904d3fc8f65e7e68b2:-1490974487,dd3e0bd12ececc506edc475b09c5a304:234685501,0d6d0391a7cecc505d9ec6630f0b9bbf:-187821833,e99b275b75d10010d9ac45e21dde275f:-773442937,737e74ee38dd4c100a3e164153202439:-773442937,4d8cc49d4d3b3300642ae47270967437:-196710761,66d1b049bf673300a2a00b6ac7858c8f:-606098479,f8ff1ef87ea33300a621c627b365b32a:-23074358,29cf8630f5a333004ebcedf484ef7da7:160107851,226745c109df3300058004ef4329662a:1287672369,4f1bceb73f723300fa88fd5f6fb3009b:1350944049,394b9eb2b5323300623f55faa66c4c4b:164513330,71995e32ea323300f11b8f37500d71f6:2003884812,a285315819b23300cc8d214fbbea6a85:1057742611,04a9a1506bb23300d1b4f99cd9f9aebc:-341199199,cf7e3d219ed2330016dbf489fd36512a:364011551,26daf3d0115b3300d7df0a1b6b499550:2100539652,c4b62a8e45833300c16c80827a0bddb5:-2106673940,51f5354e210333007d826a13b7233bae:-1660207223,188d8124770733002b1ce730932fd34c:-585697185,921b85a09807330016a904b0d3082cc6:-1717599105,27c341ac42c33300c1878076156cba9c:-1848319183,afd8ec28ac8333005317535b27652df6:-1862363404,a050073389f23300bc9bc30da69d915d:116100837,44b33a3734b23300bf5c3983878d35bb:-1901038290,4152f6dc851b33006c373ac56a3c2e79:-105921103,13f989f3a8763300c399af02bc036190:922083935,e3a38dbff8363300e9f74f2bcec3ef75:1049050207,8dbeb50cf4f237006308a5ee1e3576d7:837693920,a3a9414732aa7300517a6cfbe4d0f443:-1694841871,736841476daa7300df223627e81a422d:-455925086,7a28a8cf332a73007a7b0909479ac499:-1642389155,0fd6a08b872a7300f9e52681d837360d:1608356289,45bc1b5293263300aae802582ec50c42:1288712297,8cbd17d81402b30094b6c16e215cfb6f:671347422,95ad93d85c02b3009d7da25f84f6fd80:2079983789,ea7d57984f02b300eaf8cf0faafe94a7:-1913613458,0d2d9f589902b300ec0e2937e4a3e889:-613689569,f8e5be387db133009d0b755c13ad734c:1431244435,5fa5b27888b13300720322b21882f59f:1997697946,e515beb4bdb13300829f33cbc4048368:1431244435,d5053e38b8b13300bab751260a671e8f:-657735429,ecf4beb473b133002bcf5c564434c862:-79630822,179476b4fdb133000d731b614db85fbf:-1192774096,6ad1f6b4b2b13300d7c8c0ee6ea63cbe:485210149,ba0a6e27928933000a4e2fe32d914015:-2137698367,68e9e227a889330092302a8490680237:146338070,0889a227788933000c5cabc625e76f08:-956749601,8b39e2273f89330032cd047a57299611:-930249815,8aa8eae3a58933003eae4bb76ee97178:-368883869,50882ee361893300181f09206ae7b196:224801338,9138a6a33c89330056496dc125c69000:-930249815,42c4a623d489330063dbdf788883b81a:224801338,51c3e223d48933008dc6c5ffabc95687:-1249303010,d5a32a2320893300fe5a564075394510:-563858118,5fe75fd5e7f8f3006e0f24eb7a5c330b:1940707134,0b741b55abf8f30050d7f7f0108e4431:-916866881,b9245315c4f8f3000c0b0636bc813459:1940707134,286260248f347300b0cb116f22d5d9c0:-340599730,cbd5660089b033009ca9fbdb3f981550:242071225,38c4220025b03300549412e860594238:1248019066,b2f78345d938330022e8163616318bfb:-916866881,574e22c114f43300474f50d862c2e80f:740336665,430beca61560330049573282a2151f4a:1045069710,33c018ea0e20330036d2c9aa0c6c6eb1:-449477038,2a7516f516ac330007929f7f4e7b4cbf:-1728002532,4d9695a59da03300454632bd250dbe0e:-686833060,17afcd21cba0330007eeeb0c05a3bdf9:-5734586,3f9e3ce124603300ed9e2fe5bfafda18:580628307,9d9dc1a45c203300148ae094fbecbf95:1105464653,4becc9645e2033003fc6e2e7d784bc5b:205510779,016f2910b8a43300c7633a084025c163:-1192592317,92de2910aca433002241b8e17431705a:-1128989472,b48bad5c8c64330007532841b78f996b:-1192592317,9b0ba15c2b6433005396de3858f07949:-1332793684,266a651cdf6433008fcc5aaa42aecf53:819724920,ec6aed1c306433002a64cb90de5d0c79:-2108043731,48c9a11c1f6433009bcbdfbc7befb3be:501798792,be39e9980b64330061b4671af21df457:37355671,6668e958966433001b2955f4d92e87d8:1816329663,01286d9849643300d45ba91d14f9ec1f:530496545,e1f7e9989b643300eb75f50a9da1fe1f:1506922453,bd926d94bf6433001e428831acfeada9:905650760,dd3161944f643300df783a3b32cddd6e:-176307336,5eb06d542d64330002dc7de780563918:-1819690224,774e4d583d2433001ab14e226bcc5760:1134764883,b29d4558d224330091dc245a49e9c235:1987469742,2b3d0158b9243300dcb54951de8eb273:1209416231,04ec09942d2433006e1758b54ee95671:296884906,85bc055491243300245c470ec2d484aa:-1943028381,46f8cd5c63e03300b2b542d12334bf73:-814625405,30858d5c1ee0330072fe714488812287:1939235230,a035895c5ce03300a04351d79333fa80:-1314008035,60f18918b1e033000f1a0f66f6d4a976:-1054687432,4f8181d843e0330056ed54df419dfa38:-1368795912,ca6009187ae03300a89b739be8322c39:-558566977,478f745807e03300a441bcfb4b108eb4:422450520,b23e30185ae033000cdb8a1d0ef630c1:994389272,583db8d00ce0330014a3c2dc79f8ab7e:-558566977,79dc3cd02ae0330055df960a27057f66:-842402365,229bb8d0d2e03300f2af5174a5bae371:-1344945547,cd5ab890dee033000fc7b1ed6cc1ea65:1186390139,f899b890f1e03300185b436e2c12ee59:-1468292131,08a8f09cfda03300a12136cbf4b1308b:989091510,fed730dc59a03300af4428beef2095eb:-565203453,0807fc9c43a03300a28fa27f362188e5:-1351940065,5866749c05a03300ef37d63550908875:355025531,d1337c949da033006d8db87b34bf7b85:-1625264730,9a32b498fca03300691f1a0f89237a70:2135051506,9b9de4d450a033009747598e351eb6bd:1484497801,6d796814ada033005d2197f4e087edc7:-807304465,37269c941c603300f10b3475fb0db9f8:1643047043,f0445814ad603300eed47414119359d0:613711983,1002d4d80e203300c9c597f999d395a4:625752115,25514094102033005e43476a828e8b68:-1462088996,1830441471203300067bf95a3612f4f2:-448985038,db6f330413203300b19add01431e09e1:2118546340,3fce7bc080203300a06d7a1e2dc4fede:-996687411,dd706404146433008bbe9de4ca2e50f1:2083510104,6b10ac049d643300862c022785d8a554:21081769,5cef1804c864330099ab3d085a8828b2:2077550605,35bf58c0986433000e8d9e35fd8f74a7:-261333179,aede90c01e64330095c3b7646ab73313:833584705,c24ed4c0c2643300fb79c0ef90a49feb:256837824,5877548caf243300bfe10e06956be6f8:833828024,1c85940c232433006b8fee6c22ccb07c:-1617299660,2d04500c652433008dc474e8dc2089fc:-930269075,c9625c88b5243300b18cb3addc089fc9:-108223603,21ad0884d324330047d90a3168c56fb4:865994012,8b0d77fb5fd0330062d89d96ce9ce23a:-1453164596,9dfc73fb61d03300a34499d2f97ebd56:990251154,f61cf3fb65d0330079b8febeb7bcbeef:-426502655,2a7b33bbd6d0330004b081e761ce189b:1722936059,b3f6b3770bd03300ac654701993ab75c:2084357535,35463377d4d03300fe12d189f3ff1b4e:1814720369,a5f43b3780d03300c2adc765c330cd27:1683285281,91e43b371dd033004494a6e2badf2665:-1452414482,f084b737f6d03300802f386ba50c66c2:1994777878,7264373396d033008d8afe1b9bac8b54:1949531399,8234b733d5d0330096766d96870eef8f:1867943043,8d027b3339d033003bf2b3e75d39fb7a:-1529618159,9ef07b333cd033001c8a812646c39450:-1338511374,5d0cdb7337903300513e657281ba4ac7:-869957497,1d9418a20a607300779ad5d660d2f5cf:242071225,22a2d4a2a560730029d51557b7e8625c:468121486,ba87ff5685ac3300470aeca2417979c4:457185806,5d33379a942c330051b08077d53166ca:-324171223,5e0a901e982433003a5be9d03317e7d9:-695220937,480a9c1e21243300972a5fa9b6fc36f1:-1425888095,68492f426da0330018742cd0a1a520f3:1177801854,ceeeb5a4c66c7300271221bbf82981fd:-517859935,dd7e35642e6c730064092b4d1a0b083f:-56157088,f96ef9244d6c730027bf39f8bf8e701e:304172562,0ced7de0396c7300875590d7e7b964a8:-224793420,b74cbd204f6c730060feada1a46beebd:771833043,142a31ec452c73004f6c6b3d4b773d6f:-1946916351,65090bbbfa503300a1c25cc777e1a0d0:-226920833,ba540b732950330054da201eb2a10728:-1224007526,c11f36fb3510330063249c46357e7274:553711594,d2323aefe4d033006781c0dcb579190a:305266318,84513a6b2ed03300363049f5d599a935:-207817255,02e875ab6f10330044626629c49f808f:-157976821,1f67bd1bd514330044036c93c9942ce1:-1456705847,7201b91730143300d7b0aef5c03a3ab5:-1947629520,06d3ed9b34d033003151a5e006cc1259:1204133930,15536d1b7ad03300e6d3d9fe12887a24:-1947629520,a8db8d9bd8903300a38e7e1b9d1779ee:-29372202,eeb945977d903300373a1463f406aa12:1607548734,91d860df3c103300437c2418dc8b11aa:923734581,cbc7ac5fd31033004df989a90828e458:-486607586,b95258717b5433005bfe4c0aa2198d52:-636006611,998198312f543300065dab2115a1affc:-1100820701,43c4b3e556d033001cf71703b1c1d87f:-1331341088,130433e51ed03300ac877619a2a7b633:-381905904,35fba3adcd9033007356e526a0921a47:-915416134,62aaa3ad48903300652e5a8b66faac01:554674915,325a5be1aa9033007bef586a30bcde38:-622606522,2fc73ee93f10330047a8574d0e07545c:-615827199,20bf3758679c7300d66cc61e1da10e9a:99014874,d946f43f46803300b0ae4cd6d1d97957:-300316472,2464bf91614c33006090d33e6b1a26b5:2025526483,1ca8f9a0e2043300e6ffd90d262e78eb:-306487907,57827daca5c033000a46c97edb2644ce:-1632906844,8c2d9d6cac80330059ccacbce573e07b:2045530966,4feab4e468003300fb639fe9411d673d:-421049205,cd3c012fd13f2300c987e59ded575bd4:-1155114592,a7dd9eaabdff2300232f12511c66cc20:-1450768630,8abd1e2e08ff2300b0cc1333814b2ba0:-151118726,8d42900570b32300625fd75ade273e62:-991646019,0db19c4d867323003222b8dabdf8421a:13923263,1bb094c166b32300e4a8ed73ca2a4c98:155818461,e288444d0b732300c57f408658f19512:1859269087,d6d70c0d7e7323001ab168acc7c4f448:-2019175556,a897044dcb732300ac1330623d2f15f2:-1430529820,b0d6c00dfb732300eb0f27a6bd27aba2:-878062264,da164809c97323002a55c6be5e53192d:1947595948,0854844902732300a9b82b3b23c9fc64:-6698668,2dd0eb20b9336300d308a45b4821b241:599934240,ba2b4b20d4ff23006f43234222ba0e17:241717613,601f3ee466bf2300083546a7519fa9ff:599934240,0cde3e2872bf2300e78fc6ddbbd69f9b:-784709088,7b2d322814bf2300e23ae2342d7cef38:-2060232275,a20ad6d884f32300d7795f1a2ed187dc:-784709088,4c0a525817f323006dbca50591a874b5:562560447,2983a444c8332300477cf7ddfdd9eba3:2110445243,5819b4c7262f2300903905b4f740f265:1794159858,18da1861551a230059a4da88cf93e53e:-119375368,fc0106c75b426300737d1ea362be3c65:766145999,be647b72a10e2300ba61f59a16accb6b:-881141664,97e7a5d67b8ea300017b5a854573f08c:654402228,3da7a5d6118ea300d73757d4271e3694:1679016760,6ed66996af8ea3007cb315d5fe76522f:-362004021,0d28b456430ea3008a1dc4b075cb5775:1679016760,26d2ec6de406230073e77e1063b5c11f:-1877681683,9fffadb4a40e2b00baa1b5d2083ec947:-539943379,265ead74890e2b00cb29c8238bd4d2c3:945306347,fcf7c95bbd31e30026eceb01d93a973f:-948813167,2655f81faffda300bcac36971c2d3da1:-1897223609,14bd4d0f6c75a300fc22f003f3d24121:-890451674,da6dcd0fa475a3008d2d3f9a5843991a:-823618084,5ea2c9077275a3000c33a10f8c4702e0:-1507601882,83c16176547d6300e392f12f605bc079:1070470887,fb76e8a1dff5a30079aca374f90904e6:459750355,1914b79d0835a300dfdc41e6ef6141ec:-660112213,6212955daabd63000bf2b8264889aefe:-1176744584,a1bfc5dd65bd63001eca863d7b45bf9e:2033454981,8c3403f4fafd23005dd30f89451b8fed:1116140324,2451363c2dbd2300360de60bdb83aaf4:229073458,6231fef859bd2300237e41b1519a4b95:683530586,a2df22f812bd2300d155ec0e69a7065d:-681667144,fb3a709ddf6d2300cc5fc2a09ac99aca:1461204843,37da9bb095212300ab2488cb274b5788:-2142886880,169918b8a9e5230049b34608d4c84d0d:-171081800,bf79aa6c17a12300e8beee32ee6951a0:1145764236,28856ea42ea12300fb5dd7ec6dd873ae:770636087,4f42ee20e4a1230065cb815a5893f72d:-1333210511,84326e604aa12300e7dcf34ddd869739:657952991,6188951cf1e5630036e3aaa71aace676:-1860823237,10159d18a2e563005a96007e408f0c64:688998715,a064911875e56300c9c0f6c4cb20b8bf:231740739,cb231d9490e5630026b0ca34e99b3458:1274530003,6af7ed33a391230086d4e63524af7e22:187149776,1e1e4dffdc1123000c2b58f6673277bc:-755183496</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_dd7973eb4fa233008373224f9310c790</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();
setServicesRadio();	
new GlideModal().get("dialog_loading").destroy();
		
function setServicesRadio() {	
	var ngtServices = gel("ngt_services").value;
	ngtServices = ngtServices.split(',');	
	if(ngtServices.indexOf('SSR') == -1)	
		$j('#ssr_val_false').prop('checked', true);	
	if(ngtServices.indexOf('VSS') == -1)	
		$j('#vss_val_false').prop('checked', true);	
}

$j('#performAct').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function cancelDialog() {
	GlideModal.get().destroy();
}

function runAction() {
	$j('#performAct').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var ssr_stat = $j("input[name='ngt_self_service_restore']:checked").val();
	var vss_stat = $j("input[name='ngt_vss_snapshot']:checked").val();
	var actSysId = "${JS:sysparm_sysId}";
	
	var modVarString = [{"name":"ngt_self_service_restore","value":ssr_stat},{"name":"ngt_vss_snapshot","value":vss_stat}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', actSysId+'');
	gajax.addParam('sysparm_actionVars', JSON.stringify(modVarString));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}]]&gt;&lt;/client_script&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Manage_NGT.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;

	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;	
	&lt;g:evaluate var="jvar_not" object="true"&gt;	
		var appUtil= new Nutanix_Calm_Utils();	
		var not = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);	
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid+'';	
		var not = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmApplication);	
		not.addQuery('uuid',app_id);	
		not.query();	
		while(not.next()) {	
		var ngt_services = not.services_enabled + '';	
		}
		}
		ngt_services;	
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="ngt_services" id="ngt_services" value="${JS:ngt_services}"/&gt;
	
	&lt;body&gt;
		&lt;div class="manage-ngt-form"&gt;
			&lt;div class="mng-ngt"&gt;
				&lt;label class="form-label"&gt;&lt;strong&gt;Self Service Restore (SSR)&lt;/strong&gt;&lt;/label&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input type="radio" id="ssr_val_true" class="radio" name="ngt_self_service_restore" value="true" checked=""/&gt;
						&lt;label for="ssr_val_true" class="radio-label"&gt;Enable&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input type="radio" id="ssr_val_false" class="radio" name="ngt_self_service_restore" value="false"/&gt;
						&lt;label for="ssr_val_false" class="radio-label"&gt;Disable&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div class="mng-ngt"&gt;
					&lt;label class="form-label"&gt;&lt;strong&gt;Volume Snapshot Service (VSS)&lt;/strong&gt;&lt;/label&gt;
					&lt;div class="form-group"&gt;
						&lt;span class="input-group-radio"&gt;
							&lt;input type="radio" id="vss_val_true" class="radio" name="ngt_vss_snapshot" value="true" checked=""/&gt;
							&lt;label for="vss_val_true" class="radio-label"&gt;Enable&lt;/label&gt;
						&lt;/span&gt;
					&lt;/div&gt;
					&lt;div class="form-group"&gt;
						&lt;span class="input-group-radio"&gt;
							&lt;input type="radio" id="vss_val_false" class="radio" name="ngt_vss_snapshot" value="false"/&gt;
							&lt;label for="vss_val_false" class="radio-label"&gt;Disable&lt;/label&gt;
						&lt;/span&gt;
					&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
			&lt;div class="modal-footer"&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
						&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
						&lt;button class="btn btn-primary" id="performAct"&gt;Confirm&lt;/button&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
	&lt;/body&gt;
	
	&lt;style&gt;
		.manage-ngt-form {
		display:-webkit-inline-flex;
		width:100%;
		}
		.mng-ngt{
		width:50%;
		}
		.radio {
		display:grid;
		}
	&lt;/style&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Manage_NGT&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-16 12:35:44&lt;/sys_created_on&gt;&lt;sys_id&gt;dd7973eb4fa233008373224f9310c790&lt;/sys_id&gt;&lt;sys_mod_count&gt;85&lt;/sys_mod_count&gt;&lt;sys_name&gt;Manage_NGT&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_dd7973eb4fa233008373224f9310c790&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:09:54&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>383960473</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>7224eee4db711010eeb9808768961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b3454e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Manage_NGT</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>8c196f564c90941035d4360ae21572df</update_guid>
<update_guid_history>8c196f564c90941035d4360ae21572df:383960473,31c8c7863f58141023905aed9324cc13:1870626475,7e46ccf6f8660810ef67e273ef9e2485:-1110500170,fc0d5349d76ac010cdf0ea9543be203e:1622464330,c5aa97093f6ac010af59562697a7eb9e:-1739714617,b9a79b85df6ac010b68356920aff891e:294273300,2caf993cfca6801072ac1986969800ee:-1727606562,55b10c946d6a0010828220a92af82243:-264322673,a043a0408a5a8450bcd2adc143bc15f3:-858297288,8d24e8228b554010d2d9a0fa81b2a129:330080656,7cfc7e23f0b48c50954a7d33f364d2a7:1246554962,8cd5452555b508108a2c952ba1af146e:-936375183,d81a9fb8673d841006827f5ef111e0a3:-192098390,2d67804c1ef104101cdd6cfd629168d8:1230736352,c9057bbf6ea10410ff4d57faf39600a8:-299083408,5db1c7741e594810017a42d0376d28aa:1335810115,462683662105c010e5a37b716a87b1f2:-482428867,6f8d0b5e9c633700941e6be2045e22d1:547591737,e21f112121ef7300dd2077d59b35b31c:-989770151,92cda3c15b2733004b6ad8c3386b6751:2037812664,e32d6381fb2733000335b6c133c08ad0:-371672819,b19ae6af281f7300bfb47f6c3a0323d1:-80390216,b85f6963a49b7300813fc775b0dde3a9:616072531,50c415ef021b73000a66d5422ef43d26:-2016516486,88c9b797d4c33300dd8f4cd32854c585:1015087683,28a9ff9708c333006fca6680e602cf72:1347571573,80793fd771c333006ee131ca98ff81e1:1015087683,b59877977dc333002e9c4fb43e7d5e5a:1760741439,3d78ff979cc33300a37a7bba32a50a6d:1654769152,29e7339750c3330030d06fbe500d0497:1760741439,3eb77b170ac33300f248fa02d5e89314:-389001685,74073f17a6c33300fd59b06acd923c62:-2125611271,1cf6339715c3330036912cc455b39d91:157609346,f1c6bf5752c3330026deeff6086771ec:1258038978,33253f1733c33300c9fb2609ebf14c75:820626630,3005f31750c33300d65f67204c4ff36f:296209476,05543f1759c333003a560e49c6d5d658:1301542284,5ff37f9329c333008a601fa919903851:-1409558355,5fe3f31f35833300c3b405b527ce5a2d:2024805170,81637b9f438333007325218598e9bcb7:357014529,fec2f35f8a8333009f492082679583cb:-629529287,3292f7933cc33300b6fd1e27f132c157:-145535161,167d8840ef723300564838396aa6636b:-629529287,872dc0cccb323300e30cb7e4dd0d7b80:-105020479,e7cc7737f42233003687bf4ada69fa63:-629529287,ec9c7737f7223300322ba9ed7ee22a09:-1793269129,427c3337f922330058331c8cefaa5ad2:2037636848,e34c3373622233009d49c17a833de99c:1477680903,d93cb7b3d62233000a7196f35121cdee:1954234843,4d7a3f73ff2233004cec0f016639b04c:951151308,bea9bf3355223300f28a268cd975f6f5:-766905881,1cdf883b46e2330010c8ae8c97f15cb9:22402014,32ad04f7f9e233002100491141a9f20a:1191567039,e76d00f7bde23300d84a33aba965f3f1:254558824,746d00f74be23300f34a6f61eee79fed:1108059609,a49cc4b74be233004f42aaabe76974f4:-1381395152,d16c80b706e23300d75fcebf42488776:-1780246801,e54c8c771de23300dd094b60d0295bbd:-408260506,88cb88f318e233002c01bbd83fe3dd98:-1143144060,deab4cf353e233000ecb16075351a9e2:682281269,1eea0c37dde233008731eb8acb3c1abf:-1143144060,d63800b36ce23300e82db909e3553fd9:-1864128323,cf1800b350e23300d696873773332fd5:-881470141,c4084cff7ba233003e79f5bcf82a22d1:-487511129,73d7c4b328e23300349d360b6ee5078a:-1573892344,4ec7c8338be233004a99a8808868a93b:660530734,d6a708736ae233009037628797defc52:-1947399154,ccd5c4b3c7e23300a5a77b5b9261fe85:1413662794,921500b321e2330091dba0ecf880a1c3:1177774499,fa24c473ace233001365ec91f8e52e96:-1024323007,ba040c33b6e233001de94b921a73585d:-540647261,ce63c8336ae2330094c4f03a01f8b86b:986510788,a83308ffb0a23300fbee326fcdd4daf6:-1696485770,dae2003374e233006eae078b31573014:-755217970,eed208bf39a233008c3e63a9ce86ffef:980439652,d5d14cffcca23300aac78687d70dedc2:1188556858,40a1c4ff81a233001bf5f27d74eee3b3:441772438,2c91483f2fa2330098f5ee02a9e3686e:1861114715,8561ccbf16a23300be606122f77553a1:-1937223919,97d008bf25a233007eec4c9c64d630eb:1920566008,7dc0c4ffe6a23300f9608557270b1ea8:-830363558,ae9008bf41a233009b3b7caf663d20e6:-867473761,5fefffafbea23300507363ec7b923199:-757301318,669ff3afb7a233005f0b943b5c0678eb:337162307,464f77af2ca233007f8069a5163a9780:-692056035,f2feb3afcea2330097104396803ca402:-1081007597,b0ee77af3ea23300418b6594ae012728:1090098963,9dcef3af92a23300917e19059938d6fb:1310773680,e18e7b2fb6a23300d90ce30e60058963:321866998,039d37a7d3623300cf79f1b43b37c06e:-1909778734,0aebf7ebd2a23300ed356f6786590bd7:-812926905,8ffa33aba2a23300cd5424d539730ca9:-1666442361,0e5affef382233004a48da1e7470278b:-1690666605,3e1ab32323623300d16678beb2c4a310:974816583</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sysevent_register_b981083307778c10c4dcf6fd7c1ed068</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sysevent_register"><sysevent_register action="INSERT_OR_UPDATE"><caller_access/><description>Triggers flow designer</description><event_name>x_nuta2_nutanix_ca.refresh_token</event_name><fired_by/><queue/><suffix>refresh_token</suffix><sys_class_name>sysevent_register</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2020-04-02 12:38:47</sys_created_on><sys_id>b981083307778c10c4dcf6fd7c1ed068</sys_id><sys_mod_count>1</sys_mod_count><sys_name>x_nuta2_nutanix_ca.refresh_token</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sysevent_register_b981083307778c10c4dcf6fd7c1ed068</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-04-07 14:19:14</sys_updated_on><table/></sysevent_register></record_update>]]></payload>
<payload_hash>891121140</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7624eae4db711010eeb98087689619e7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171828008470000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.refresh_token</target_name>
<type>Event Registration</type>
<update_domain>global</update_domain>
<update_guid>ecb84ad96f88945098feef8efa8cb491</update_guid>
<update_guid_history>ecb84ad96f88945098feef8efa8cb491:891121140,54c14cffdc378c1051d400e42a8fdbe2:-31822736</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_92e8017f37112300fdfc097973990e33</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_FetchConfigureSettingDropdown&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_FetchConfigureSettingDropdown&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_FetchConfigureSettingDropdown = Class.create();
Nutanix_FetchConfigureSettingDropdown.prototype = {
	initialize: function() {
		this.appUtil = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		
		this.disabledFields = gs.getProperty('x_nuta2_nutanix_ca.disabled.fields')+'';
	},
	
	fieldValidation: function(catSysId, fieldValueMap) {
		
		try {
			this.logger.debug("Inside Nutanix_ClientServerScriptBridge.fieldValidation.");
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addEncodedQuery('catalog_item='+catSysId+'^isprofilevariable=true^ORisservicevariable=true^ORfield_regexISNOTEMPTY');
			gr.query();
			
			var fieldValReg = {};
			while(gr.next()){
				
				var listRegex = {};
				if( gr.type+'' == 21){
					var filter = (gr.variable.reference_qual+'').substr(9,(gr.variable.reference_qual+'').length);
					var genTable = new GlideRecord('x_nuta2_nutanix_ca_generic_table_for_dropdown');
					genTable.addQuery('variable',filter);
					genTable.query();
					while(genTable.next()){
						listRegex[genTable.sys_id+''] = genTable.value+'';
					}


				}
				fieldValReg[gr.variable.name+''] = {
					"status" : false,
					"regex"  : gr.field_regex+'',
					"type" : gr.type+'',
					"data_type" : gr.data_type+'',
					"listRegex" : listRegex
				};
			}
			return JSON.stringify(fieldValReg);
					
		}catch(e) {
			this.logger.error("Exception caught inside Nutanix_ClientServerScriptBridge.fieldValidation. Error:- "+e);	
		}
		
	},
	
	
	hideAccessLocalGroupOption : function()  //hide the option
	{
		try
			{
				this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.hideAccessLocalGroupOption.");
				
				var lg = new GlideRecord('x_nuta2_nutanix_ca_calm_plugin_configuration');
				lg.addQuery();
				lg.query();
				while(lg.next())
					{
						return lg.use_local_groups;
						
					}
			}
		catch(e)
			{
				this.logger.error("Error caught in Nutanix_FetchConfigureSettingDropdown.hideAccessLocalGroupOption:"+e);
			}
	},
	
	advanceVariableDynamicOptions : function(catSysId,fieldValueMap){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.advanceVariableDynamicOptions.");
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addEncodedQuery('catalog_item='+catSysId+'^isprofilevariable=true^ORisservicevariable=true^data_typeINEXEC_SECRET,HTTP_SECRET,EXEC_LOCAL,HTTP_LOCAL');
			
			gr.query();
			
		
			var catalog =  new GlideRecord('x_nuta2_nutanix_ca_nutanix_runtime_configuration');
			catalog.addQuery('item_name',catSysId);
			catalog.query();
			
			var varOpt = {};
			while(gr.next()){
				var options = JSON.parse(this.getHttpValues('blueprints', catalog.blueprint.uuid , gr.uuid+''));
				varOpt[gr.variable.name+''] = {
					"sys_id" : gr.sys_id+'',
					"options" : options
				};
				
			}
			var advanceFields = [];
			advanceFields[0] = varOpt;
			advanceFields[1] = JSON.parse(this.fieldValidation(catSysId));
			return JSON.stringify(advanceFields);
			
		}catch(e) {
			this.logger.error("Error caught in Nutanix_FetchConfigureSettingDropdown.advanceVariableDynamicOptions:"+e);
		}
	},
	
	getHttpValues: function(type, parent_uuid, var_uuid) {
		
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getHttpValues.");
			
			if(type == 'unpublished' || type == 'published') {
				var table_name = (type == 'unpublished') ? this.appUtil.configuration.table.Blueprint + '' : 'x_nuta2_nutanix_ca_nutanix_marketplaceitems';
				var grBlueprint = new GlideRecord(table_name);
				if (grBlueprint.get(parent_uuid))
				{	
				parent_uuid = grBlueprint.uuid + '';
				type = 'blueprints';
				}
			}
			var options = {"state":"","values":[]};
			var getRequestIdBody = this.appUtil.makeCalmApiCall('GET','/'+type+'/'+parent_uuid+'/variables/'+var_uuid+'/values','');
			
			if(getRequestIdBody.getStatusCode() == '200'){
				var parsedRequestIdBody = JSON.parse(getRequestIdBody.getBody());

				var requestId = parsedRequestIdBody.request_id + '';
				var trlId = parsedRequestIdBody.trl_id + '';

				var getValuesBody = this.appUtil.makeCalmApiCall('GET','/'+type+'/'+parent_uuid+'/variables/'+var_uuid+'/values?requestId='+requestId+'&amp;trlId='+trlId,'');
				var parsedValueBody = JSON.parse(getValuesBody.getBody());

				if(parsedValueBody.state == 'SUCCESS') {
					options.state = parsedValueBody.state;
					for(var i in parsedValueBody.values)
						options.values[i] = parsedValueBody.values[i];
				}
				else {
					options.state = parsedValueBody.state;
					for(var j in parsedValueBody.message_list)
						options.values[j] = parsedValueBody.message_list[j].message;
				}
			}else{
				this.logger.error("Connection Error caught in Nutanix_FetchConfigureSettingDropdown.getHttpValues.Status Code :: "+getRequestIdBody.getStatusCode());
				options.values[0] = 'Connection Error';
			}
			

			return JSON.stringify(options);

		}catch(e) {
			this.logger.error("Error caught in Nutanix_FetchConfigureSettingDropdown.getHttpValues:"+e);
		}
	},

	
	
	getSubnet : function(catalog){
		try{
			var clusterJson = {};
			var catalogSysid ;
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getSubnet");
			var gr = new GlideRecord('x_nuta2_nutanix_ca_nutanix_runtime_configuration');
			gr.addQuery('item_name', catalog);
			gr.query();
			if(gr.next()){
				var grProject = new GlideRecord(this.appUtil.configuration.table.Project+'');
				grProject.addQuery('sys_id',gr.project+'');
				grProject.query();
				if(grProject.next()){
					var subnetList = grProject.subnet.split(',');
					for (var x in subnetList){
						var grSubnet = new GlideRecord(this.appUtil.configuration.table.subnet+'');
						grSubnet.addQuery('sys_id',subnetList[x]);
						grSubnet.query();
						if(grSubnet.next()){
							if(!clusterJson[grSubnet.cluster_name+'']){
								clusterJson[grSubnet.cluster_name+''] = {};
								clusterJson[grSubnet.cluster_name+'']['uuid'] = grSubnet.cluster_uuid+'';
								clusterJson[grSubnet.cluster_name+'']['subnet']={};
							}
								
							clusterJson[grSubnet.cluster_name+'']['subnet'][grSubnet.uuid+''] = grSubnet.name+'';
						}
						
					}
					
					
				}
				
			}
			/*setting session*/
			var grCat = new GlideRecord('x_nuta2_nutanix_ca_nutanix_catalog_items');
			grCat.addQuery('sys_id',catalog);
			grCat.query();
			if(grCat.next()){
				var gr = new GlideRecord('item_option_new');
				gr.addQuery('cat_item.name', grCat.name+'');
				gr.query();
				var catalog_clusterJSON = {};
				while(gr.next()){
					if((gr.name+'').endsWith('cluster_name') &amp;&amp; gr.question_text=='Cluster Name'){
						catalog_clusterJSON[gr.sys_id+'']  = {};
						catalog_clusterJSON[gr.sys_id+'']['name'] =  gr.name+'';
						catalog_clusterJSON[gr.sys_id+'']['label'] =  gr.question_text+'';				
						catalog_clusterJSON[gr.sys_id+'']['value']  = gr.default_value+'';
					}
				}
				
				for(var k in catalog_clusterJSON){ 
				var serviceName = (catalog_clusterJSON[k].name+'').slice(0, (catalog_clusterJSON[k].name).length-12); 
				catalog_clusterJSON[k]['nics'] = {};
				var gr = new GlideRecord('item_option_new');
				gr.addQuery('cat_item.name', grCat.name+'');
				gr.query();
				while(gr.next()){
					if((gr.name+'').indexOf(serviceName)!= -1 &amp;&amp; (gr.name+'').indexOf('_nic_')!= -1){ 
						catalog_clusterJSON[k]['nics'][gr.sys_id+''] = gr.name+'';
						}
					}
				}
			}
			
			/**/
			
				
			var catNicJson = {
				"catalog_data" : catalog_clusterJSON,
				"cluster_info" : clusterJson
			};
			return(JSON.stringify(catNicJson));
			
		}catch(e){
			this.logger.error("Inside Nutanix_FetchConfigureSettingDropdown.getSubnet."+e);
		}
	},
	
	getNutanixSubnetList : function(project) {
		try {
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getNutanixSubnetList.");
			var subnetListJSON = {};
			var projectSubnet = new GlideRecord(this.appUtil.configuration.table.Project);
			projectSubnet.addQuery('uuid',project);
			projectSubnet.query();
			if(projectSubnet.next()){
				var subnetList = projectSubnet.subnet.split(',');
				for(var i=0;i&lt;subnetList.length;i++){
					var subnetListGR = new GlideRecord(this.appUtil.configuration.table.subnet);
					subnetListGR.addQuery('sys_id',subnetList[i]+'');
					subnetListGR.query();
					
					if(subnetListGR.next()){
						subnetListJSON[subnetListGR.uuid+''] = { "name" : subnetListGR.name+'',
																 "cluster_name" : subnetListGR.cluster_name+'',
																 "cluster_uuid" : subnetListGR.cluster_uuid+''
															   };
					}
				}
			}
				
			return subnetListJSON;
		} catch (e) {
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getNutanixSubnetList. Error:- "+e);
		}
	},
	
	getServiceVariableDetails: function(project, blueprint, profile,type,bpType){

		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getServiceVariableDetails.");
			var variables = new GlideRecord(this.appUtil.configuration.table.applicationProfiles+'');
			if (variables.get(profile))
			{	
			this.logger.info("Fetching variables associated with profile "+variables.name);
			}
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('application_profile', profile);
			gr.addQuery('catalog_item', blueprint);
			gr.addQuery('isprofilevariable', false);
			gr.orderBy('variable.order');
			gr.query();

			var answer = {};

			var i = 0;

			while(gr.next()){
				
				if(!answer[gr.service_name.name+''])
					answer[gr.service_name.name+''] = {};
				
				var categoryName = gr.category_name.name+'';
				
				if(gr.category_name.name+'' == gr.variable.name+''){
					
					if(!answer[gr.service_name.name+''][gr.category_name.name+''])
						answer[gr.service_name.name+''][gr.category_name.name+''] = {};
					
					if(bpType=="published" &amp;&amp; type=="new"){
						
						var ans = (this.getVariablePatchedValue(type+'',gr.default_value+'',gr.sys_id,gr.variable.name+'',gr.category_name.name+'',gr.category_name.question_text+''));
						this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getServiceVariableDetails.Patched Value for "+gr.variable.name+" :: "+ans);
						answer[gr.service_name.name+''][gr.category_name.name+'']['new_'+gr.sys_id+''] = (ans) ? JSON.parse(ans) : [];
						answer[gr.service_name.name+''][gr.category_name.name+'']['new_'+gr.sys_id+''].notCmplx = false;
						
						
						}else{
						answer[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''] = (gr.default_value+'') ? JSON.parse(gr.default_value+''):{};
						answer[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''].notCmplx = false;
					}
						
				}else{
					
					if(gr.is_hidden == true )
						continue;
						
						
					if(!answer[gr.service_name.name+''][gr.category_name.name+''])
						answer[gr.service_name.name+''][gr.category_name.name+''] = {};
					var catname =  (gr.category_name.name+'').substring(((gr.service_name.name+'').length)+1);
					var varname =  (gr.variable.name+'').substring(((gr.service_name.name+'').length)+1);
					var default_value = "";
					var runtime_config =  gr.runtime_config+'';
					var isdisabled = gr.isdisabled+'';
					var ans ,parsedAns;
					if(catname == "ssh_keys" &amp;&amp; bpType=="published" &amp;&amp; type=="new" ){
						var hasKey;
						var gr_ssh = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
						gr_ssh.addQuery('application_profile', profile);
						gr_ssh.addQuery('catalog_item', blueprint);
						gr_ssh.addQuery('isprofilevariable', false);
						gr_ssh.addQuery('variable.name', 'CONTAINS' , 'key_0');
						gr_ssh.orderBy('variable.order');
						gr_ssh.query();
						if(gr_ssh.next()){
							hasKey = "true";
						}
						if(hasKey != "true"){
							ans = this.getVariablePatchedValue(type+'',gr.default_value+'',gr.sys_id,gr.variable.name+'',gr.category_name.name+'',gr.category_name.question_text+'',"true");
							parsedAns = (ans) ? JSON.parse(ans) : {};
							answer[gr.service_name.name+''][gr.category_name.name+''] = parsedAns;
						}
						
					}
					if( (!gr.default_value) &amp;&amp; bpType=="published" &amp;&amp; type=="new" ){
						ans = this.getVariablePatchedValue(type+'',gr.default_value+'',gr.sys_id,gr.variable.name+'',gr.category_name.name+'',gr.category_name.question_text+'');
						parsedAns = (ans) ? JSON.parse(ans) : "";
						this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getServiceVariableDetails.Patched Value for "+gr.variable.name+" :: "+ans);
						if(parsedAns){
							default_value =  parsedAns.value+'';
							var isSupported = (default_value+''=='Cloud-init' || default_value+''=='Sysprep' || (varname+'').startsWith('key_') || (this.disabledFields.includes(varname) &amp;&amp; varname+''!='name' &amp;&amp; varname+''!='type')) ? false : true;
							//runtime_config = (parsedAns.runtime+'') ? parsedAns.runtime+'' : gr.runtime_config+'';
							runtime_config = ((default_value+'').indexOf('@@') != -1 || isSupported+''=='false') ? false : (parsedAns.runtime+'') ? parsedAns.runtime+'' : gr.runtime_config+'';
							isdisabled = ( (default_value+'').indexOf('@@') != -1 || isSupported+''=='false') ? true : (runtime_config+'' == 'true') ? false : true; // ((default_value+'').indexOf('@@') != -1 || (this.disabledFields.includes(varname) &amp;&amp; varname+''!='name' &amp;&amp; varname+''!='type')) ? true : (runtime_config+'' == 'true') ? false : true;
// 							
						}
					}
					
					/*Advanced Variable*/
					var opt = [];
					if(gr.variable.type+'' == 5 &amp;&amp; gr.isservicevariable == true){
						var optionRec = new GlideRecord("question_choice");
						optionRec.addQuery('question',gr.variable+'');
						optionRec.query();
						while(optionRec.next()){

							opt.push(optionRec.value+'');

						}
						

					}else if(gr.variable.type+'' == 21 &amp;&amp; gr.isservicevariable == true){
						var varRefRec = gr.variable.getRefRecord().reference_qual+'';
						varRefRec = varRefRec.substr(9,varRefRec.length);
						var optionRec = new GlideRecord(this.appUtil.configuration.table.dropDownTable+'');
						optionRec.addQuery('variable',varRefRec);
						optionRec.query();
						while(optionRec.next()){

							opt.push(optionRec.value+'');
						}
						

					}
// 					else if(gr.variable.type+'' == 10 || gr.variable.type+'' == 9){
// 						var dtVal = gr.default_value+'';
// 						if( gr.variable.type+'' == 9 ){
// 							var gdt = new GlideDate() ;
// 							gdt.setValue(dtVal);
// 							gr.default_value = gdt.getByFormat("yyyy-MM-dd");
// 						}

// 						else{
// 							var gdt = new GlideDateTime() ;
// 							gdt.setValue(dtVal);
// 							gr.default_value = gdt.getDate().getByFormat("yyyy-MM-dd")+' '+gdt.getTime().getByFormat("HH:mm:ss");
// 						}
						
// 					}
					/*Advanced Variable*/
					
					
					answer[gr.service_name.name+''][gr.category_name.name+''][gr.sys_id+''] = {
						'name': gr.variable.name+'',
						'question_text': gr.variable.question_text+'',
						'value': (gr.default_value+'') ? gr.default_value+'' : default_value ,
						'runtime_config': (gr.default_value+'') ? gr.runtime_config+'' : runtime_config ,
						'type': gr.variable.type+'',
						'isprofilevariable': gr.isprofilevariable+'',
						'uuid': gr.uuid+'',
						'isdisabled': (gr.default_value+'') ? gr.isdisabled+'' : isdisabled,
						
						'isSupported': gr.issupported+'',
						'isservicevariable': gr.isservicevariable+'',
						
						'notCmplx': true,
						
						'val_type'    : gr.value_type+'',
						'description' : gr.variable.help_text+'',
						'mandatory'   : gr.variable.mandatory+'',
						'regex'       : gr.field_regex+'',
						'options'     : opt,
						'data_type'   : gr.data_type+'',
						'serviceField': (gr.isprofilevariable+'' == 'false' &amp;&amp; gr.isservicevariable+''=='false') ? true : false
						
					};
				}
				i++;
			}

 			this.logger.debug("Final answer" + i + " :: "+JSON.stringify(answer));
			var returnJSON = {};
			returnJSON['service_configuration'] = answer;
			returnJSON['subnet_list'] = this.getNutanixSubnetList(project);
			return JSON.stringify(returnJSON);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getServiceVariableDetails. Error:- "+e);
		}

	},
	
	getVariablePatchedValue : function(type,value,grSysid,varname,categoryName,categoryNameText,sshFlag){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getVariablePatchedValue for variable :: "+varname+",Category Name :: "+categoryNameText+",SSh flag :: "+sshFlag);
			if(type == "new" &amp;&amp; (!value || (varname == categoryName ) || categoryNameText == "SSH Keys" )){
				var ans = {"value" : "",
						   "runtime" : false};
				var session = gs.getSession();
				var bpResponse = JSON.parse(session.getClientData('Cloned_bp_response'));
				var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				gr.addQuery("sys_id",grSysid);
				gr.query();
				if(gr.next()){
					var profileUUID = "";
					for(var i in bpResponse){
						var serviceJSON = bpResponse[i];
						if(serviceJSON.name.toLowerCase()+'' == gr.service_name.name+''){
							
							for(var k in serviceJSON.profile){
								var profile = serviceJSON.profile[k];
								if(profile.name == gr.application_profile.name+''){
									profileUUID = profile.uuid+'';
									break;
								}
							}
		
							if( serviceJSON.substrate[profileUUID] ){
								this.logger.debug("Patching :: Found profile :: "+gr.application_profile.name+'');
									var substrateJSON = serviceJSON.substrate[profileUUID];
									var categoryJSON = "";
									var insideCategoryJSON = "";
									switch(gr.category_name.question_text+''){

										case "Connection"          :  categoryJSON = "readiness_probe";
																      break;

										case "VM Configuration"    : //categoryJSON = "create_spec";
																     //break;

										case "Storage"             : //categoryJSON = "create_spec";
														             //break;
										case "Network Adapters"    : 
										
										case "Network Profiles"    :
										
										case "OS Profile"          : 
										
										case "OS Profile Script"   : 
										
										case "Management Optional" :
										
										case "Storage Profile"     : 
										
										case "Disks"               : 
										
										case "Networking"          : 
										
										case "Categories"          : 
										
										case "API ACCESS"          :
											
										case "Blank Disks"         :
											
										case "Images"              : 
											
										case "SSH Keys"            :
										
										case "Storage Profile Data Disks"     : 
										
										case "Guest Customization" :  
										
										case "VDisks"              :  categoryJSON = "create_spec";
														              break;
											
									}
									var runtime = "";var field;var fieldName;
									var editables = substrateJSON.editables[categoryJSON];
									for (var l in substrateJSON){
										
										if(l+'' == categoryJSON){
											
											//this.logger.debug("Patching :: Category :: "+categoryJSON);
											
											if(categoryJSON == "create_spec"){
												fieldName = varname.substring(serviceJSON.name.length+1);
// 												if((categoryName) &amp;&amp; categoryName == "categories"){
// 													var ansCat = {};var q=1;
// 													var edit = (editables.categories) ? editables.categories : "false";
// 													var disable = (edit == "true") ?  "false" : "true";
// 													for( var b in substrateJSON[l].categories ){
														
// 														ansCat['category_'+q] =	{
// 																				  "name":  serviceJSON.name+'_'+b,
// 																				  "question_text": b+'',
// 																				  "value": substrateJSON[l].categories[b],
// 																				  "runtime_config": edit,
// 																				  "type": "6",
// 																				  "isprofilevariable": "false",
// 																				  "uuid": "",
// 																				  "isdisabled": disable,
// 																				  "notCmplx": true
// 																				};
// 													}
													
// 													return JSON.stringify(ansCat);
// 												}
												if(categoryNameText == "VM Configuration"){
													for(var b in substrateJSON[l]){
														if( b == fieldName ){
															ans.value = (substrateJSON[l][b]) ? substrateJSON[l][b] : '' ;
															if(fieldName != "template" &amp;&amp; fieldName != "datastore" &amp;&amp; fieldName != "host" ) ans.runtime = (editables[b]) ? (editables[b]) : false;
															return JSON.stringify(ans);
														}
													}
 												}
												
												for (var s in substrateJSON[l].resources){
													var varServiceName = serviceJSON.name.toLowerCase()+'_'+s+'';
													if(categoryNameText == "SSH Keys" &amp;&amp; sshFlag == "true" &amp;&amp; s == "sshKeys"){
														
														var ansSSH = {};var q=0;
														var edit =  "false";
														var disable = "true";
														for( var b in substrateJSON[l].resources.sshKeys ){
															for(var w in editables.resources.sshKeys){
																if( b == w )
																	edit = editables.resources.sshKeys[w] +'';
															}
															ansSSH['new_ssh_key_'+q] =	{
																					  "name":  serviceJSON.name+'_key_'+b,
																					  "question_text": 'key '+b+'',
																					  "value": substrateJSON[l].resources.sshKeys[b],
																					  "runtime_config": edit,
																					  "type": "6",
																					  "isprofilevariable": "false",
																					  "uuid": "",
																					  "isdisabled": (edit == "true") ? "false" : "true",
																					  "isSupported" : "true",
																					  "isservicevariable" : "false" ,
																					  "notCmplx": true
																					};
															q++;

														}

													return JSON.stringify(ansSSH);
												}else if(categoryNameText == "Management Optional" &amp;&amp; s == "guestCustomization"){
														if(fieldName == "startup_script"){
															ans.value = (substrateJSON[l].resources[s].startupScript) ? substrateJSON[l].resources[s].startupScript : '';
															ans.runtime = (editables.resources.guestCustomization &amp;&amp; editables.resources.guestCustomization.startupScript) ? editables.resources.guestCustomization.startupScript : false;
															return JSON.stringify(ans);
														}else if(fieldName == "security_groups"){
															var groups = (substrateJSON[l].resources.tags.items &amp;&amp; substrateJSON[l].resources.tags.items[0])? substrateJSON[l].resources.tags.items[0]:'';
															for(var p=1; p&lt;substrateJSON[l].resources.tags.items.length; p++)
																groups = groups + ',' + substrateJSON[l].resources.tags.items[i];
															ans.value = groups;
															ans.runtime = (editables.resources.tags &amp;&amp; editables.resources.tags.items) ? editables.resources.tags.items : false;
															return JSON.stringify(ans);
														} 
														
													}else if(categoryNameText == "API ACCESS" &amp;&amp; s == "serviceAccounts"){
														ans.value =  (substrateJSON[l].resources[s][0].email) ? substrateJSON[l].resources[s][0].email : "";
														ans.runtime = (editables.resources.serviceAccounts[0] &amp;&amp; editables.resources.serviceAccounts[0].email) ? editables.resources.serviceAccounts[0].email : false;
														return JSON.stringify(ans);
													}else if(categoryNameText == "Disks" &amp;&amp; s == "disks"){
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															for(var x in editables.resources.disks)
															if( x == j){
																substrateJSON[l].resources[s][j].runtime = (editables.resources.disks[x]) ? (editables.resources.disks[x]) : {} ;
																substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if(categoryNameText == "Networking" &amp;&amp; s == "networkInterfaces"){
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															for(var x in editables.resources.networkInterfaces)
															if( x == j){
																substrateJSON[l].resources[s][j].runtime = (editables.resources.networkInterfaces[x]) ? (editables.resources.networkInterfaces[x]) : {} ;
																substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if(categoryNameText == "Blank Disks" &amp;&amp; s == "blankDisks"){
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															for(var x in editables.resources.blankDisks)
															if( x == j){
																substrateJSON[l].resources[s][j].runtime = (editables.resources.blankDisks[x]) ? editables.resources.blankDisks[x] : {};
																substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if(categoryNameText == "Images"  &amp;&amp; s == "disk_list"){ 
														var bootIndex = (substrateJSON[l].resources.boot_config &amp;&amp; substrateJSON[l].resources.boot_config.boot_device &amp;&amp; substrateJSON[l].resources.boot_config.boot_device.disk_address &amp;&amp; substrateJSON[l].resources.boot_config.boot_device.disk_address.device_index+'') ? substrateJSON[l].resources.boot_config.boot_device.disk_address.device_index : -1;
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															substrateJSON[l].resources[s][j].bootable = (bootIndex == j) ? true : false;
															for(var x in editables.resources.disk_list)
															if( x == j){
																substrateJSON[l].resources[s][j].runtime = (editables.resources.disk_list[x]) ? editables.resources.disk_list[x] : {};
																substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime ;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if(categoryNameText == "Storage Profile Data Disks" &amp;&amp; s == "storage_profile"){
														for(var j in substrateJSON[l].resources[s].data_disk_list){
															substrateJSON[l].resources[s].data_disk_list[j].runtime = {};
															substrateJSON[l].resources[s].data_disk_list[j].disabled = {};
															for(var x in editables.resources.storage_profile.data_disk_list)
															if( x == j ){
																substrateJSON[l].resources[s].data_disk_list[j].runtime = (editables.resources.storage_profile &amp;&amp; editables.resources.storage_profile.data_disk_list[x]) ? editables.resources.storage_profile.data_disk_list[x] : {};
																substrateJSON[l].resources[s].data_disk_list[j].disabled = substrateJSON[l].resources[s].data_disk_list[j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s].data_disk_list);
													}else if(categoryNameText == "OS Profile" &amp;&amp; s == "os_profile" ){
														for(var j in substrateJSON[l].resources[s].secrets){
															substrateJSON[l].resources[s].secrets[j].runtime = {};
															substrateJSON[l].resources[s].secrets[j].disabled = {};
															for(var x in editables.resources.os_profile.secrets)
															if(x == j){
																substrateJSON[l].resources[s].secrets[j].runtime = (editables.resources.os_profile &amp;&amp; editables.resources.os_profile.secrets[x]) ? editables.resources.os_profile.secrets[x] : {};
																substrateJSON[l].resources[s].secrets[j].disabled = substrateJSON[l].resources[s].secrets[j].runtime ;
																
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s].secrets);
													}else if(categoryNameText == "OS Profile Script" &amp;&amp; s == "os_profile" ){
														
														ans.value = (substrateJSON[l].resources[s].linux_config &amp;&amp; substrateJSON[l].resources[s].linux_config.custom_data+'') ? substrateJSON[l].resources[s].linux_config.custom_data+'' : "";
														ans.runtime = (editables.resources.os_profile &amp;&amp; editables.resources.os_profile.linux_config &amp;&amp; editables.resources.os_profile.linux_config.custom_data) ? editables.resources.os_profile.linux_config.custom_data : false ;
														return JSON.stringify(ans);
														
													}else if(categoryNameText == "Guest Customization" &amp;&amp; s=="guest_customization"){
														varname = varname.substring(serviceJSON.name.length+1);
														for(var j in substrateJSON[l].resources[s].linux_data){
															if(varname == "dns_search_path" &amp;&amp; j == varname ){
																ans.value = (substrateJSON[l].resources[s].linux_data.dns_search_path[0]+'') ? substrateJSON[l].resources[s].guest_customization.linux_data.dns_search_path[0]+'' : "";
																ans.runtime = (editables.resources.guest_customization &amp;&amp; editables.resources.guest_customization.linux_data &amp;&amp; editables.resources.guest_customization.linux_data.dns_search_path[0]) ? editables.resources.guest_customization.linux_data.dns_search_path[0] : false ;
																return JSON.stringify(ans);
															}else if(j == varname){
																ans.value = substrateJSON[l].resources[s].linux_data[j]+'';
																for(var x in editables.resources.guest_customization.linux_data){
																	if(x == varname ){
																		ans.runtime = editables.resources.guest_customization.linux_data[x]+'';
																		return JSON.stringify(ans);
																	}
																}
															}
														}
														if(fieldName == "script"){
															
															ans.value = (substrateJSON[l].resources[s].cloud_init &amp;&amp; substrateJSON[l].resources[s].cloud_init.user_data ) ? substrateJSON[l].resources[s].cloud_init.user_data : ((substrateJSON[l].resources[s].sysprep &amp;&amp; substrateJSON[l].resources[s].sysprep.unattend_xml ) ? substrateJSON[l].resources[s].sysprep.unattend_xml : (substrateJSON[l].resources[s].cloud_init) ? substrateJSON[l].resources[s].cloud_init : '') ;
															ans.runtime = (editables.resources.guest_customization &amp;&amp; editables.resources.guest_customization.cloud_init) ? (editables.resources.guest_customization.cloud_init) : false;
															return (JSON.stringify(ans));
														}else if(fieldName == "install_type"){
															ans.value = (substrateJSON[l].resources[s].sysprep &amp;&amp; substrateJSON[l].resources[s].sysprep.install_type ) ? substrateJSON[l].resources[s].sysprep.install_type : "";
															ans.runtime = false;
															return (JSON.stringify(ans));
														}else if(fieldName == "type"){
															ans.value = (substrateJSON[l].resources[s].sysprep) ? 'Sysprep':'Cloud-init';
															ans.runtime = false;
															return (JSON.stringify(ans));
														}
													}else if( varname == (serviceJSON.name.toLowerCase()+'_'+'storage') &amp;&amp; s == "block_device_map") {
														
														substrateJSON[l].resources[s].root_disk.runtime = "";
														substrateJSON[l].resources[s].root_disk.disabled = "";
														substrateJSON[l].resources[s].root_disk.runtime = (editables.resources.block_device_map.root_disk.size_gb) ? editables.resources.block_device_map.root_disk.size_gb+'' : 'false';
														substrateJSON[l].resources[s].root_disk.disabled = substrateJSON[l].resources[s].root_disk.runtime;
														for(var j in substrateJSON[l].resources[s].data_disk_list){
															
															substrateJSON[l].resources[s].data_disk_list[j].runtime = 'false';
															substrateJSON[l].resources[s].data_disk_list[j].disabled = 'false';
															if(editables  &amp;&amp; editables.resources &amp;&amp;  editables.resources.block_device_map &amp;&amp; editables.resources.block_device_map.data_disk_list[j] &amp;&amp; editables.resources.block_device_map.data_disk_list[j].size_gb){
																var runtime_data = editables.resources.block_device_map.data_disk_list[j].size_gb;
																substrateJSON[l].resources[s].data_disk_list[j].runtime = (runtime_data) ? runtime_data+'':'false';
																substrateJSON[l].resources[s].data_disk_list[j].disabled = substrateJSON[l].resources[s].data_disk_list[j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if( varname == (serviceJSON.name.toLowerCase()+'_vdisks') &amp;&amp; s == "disk_list") {
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															for(var x in editables.resources.disk_list){
																	if(x == j ){
																		substrateJSON[l].resources[s][j].runtime = editables.resources.disk_list[j];
																		substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime;
																	}
																}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if( varname == (serviceJSON.name.toLowerCase()+'_network_adapters') &amp;&amp; s == "nic_list") {
														for(var j in substrateJSON[l].resources[s]){
															substrateJSON[l].resources[s][j].runtime = {};
															substrateJSON[l].resources[s][j].disabled = {};
															for(var x in editables.resources.nic_list )
															if( x == j ){
																substrateJSON[l].resources[s][j].runtime = (editables.resources.nic_list[j]) ? (editables.resources.nic_list[j]) : {};
																substrateJSON[l].resources[s][j].disabled = substrateJSON[l].resources[s][j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s]);
													}else if( categoryNameText == "Storage Profile" &amp;&amp; s== "storage_profile"){
														for (var j in substrateJSON[l].resources[s].image_details){
															varServiceName = serviceJSON.name.toLowerCase()+'_'+j;
															if(varname == varServiceName) {
																ans.value = (substrateJSON[l].resources[s].image_details[j]) ? (substrateJSON[l].resources[s].image_details[j]+'') : "";
																ans.runtime = (editables.resources.storage_profile.image_details &amp;&amp; editables.resources.storage_profile.image_details[j]) ? (editables.resources.storage_profile.image_details[j]) : false;
																if( (varname.indexOf("use_custom_image") != -1) &amp;&amp; !ans.value ) ans.value = "false";
																return JSON.stringify(ans);
															}
																
														}
														for (var j in substrateJSON[l].resources[s].os_disk_details){
															varServiceName = serviceJSON.name.toLowerCase()+'_'+substrateJSON[l].resources[s].image_details[j];
															if(varname == varServiceName){
																ans.value = (substrateJSON[l].resources[s].os_disk_details[j]) ? (substrateJSON[l].resources[s].os_disk_details[j]) : "";
																ans.runtime = (editables.resources.storage_profile.os_disk_details[j]) ? (editables.resources.storage_profile.os_disk_details[j]) : false;
																return JSON.stringify(ans);
															}
														}
														if(varname.indexOf("use_managed_disks") != -1 ){
															ans.value = (substrateJSON[l].resources[s].is_managed) ? (substrateJSON[l].resources[s].is_managed) : "";
															ans.runtime = (editables.resources.storage_profile.is_managed) ? (editables.resources.storage_profile.is_managed) : false;
															return JSON.stringify(ans);
														}
													}else if(categoryNameText == "Network Profiles" &amp;&amp; s== "nw_profile"){
														for(var j in substrateJSON[l].resources[s].nic_list){
															substrateJSON[l].resources[s].nic_list[j].runtime = {};
															substrateJSON[l].resources[s].nic_list[j].disabled = {};
															for(var x in editables.resources.nw_profile.nic_list)
															if( x == j ){
																substrateJSON[l].resources[s].nic_list[j].runtime = (editables.resources.nw_profile.nic_list[j]) ? editables.resources.nw_profile.nic_list[j] : {};
																substrateJSON[l].resources[s].nic_list[j].disabled = substrateJSON[l].resources[s].nic_list[j].runtime;
															}
														}
														return JSON.stringify(substrateJSON[l].resources[s].nic_list);
													}else if(varname+'' == varServiceName+''){
														field = substrateJSON[l].resources[s];
														if(!(field.constructor == Object || field.constructor == Array)){
															ans.value = substrateJSON[l].resources[s]+'';
															ans.runtime = this.checkEditable(editables,varname,categoryJSON,serviceJSON.name.toLowerCase()+'_')+'';
															return JSON.stringify(ans);
														}else if(s == "security_group_list"){
															var sec = field[0].security_group_id+'';
															for (var m=1;m&lt;field.length;m++){
																sec += "," + field[m].security_group_id+'';
															}
															ans.value = sec+'';
															ans.runtime = this.checkEditable(editables,varname,categoryJSON,serviceJSON.name.toLowerCase()+'_')+'';
															return JSON.stringify(ans);
														}
													}else if(categoryNameText == "VM Configuration" &amp;&amp; s == "hw_profile" &amp;&amp; varname.indexOf("hardware_profile") != -1){
														ans.value = (substrateJSON[l].resources[s].vm_size) ? substrateJSON[l].resources[s].vm_size : '';
														ans.runtime = (editables.resources.hw_profile.vm_size) ? (editables.resources.hw_profile.vm_size) : false;
														return JSON.stringify(ans);
													}else if(categoryNameText == "SSH Keys" &amp;&amp; fieldName == "block_project_wide_ssh_key" &amp;&amp; s == "metadata" &amp;&amp; sshFlag != "true"){
														var blockValue = false;
														for(var data in substrateJSON[l].resources[s]){
															if(substrateJSON[l].resources[s][data].key+'' == 'block-project-ssh-keys'){
																blockValue = substrateJSON[l].resources[s][data].value+'';
																ans.runtime = (editables.resources.metadata.items[data]) ? (editables.resources.metadata.items[data]) : false;
															}
														}
														ans.value = blockValue;
														return JSON.stringify(ans);
													}
												}
											}else if(categoryJSON == "readiness_probe"){
												for (var s in substrateJSON[l]){
													var varServiceName = serviceJSON.name.toLowerCase()+'_'+s;
													if(varname+'' == varServiceName+''){
														ans.value = substrateJSON[l][s]+'';
														if(varname.indexOf("disable_readiness_probe") != -1 ) 
															ans.value = (substrateJSON[l][s] == 'true') ? false : true;
														ans.runtime = this.checkEditable(editables,varname,categoryJSON,serviceJSON.name.toLowerCase()+'_')+'';
														return JSON.stringify(ans);
													}
												}
											}
										}
									}
								}
							
						}
					}
				}
			}
		}
		catch (e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getVariablePatchedValue. Error:- "+e);
		}
	},
	//Ptaching of MPI
	mpiPatching: function(project,blueprint){
		var logger = new Nutanix_Calm_Logger();
		var utils = new Nutanix_Calm_Utils();
		var reqUtils = new  Nutanix_RequestUtil();
		var blueprintTemplate = "";
		var catVariableBody = {};
		var bpVariablesJSON = {};
		var parseResp = {};

		try{
			logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.mpiPatching.");

			var bp =new GlideRecord('x_nuta2_nutanix_ca_nutanix_marketplaceitems');
			bp.addQuery('sys_id', blueprint);
			bp.query();

			var mpi_uuid =  (bp.next()) ? bp.uuid : "";

			var response = utils.makeCalmApiCall('GET', '/calm_marketplace_items/'+mpi_uuid);
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {
			
			response = JSON.parse(response.getBody());

			var environment_uuid = ' ';
			var project_uuid = '';

			var projectRecord =new GlideRecord('x_nuta2_nutanix_ca_nutanix_project');
			projectRecord.addQuery('uuid', project);
			projectRecord.query();

			if(projectRecord.next()){
				project_uuid = projectRecord.uuid+'';
				environment_uuid = projectRecord.environment_uuid+'';
			}
			
			var name = bp.name+'';
			var app_bp_name = ((name + GlideSecureRandomUtil.getSecureRandomString(8) + mpi_uuid).replaceAll('-',' ').trim().replaceAll(' ','_')).substring(0,64);
			var tmpbody = {
							"status": response.status.resources.app_blueprint_template.status,
							"spec": response.spec.resources.app_blueprint_template.spec
						  };
			
			var body= {
						"api_version": "3.0", //response.api_version,
						"metadata": {
							"kind": "blueprint",
							"project_reference": {
								"kind": "project",
								"uuid": project_uuid+''
							},
							"categories" : response.metadata.categories //changes
						},
						"spec": {
							"description":  response.spec.resources.app_blueprint_template.spec.description, //response.spec.description,
							"app_blueprint_name": app_bp_name+'',
							"source_marketplace_version": response.spec.resources.version,//"1.0.0", //changes
							"source_marketplace_name":name+'',
							"resources": response.spec.resources.app_blueprint_template.spec.resources

							//reqUtils.makeResourceBody(tmpbody, tmpbody.status.resources, current)
							//response.spec.resources.app_blueprint_template.spec.resources
						}
					};
			if(environment_uuid+'')
				body.spec.environment_uuid = environment_uuid+'';
			//gs.error("MPI payload send: "+JSON.stringify(body));
			
			var response = utils.makeCalmApiCall('POST', '/blueprints/marketplace_launch', JSON.stringify(body));
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201') {
				
				var session = gs.getSession();
				session.putClientData('non_filtered_cloned_bp_response', response.getBody());
				
				parseResp = JSON.parse(response.getBody());
				blueprintTemplate = (parseResp.status.resources) ? parseResp.status.resources : "";
				var clonedBpUuid = parseResp.metadata.uuid;
				
				//gs.error("Patching : "+response.getBody());

			} else {
				logger.error("API call to '/blueprints/marketplace_launch' failed with name : "+app_bp_name+":-"+response.getBody());
				//gs.error("Errorr :: "+(JSON.parseresponse.getBody()).message_list[0].message);
				return  JSON.stringify({ "errMess" : JSON.parse(response.getBody()).message_list[0].message , "status" : false });
			}
			
			var bpVariables = new Nutanix_CreateCatalogVariables();
			if(bp.template_type == "Single Vm"){
	
					var service_body = [{
						"uuid" : "singleVm-default-service-uuid",
						"name" : "single_vm_configuration"
					}];

					catVariableBody={
						"substrate_definition_list": (blueprintTemplate.substrate_definition_list) ? blueprintTemplate.substrate_definition_list : "" ,
						"app_profile_list": (blueprintTemplate.app_profile_list) ? blueprintTemplate.app_profile_list : "",
						"service_definition_list": service_body,
						"package_definition_list": (blueprintTemplate.package_definition_list) ? blueprintTemplate.package_definition_list : ""
					};
					bpVariablesJSON = bpVariables._filterJSONDatatoService(catVariableBody);
				}else if(blueprintTemplate.package_definition_list &amp;&amp; blueprintTemplate.substrate_definition_list &amp;&amp; blueprintTemplate.app_profile_list &amp;&amp; blueprintTemplate.service_definition_list ) {
					catVariableBody={
						"substrate_definition_list": (blueprintTemplate.substrate_definition_list) ? blueprintTemplate.substrate_definition_list : "" ,
						"app_profile_list": (blueprintTemplate.app_profile_list) ? blueprintTemplate.app_profile_list : "",
						"service_definition_list": (blueprintTemplate.service_definition_list) ? blueprintTemplate.service_definition_list : "",
						"package_definition_list": (blueprintTemplate.package_definition_list) ? blueprintTemplate.package_definition_list : ""
					};
					
					bpVariablesJSON = bpVariables._filterJSONDatatoService(catVariableBody);
			}
			
			bpVariablesJSON.uuid = parseResp.metadata.uuid+'';
			bpVariablesJSON.name = parseResp.metadata.name+'';
			
			var session = gs.getSession();
			session.putClientData('Cloned_bp_response', JSON.stringify(bpVariablesJSON));
			var clientData = session.getClientData('Cloned_bp_response');
			logger.debug("MPI cloned Blueprint response ::"+clientData);
			return  JSON.stringify({"errMess" : "Successfull" , "status" : true }); //JSON.parse(clientData).uuid+'';
		}
			else{
				logger.error("API call to '/calm_marketplace_items/uuid' failed: "+response.getBody());
				var result = { "errMess" : (response.getBody()).message_list[0].message , "status" : false };
				return JSON.stringify(result);
			}
		}catch(e){
			logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.mpiPatching. Error:- "+e);
			return "false";
		}
	},
	
 
	fetchBlueprints: function( projectUUID, blueprintType ){
		
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.fetchBlueprints.");

			var gr = new GlideRecord(this.appUtil.configuration.table.catalogProjectRelation+'');
			gr.addQuery('projects.uuid', projectUUID);

			if(blueprintType == 'unpublished')
				gr.addQuery('catalog_item.category', gs.getProperty('x_nuta2_nutanix_ca.nutanix_unpublishedBP_sysId'));
			else
				gr.addQuery('catalog_item.category', gs.getProperty('x_nuta2_nutanix_ca.nutanix_category_sysId'));

			gr.orderBy('catalog_item.name');
			gr.query();

			var ans = {};
			var i = 0;

			while(gr.next()){
				if( (blueprintType == 'unpublished' &amp;&amp; gr.catalog_item.state+'' == 'ACTIVE') || (blueprintType != 'unpublished' &amp;&amp; gr.catalog_item.state+'' == 'active')){
					ans[i] = {
						'sys_id': gr.catalog_item+'',
						'name': gr.catalog_item.name+''+" "+gr.version+''
					};
					i++;
				}
			}

			this.logger.debug("Fetched " + i + " blueprints.");

			return JSON.stringify(ans);

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.fetchBlueprints. Error:- "+e);
		}

	},

	fetchApplicationProfiles: function( blueprintSysId ){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.fetchApplicationProfiles.");

			var blueprint = new GlideRecord(this.appUtil.configuration.table.Blueprint+'');
			if (blueprint.get(blueprintSysId))
			{	
			this.logger.info("Fetching profiles associated with blueprint "+blueprint.name);
			}
			var gr = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+'');
			gr.addQuery('catalog_item', blueprintSysId);
			gr.addQuery('state', 'active');
			//gr.addEncodedQuery('providersNOT LIKEaws^providersNOT LIKEazure^providersNOT LIKEgcp');
			gr.orderBy('application_profile.name');
			gr.query();

			var ans = {};
			var i = 0;
			while(gr.next()){
				ans[i] = {
					'sys_id': gr.application_profile+'',
					'name': gr.application_profile.name+''
				};
				i++;
			}

			this.logger.debug("Fetched " + i + " profiles.");

			return JSON.stringify(ans);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.fetchApplicationProfiles. Error:- "+e);
		}
	},

	fetchProviderIcons: function( catSysId ){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.fetchProviderIcons.");

			var grBp = new GlideRecord('x_nuta2_nutanix_ca_nutanix_catalog_items');
			if (grBp.get(catSysId))
			{	
			var bpSysId = grBp.blueprint_name;
			}
			if(bpSysId!='') {
				var gr = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+'');
				gr.addQuery('catalog_item', bpSysId);
				gr.addQuery('state', 'active');
				gr.orderBy('application_profile.name');
				gr.query();

				var entities = [];
				var i = 0;
				while(gr.next()){
					entities[i] = {
						'profile': gr.application_profile.name+'',
						'providers': gr.providers+''
					};
					i++;
				}

				this.logger.debug("Fetched " + i + " profiles.");

				return JSON.stringify(entities);
			}
			else {
				var grReq = new GlideRecord('sc_req_item');
				grReq.addQuery('sys_id',catSysId);
				grReq.query();
				if(grReq.next()) {
					var grBp = new GlideRecord('x_nuta2_nutanix_ca_nutanix_catalog_items');
					if (grBp.get(grReq.cat_item))
					{	
					var bpSysId = grBp.blueprint_name;
					}
					if(bpSysId!='') {
						var gr = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+'');
						gr.addQuery('catalog_item', bpSysId);
						gr.orderBy('application_profile.name');
						gr.query();

						var entities = [];
						var i = 0;
						while(gr.next()){
							entities[i] = {
								'profile': gr.application_profile.name+'',
								'providers': gr.providers+''
							};
							i++;
						}

						this.logger.debug("Fetched " + i + " profiles.");

						return JSON.stringify(entities);
					}
				}
			}
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.fetchProviderIcons. Error:- "+e);
		}
	},

	getProfileVariableDetails: function(project, blueprint, profile){

		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getProfileVariableDetails.");

			var variables = new GlideRecord(this.appUtil.configuration.table.applicationProfiles+'');
			if (variables.get(profile))
			{	
			this.logger.info("Fetching variables associated with profile "+variables.name);
			}

			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('application_profile', profile);
			gr.addQuery('catalog_item', blueprint);
			gr.addQuery('isprofilevariable', true);
			gr.orderBy('variable.name');
			gr.query();

			var answer = {};
			var i = 0;
			while(gr.next()){
				
				if(gr.is_hidden == true)
					continue;
				
				var opt = [];
				if(gr.variable.type+'' == 5){
					var optionRec = new GlideRecord("question_choice");
					optionRec.addQuery('question',gr.variable+'');
					optionRec.query();
					while(optionRec.next()){
						
						opt.push(optionRec.value+'');
						
					}
					
				}else if(gr.variable.type+'' == 21){
					var varRefRec = gr.variable.getRefRecord().reference_qual+''
					varRefRec = varRefRec.substr(9,varRefRec.length);
					var optionRec = new GlideRecord(this.appUtil.configuration.table.dropDownTable+'');
					optionRec.addQuery('variable',varRefRec);
					optionRec.query();
					while(optionRec.next()){
						opt.push(optionRec.value+'');
					}
					
				}
// 				else if(gr.variable.type+'' == 10 || gr.variable.type+'' == 9){
// 					var dtVal = gr.default_value+'';
// 					if( gr.variable.type+'' == 9 ){
// 						var gdt = new GlideDate() ;
// 						gdt.setValue(dtVal);
// 						gr.default_value = gdt.getByFormat("yyyy-MM-dd");
// 					}
					
// 					else{
// 						var gdt = new GlideDateTime() ;
// 						gdt.setValue(dtVal);
// 						gr.default_value = gdt.getDate().getByFormat("yyyy-MM-dd")+' '+gdt.getTime().getByFormat("HH:mm:ss");
// 					}
						
// 				}
				
				answer[gr.sys_id+''] = {
					'name': gr.variable.name+'',
					'question_text': gr.variable.question_text+'',
					'value': gr.default_value+'',
					'runtime_config': gr.runtime_config+'',
					'type': gr.variable.type+'',
					'isprofilevariable': gr.isprofilevariable+'',
					'uuid': gr.uuid+'',
					'isdisabled': gr.isdisabled+'',
					"val_type": gr.value_type+'',
					"description": gr.variable.help_text+'',
					"mandatory": gr.variable.mandatory+'',
					"regex": gr.field_regex+'',
					"options": opt,
					"data_type" : gr.data_type+'',
					"uuid" : gr.uuid+''
				};
				i++;
			}

			this.logger.debug("Fetched " + i + " variables.");

			return JSON.stringify(answer);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getProfileVariableDetails. Error:- "+e);
		}

	},

	
	
	checkEditable :  function(editables, varname,categoryJSON,serviceJSON){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.checkEditable.");
			if(categoryJSON == "create_spec"){
				
				for(var i in editables.resources){
					var varServiceName = serviceJSON+i;
					if(varname == varServiceName ){
						return editables.resources[i]+'';
					}
				}
				
			}else if(categoryJSON == "readiness_probe"){
				for(var i in editables){
					var varServiceName = serviceJSON+i;
					if(varname == varServiceName ){
						return editables[i]+'';
					}
				}
			}
			
		}
		catch(e){
			this.logger.error("Inside Nutanix_FetchConfigureSettingDropdown.checkEditable. "+e);
		}
		
	},
	
	getCrendentialsDetails: function(project, blueprint, profile){

		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getCrendentialsDetails.");

			var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
			gr.addQuery('catalog_item', blueprint);
			gr.orderBy('name');
			gr.query();

			var answer = {};
			var i = 0;
			while(gr.next()){
				answer[gr.name+''] = {};

				answer[gr.name+''].credential_name = {
					"name": 'credential_name',
					"question_text": 'Credential Name',
					"value": gr.name+''
				};

				answer[gr.name+''].username = {
					"name": 'username',
					"question_text": 'Username',
					"value": gr.username+'',
					"runtime_config": gr.username_editable+''
				};

				answer[gr.name+''].secret_type = {
					"name": 'secret_type',
					"question_text": 'Secret Type',
					"value": gr.type+''
				};

				if(gr.type+'' == 'KEY'){
					answer[gr.name+''].ssh_private_key = {
						"name": 'ssh_private_key',
						"question_text": 'SSH Private Key',
						"value": gr.ssh_private_key+'',
						"runtime_config": gr.secret_editable+''
					};

					answer[gr.name+''].passphrase = {
						"name": 'passphrase',
						"question_text": 'Passphrase',
						"value": gr.passphrase+'',
						"runtime_config": gr.passphrase_editable+''
					};
				}else{
					answer[gr.name+''].password = {
						"name": 'password',
						"question_text": 'Password',
						"value": gr.password+'',
						"runtime_config": gr.secret_editable+''
					};
				}

				answer[gr.name+''].uuid = gr.uuid+'';
				answer[gr.name+''].description = gr.description+'';
				answer[gr.name+''].is_default = gr.is_default+'';
				answer[gr.name+''].is_secret_modified = gr.is_secret_modified+'';
				answer[gr.name+''].name = gr.name+'';
				answer[gr.name+''].state = gr.state+'';

				answer[gr.name+''].username_isdisabled = gr.username_isdisabled+'';
				answer[gr.name+''].secret_isdisabled = gr.secret_isdisabled+'';
				answer[gr.name+''].ssh_private_key_isdisabled = gr.ssh_private_key_isdisabled+'';
				answer[gr.name+''].passphrase_isdisabled = gr.passphrase_isdisabled+'';

				answer[gr.name+''].credential_reference = {
					"value": gr.credential_reference+'',
					"label": gr.credential_reference.name+''
				};

				answer[gr.name+''].runtime = gr.runtime+'';

				i++;
			}

			this.logger.debug("Fetched " + i + " credentials.");

			return JSON.stringify(answer);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getCrendentialsDetails. Error:- "+e);
		}

	},

	/*fetchEnvironmentCredentials: function( credSysId ){
												try{
													this.logger.debug("Inside x_nuta2_nutanix_ca_nutanix_runtime_configuration.fetchEnvironmentCredentials.");

													var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
													gr.get(credSysId);

													var answer = {};
														var i = 0;

														if(gr){
															answer[gr.name+''] = {};

																answer[gr.name+''].credential_name = {
																	"name": 'credential_name',
																	"question_text": 'Credential Name',
																	"value": gr.name+''
																};

																answer[gr.name+''].username = {
																	"name": 'username',
																	"question_text": 'Username',
																	"value": gr.username+'',
																	"runtime_config": gr.username_editable+''
																};

																answer[gr.name+''].secret_type = {
																	"name": 'secret_type',
																	"question_text": 'Secret Type',
																	"value": gr.type+''
																};

																if(gr.type+'' == 'KEY'){
																	answer[gr.name+''].ssh_private_key = {
																		"name": 'ssh_private_key',
																		"question_text": 'SSH Private Key',
																		"value": gr.ssh_private_key+'',
																		"runtime_config": gr.ssh_private_key_editable+''
																	};

																	if(gr.passphrase+'')
																		answer[gr.name+''].passphrase = {
																		"name": 'passphrase',
																		"question_text": 'Passphrase',
																		"value": gr.passphrase+'',
																		"runtime_config": gr.passphrase_editable+''
																	};
																}else{
																	answer[gr.name+''].password = {
																		"name": 'password',
																		"question_text": 'Password',
																		"value": gr.password+'',
																		"runtime_config": gr.secret_editable+''
																	};
																}

																answer[gr.name+''].uuid = gr.uuid+'';
																answer[gr.name+''].description = gr.description+'';
																answer[gr.name+''].is_default = gr.is_default+'';
																answer[gr.name+''].is_secret_modified = gr.is_secret_modified+'';
																answer[gr.name+''].name = gr.name+'';
																answer[gr.name+''].state = gr.state+'';

																answer[gr.name+''].environment = gr.environment+'';
																answer[gr.name+''].project = gr.project+'';

																answer[gr.name+''].username_isdisabled = gr.username_isdisabled+'';
																answer[gr.name+''].secret_isdisabled = gr.secret_isdisabled+'';
																answer[gr.name+''].ssh_private_key_isdisabled = gr.ssh_private_key_isdisabled+'';
																answer[gr.name+''].passphrase_isdisabled = gr.passphrase_isdisabled+'';

																i++;
															}

															this.logger.debug("Fetched " + i + " credentials.");

															return JSON.stringify(answer);

														}catch(e){
															this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.fetchEnvironmentCredentials. Error:- "+e);
														}

													},*/

	mappedCredentials : function( projectUUID ){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.mappedCredentials.");
			var arr = [];
			var gr = new GlideRecord(this.appUtil.configuration.table.Credentials+'');
			gr.addEncodedQuery('project.uuid='+projectUUID+'^catalog_itemISEMPTY');
			gr.query();
			while(gr.next()){
				arr.push({
					'label' : gr.name+'',
					'value' : gr.sys_id+'',
					'type'  : gr.type+'',
					'username'  : gr.username+''
				});
			}

			return JSON.stringify(arr);
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.mappedCredentials. Error:- "+e);
		}
	},

	getCatalogInfo: function( sysId ){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getCatalogInfo.");

			var catalogItem = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			catalogItem.addQuery('item_name', sysId);
			//catalogItem.get(sysId);
			//this.logger.info("Fetching Catalog Details for "+blueprint.name);
			catalogItem.query();

			if(catalogItem.next()){
				var rtn = {
					"itemName": catalogItem.item_name.name+'',
					"description": catalogItem.item_name.getRefRecord().description_markdown+'',
					"usersName": catalogItem.user_criteria.user.getDisplayValue()+'',
					"groupsName": catalogItem.user_criteria.group.getDisplayValue()+'',
					"usersSysId": catalogItem.user_criteria.user+'',
					"groupsSysId": catalogItem.user_criteria.group+''
				};
				return JSON.stringify(rtn);
			}

			return '';

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getCatalogInfo. Error:- "+e);
		}

	},

	getRealtedCatalogItems: function( sysId ){
		try{
			this.logger.debug("Inside Nutanix_FetchConfigureSettingDropdown.getRealtedCatalogItems.");

			var catalogItem = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			catalogItem.addQuery('blueprint', sysId);
			//catalogItem.get(sysId);
			//this.logger.info("Fetching Catalog Details for "+blueprint.name);
			catalogItem.query();
			var answer = {};

			var k = 0 ;

			while(catalogItem.next()){
				answer[k] = {
					'name': catalogItem.item_name.name+'',
					'sys_id': catalogItem.item_name+''
				};

				k++;
			}

			return JSON.stringify(answer);

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getRealtedCatalogItems. Error:- "+e);
		}

	},

	getBlueprintInfo: function( sysId ){
		try{

			this.logger.debug("Inside x_nuta2_nutanix_ca_nutanix_runtime_configuration.getBlueprintInfo.");

			var catalogItem = new GlideRecord(this.appUtil.configuration.table.catItem+'');
			if(catalogItem.get(sysId)){
				catalogItem = new GlideRecord(catalogItem.sys_class_name+'');
				if(catalogItem.get(sysId)){
					var rtn = {
						"itemName": catalogItem.name+'',
						"description": catalogItem.description_markdown+'',
					}
					return JSON.stringify(rtn);
				}	
			}

			return '';

		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.getBlueprintInfo. Error:- "+e);
		}

	},

	fetchRuntimeVariablesValue:function( sysId ){
		try{
			this.logger.debug("Inside x_nuta2_nutanix_ca_nutanix_runtime_configuration.fetchRuntimeVariablesValue.");
			var gr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			if (gr.get(sysId))
			{
			var arr = {};

			if(gr){
				arr = {
					"application_profile": {
						"names": gr.application_profile.getDisplayValue()+'',
						"sys_ids": gr.application_profile+''
					},
					"blueprint": {
						"name": gr.blueprint.name+' '+((gr.blueprint.getRefRecord().version)?gr.blueprint.getRefRecord().version:''),
						"sys_id": gr.blueprint+'',
						"class": gr.blueprint.sys_class_name+''
					},
					"project": {
						"name": gr.	project.name+'',
						"uuid": gr.	project.uuid+''
					},
					"item_name": gr.item_name+''
				} ;

				return JSON.stringify(arr);
			}

			return '';
			}
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.fetchRuntimeVariablesValue. Error:- "+e);
		}
	},

	checkDuplicate:function( catName,  catSysId){
		try{
			this.logger.debug("Inside x_nuta2_nutanix_ca_nutanix_runtime_configuration.checkDuplicate.");
			var gr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			if(catSysId)
				gr.addEncodedQuery('item_name.name='+ catName +'^item_name!='+catSysId);
			else
				gr.addEncodedQuery('item_name.name='+ catName);
			gr.query();

			if(gr.next())
				return 'yes';

			return 'no';
		}catch(e){
			this.logger.error("Exception caught inside Nutanix_FetchConfigureSettingDropdown.checkDuplicate. Error:- "+e);
		}

	},

	type: 'Nutanix_FetchConfigureSettingDropdown'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 19:21:56&lt;/sys_created_on&gt;&lt;sys_id&gt;92e8017f37112300fdfc097973990e33&lt;/sys_id&gt;&lt;sys_mod_count&gt;671&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_FetchConfigureSettingDropdown&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_92e8017f37112300fdfc097973990e33&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 12:58:50&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1339647849</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7624eae4db711010eeb98087689619ea</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217ba370000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_FetchConfigureSettingDropdown</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>78264b06e9581410b0d2c65205a0df34</update_guid>
<update_guid_history>78264b06e9581410b0d2c65205a0df34:-1339647849,915959038f5b8010571f8e7c2e676e9c:-423693323,f5279d8f361b8010977413cad598cad8:436039412,ecb55f7605760410ecd111602103cd87:-2005500068,6db7a042affe4010139f3e61eaf2dbc8:951681904,038760826ffe401083721eee5e23354e:1625840687,9367608205fe401040d6d513a146ce48:-550121457,22be1ae18bbe001092480287ad573625:951681904,90ae1ea17fbe001095cd2e57c8c03570:-1612624555,42ea4a65627e001032ba4fd8d065dd44:-135863161,0eb5caa9a63e0010693d556e0ba0e5a1:468343573,dbaa9d321691001000d7ec80c3870b38:1893458377,849931280b190810dbfb99c9d9598371:1893458377,9759577f2f3f3300fbd549e4394b590e:-1957276057,97d5172bc27333007f083d4ada484bb3:1577676427,8dc2dba7f273330083b40c636ce9dffa:-357358860,aa901767a2733300de2d5bffb655a91b:-1793266478,f34e8367dc733300a0cad6637c045d32:1369310694,d4c6476fdb3333001e73dd10b88f3a54:1031134710,28e5c36fbf33330013f9d075c43a87ec:-754844082,a12b072d14333300f7bd5ae28cd16226:-1214111257,05fd1294e47373007a1f32243fe8a80b:557308850,23422d7b8d6373004fdd379531f289d1:-1007679948,64f69df39b23730041bfaa648c654cc5:-1279491710,a8adfcbb77ef330078da1a8b21c029ca:1063629456,c95df0fbfbef33005fdd8c8fe6518911:1797878216,f7ac30f723ef3300cd755d202473a587:-1511838382,318cbc7b4def33009f393233b1638bbb:1560053580,779bfcb725ef33006982b480c6dbb98e:-650759114,fd0870b7f6ef3300ed73d9f8c067a236:-812084272,cec270f343ef330026571ebf8328ece2:-882525978,7729583f9c6f3300f5f693e7d255378d:1297759108,0ca81cbb546f3300576accaf5fcdb86b:154915938,904618bbc26f33006851a268aa2f9b8c:13071173,72f466700ee33300054427b08eec9e4f:1145376820,52f97893289333004e95a0cc96140234:-1055045345,ba39f893fc933300b23c69cefe045e10:-996094858,c628b89333933300629457aaba21d748:-537171577,5fa77893ce933300720e5d64bc08546a:2076585968,85077c13ee9333001af0f494fcae5717:1108697291,60a57893ad9333006b5a466c8cda972c:150796110,3592b013559333000607885af40dfdad:-1917158349,3df0789f37533300349eeb4994234a5f:1804927784,3c9e68dbc8533300402f1bde2508fb47:-1706365596,4cc1c600743637001fded3405d34e67b:-1056633773,6628c108737237008271de0fb61f020b:-1722786774,6b36b80c74323700271c929ea98eb29a:383934278,d415340c47323700f104cd934b81aab6:-696491930,a0d2bc487e323700b878a67f7fc620a6:383934278,9fa23888a3323700aeaa70f32eea0a0b:-2124739584,5b292573d66af300002c4bfb66980578:383934278,c9ce2b270326f300dce0e8eca4ccdaa0:1079573236,04f2932767e2f300ca86ab99ae60e148:1834627772,a912d7e33ce2f300ab8215caae9d0af7:275096585,57f057e35de2f30040a25e786e17fae5:1633536044,6f8057e39de2f3005c9c104eaca9d2de:1383170246,1310d7e3d3e2f3001494b5064f57ce44:2081057635,eedfcf63e6e2f3002d4bcd99350c28df:-1429134776,fa4f4f6f7fa2f300bc76cbbcb11d89b7:43787712,639d8fef54a2f300df915e6313380c26:-1301144565,66f98fef1da2f300febf03ef91a0fe14:-278030916,94c80bafdaa2f300d36fb3f6c6a7f508:648623193,1e96cf2ff5a2f30071953d54f0ac3ff4:1805797261,ee56472f45a2f30035333c8ecde2e534:1493504013,8d36032f40a2f300995a5c91a2e64482:-1437826067,03a54b6b08a2f30034b70671585192d7:117439215,78a1c76754a2f300fb616fb08c24cf2b:1176588093,a1918b6b1ca2f300a3b75a9b3ce2a807:1010296964,97904b6bf3a2f300b10d023f200d6ccf:-1883084262,cb0ab667d6a2f300db5a79375bb7d511:-97617948,3e842a574fe6b3001f9561e50bdf90a2:-100611844,8264e257e2e6b3004abb46da414c92bc:-1079126651,2f44ee17f6e6b300df1802a7f1902de4:-689631065,54f1a2d317e6b30063b7c96206d21176:-926841471,fea12a93b5e6b300e29cde28c4f1c3f2:310647014,04ec5adfc7a6b300aa4e048039d9bb9c:-921703199,11ac92db6da6b3005b983193ea706f5e:-1112001130,784c565baca6b300d0ee3b24ad99f78e:791524342,577e094be0aa73005455a3ed7daf6aab:2043963705,49cc450bb6aa7300d1188e255e09c6aa:-979372752,774c05c746aa730071c96256723f0fd8:-653049830,7c9b01c7dfaa7300a8c235daa4717169:-410724973,db4b4d8706aa730025c58d01fda2f019:-2014566798,a96acd0796aa730001c7d5e51c10c592:-1831724604,7c97c50757aa73000654df21379777f8:1172226057,2183890388aa73005ac89ad726338da9:-555668054,f4e2cdcfd06a730035bcdebc7eb9d11f:-859707542,15a2c503dfaa73006b76762ce7ff4f10:1769973183,d152098bea6a7300df452db71d8db30f:1544333759,9591010318aa73008c7f883bd0c44327:-1021014356,dd710dcf366a7300c89d9aacd0c36794:1785299731,b0310dcf1b6a7300439c4c9667318690:-616534003,a2014107556a73001acb8f84179b9b4d:-714321658,3020c58f226a73002da21ac82dbeeebc:-212182864,da8fb8875b6a7300da12946b40261beb:-548652514,740fbc834c6a7300bc33102f89493c04:-1644662714,a911a80b1c2a730016a95ca19ef1a1f4:-23881249,419a5c07242a7300d9173874cb4da541:766836031,cece5f52c026330050a2992e1328e1f6:-1879967995,a45d1f9edae2330039b0153834a6b0d8:-1388091398,b73d5f9ee9e23300fc89a47171100624:-1625420552,040c98fd106233005897a77e0f541051:-732201997,419b98fddb623300bb79516891e6e734:-791225357,ccd9547dda6233008cb7180592ac49be:-1750349198,cd195c3d4162330010dd5184f0a22e19:631469769,ac38503dbf62330023a2db5b81c66172:1408290347,3ce7903d676233007c6b684032343706:35364270,82a7dcf97e6233005516eabd97eec429:-1670704330,dba6503db0623300ed920e870bfc1036:534298242,e56690f97b6233005dccd48680100f63:1807131334,711218bde9223300b8cd4af4864b955f:1778649568,96eab3698e2233000e8e8e3828ee5c8b:1489124465,0768b7e59f223300186ea79ac61084b6:121951577,7db0320c690673006485efaaf028de35:-1529463163,b860320c470673005d0c5a5d15b87886:1113787541,75bfa2c8bc067300128ac4a52056770f:1408255885,bb3fe208c306730094f6b860ca34a279:-414273999,92eea688ec06730093ac4e0fdae4af99:324655016,0fcd6208ae06730095e148614f368dd5:1818980300,e14d2288200673005c8243e0998f2899:-537193718,19fc6648790673009235f1bd2e09dc19:175035501,fbdc66488806730088ec4f4a84419767:23761988,b37ca208b50673000a85ad016c929680:393857824,353c66c420067300386bd0232b5a42e3:23153981,32eb6208dc067300e883ca36197470b9:1667706787,9f3a2208310673006710b9a299d975a2:23153981,e014a60005067300a9ef7cd20314eceb:-1697793870,b06f9a00c706730023155e253b20b854:-668539224,e4dcde8c3ac27300cc45a47816055db5:-2070106882,ad4ade0c00c273002981c7fac38b840a:-1918833369,a46403e255d333009d527842a73c5d95:1446211425,85d566aa4c1333003b59342f12ed716b:-973677567,229114c5a65f730090bbd332f2ab1a34:428759041,053ecc45175f73001ed392cea14338d5:-2089642245,357b7bd0d65b330061f8fb14bfe344f8:217449494,cdbb6bdc249733004c4b06c06c20f1e8:-232906922,6fe393d4ff573300e7239cbb33bd1498:1826042986,0463179417573300ca0ed7efc1abd544:-1765606061,ff9536d89fd33300b4af69745167657c:961012395,a1657a5c43d33300db29bffbdaefa508:755961596,e3213658add3330081a9082e36642b13:1256258515,61aeeed4fbd333004901188f0d223e6e:-1415506328,551e2ad4edd333009f48c701ee5185ca:1529565795,17d6229005d333001560f5094d9ba07e:1287401284,8b284a58e35333000c66ab21b9ce5427:-879889706,5508edd0db1333003a53a558c47e7e37:-1207323928,13d625d023133300f13a5ed128ca6cac:-472051418,3144a237754777009f25504aae549f3d:-1765606061,5354f877ed437700844f2f4f71f05a35:1783025083,e7a374b7774377009306546003bdc388:-182330334,e032fcf39943770020f31c6170c2d188:1104910969,efcdac339d4377001d5bac693a2a6fcc:2133620384,28923f6b818f37002a58ab19cce964d8:1287242851,70f17fafdb4f370033ca17d47d449628:-942159968,b56ba3a7cf8f37004e93c3c84d3de537:1287242851,d89127ef0b4f3700625f5dcbe2cd40f2:-272462394,93ae5bc306c7f300a1982b97ebd14db9:1430756393,b45e978750c7f300448f2a9e32a4e428:113333376,e757cc3e8fcb73007a3e6cacd6a605ce:-20602723,f186c03eedcb7300ba7a303324756f48:297543023,d956cb0ea807330089e663e0a5eaba2c:1103797538,1fd1c34ad5073300c8ae22d9868477ed:-1922202870,85e6e20e808333004edeba92c9ee8c39:1790251095,8262a64a3583330068f6f649b3bce924:-954056626,fa645e4e84433300919b447e2ac37ed0:-404485140,17f975ce24033300e5e1daac552dac8f:-632401801,7106f90e7203330067659f7ade1d7e77:1617594542,63c4f9c6c60333005b8252091967b9ba:-1824681906,313bad46b1033300b0903b06d4eda1b6:217849329,328c070d6e43730038262b1a8f013d0c:1469413563,a57db68d3c03730083e65a02b64d6644:1476525063,49aa9649f38f33006ae04fcd265f0db3:1469413563,a7dffef8cd8733002a5774eea1d4f308:-1041732102,edcebeb86a873300008ac1ce3042e827:1762502666,41d3aab8cc473300b385dae01cd66021:1573334536,901a913016833300c0428243875938a6:-1344777472,3ce69dfc0e4333002d3d1608018b5b5e:1264824554,34a051bcec43330041f6fd380c372c08:-772654870,731e493c05433300ecf8c53c7a8d1cd1:1090040635,a1fd41b8c1433300274cd397efcd69a6:-1121722151,698e85e0e20733008a74a2643bf03ff0:536858618,9d3e8d24c007330099c9e62d1784ed19:-34157620,0a2d4d246007330084b432092dbc44ef:179478287,578c8524660733007640d768c986f620:-960495649,77db4de0a0073300a6ad300f4e865fb8:473247010,359bc5e0840733003a7978416e73c929:-194883596,7feac5a0b8073300cf022cf894025821:357865196,d249c9ac0ac33300fff592ae3bd8bb8a:-978699768,e4574dec5fc3330079b59d67afe4bb59:-1810659609,63fc682cee833300e2163519fca440a8:1887950892,e619e468d98333001232cb9cc086e2b9:-2002341444,1074d8e46943330031cd42950161e493:-2055746828,b05afb4ce3c33300826434870f41891c:-1976489134,5049374cbdc333003cae94b7f746cff7:-931007916,8558bbc43ac333009ac9a24272fb3765:-16230294,21467308dec33300a22d51162eaf8517:1980745319,95013fc4ccc333007d2e87cfeda2cb7e:1927478465,015d2b4c8b833300fff11cf27d049b36:-1177197265,50025f80f343330038ccd563fc70832d:326285824,626f8fc89203330009f9ba8f93030861:-598339506,b514cfff2cb233004f4933ba5a32bcb4:2019626609,7206b6bf81b233002b419d006e7e2488:-1925071358,297536ff2ab2330078fc735703778844:-1671078852,7df372b38eb23300220e98ca736ff402:-276340715,40a60633e1723300b153aed54614ba12:-1080704807,39240e7fd2323300e3d5d8c28e5fc99d:156728314,f9e14afb81323300feb27b980ef065b4:298529973,e7fe973e727e73008273f869edd237c7:457152744,c9cd9f7a477e730011004a08ceda9f41:-641301031,b312daee92fe3300f6aca270bc2270cc:1719382033,a8e0deaeadfe3300854a394f5181fd6a:268168671,60aec62e18fe3300f3be5b7a9c02450b:1588358322,49fa39ae55be330087abfe129c588e3d:-806401023,978639aa02be330076deff8bf7110d51:-760778522,c7cf451299363300992d40483cd28485:170474663,dbe29710de9b3300447d989188d3da00:1948028037,cc69fd8435a1730032d10ad653e3a13f:-2047457967,9798b58459a17300e3f3cbbb85fc7423:-1635203599,0907b94478a17300431e55db22afa4f5:1859870294,6d5535c053a1730068652adcd724fe8e:-309802151,59e4edc4bc617300a82db38dda12d7f5:353013945,2b5e9104966173009adb7cd355fa058b:-309802151,13fdd1c0f36173001bf23c7c835ce38b:-127207272,ddfc19c0be617300681bd76cd9b52192:-309802151,b8a28580bf217300bb31ff41f80ed498:-2045706519,80a207ff38053300135364639fa9e944:1051957935,af24ee3fd4c133006a75cdf540a1ba4a:-1413807976,b2012a7bfec13300d25bae2b0a414d78:696656650,28399a2795493300ecb1787174bc6dbd:1192280106,cf3c4e6b8509330052654a93f339fbc7:150080531,dbb146a3dc09330097c2a40ea493e48c:1378172696,c173f127d7c5330023fefacc59347bad:-793180220,c739ed2b3985330038991e6a407d69ee:-1477474012,f9e8a92b7c8533000289cb94859d692c:1038876277,cab36c764d4933004716292226b59714:1673137795,f5cb3d62c3c13300b61746cdd3ab7b8a:-1849822933,ccf7f5ee96813300fd5e827a7c2bd5ff:-752539578,0224f5ea178133002e9fd6d965e26145:390722788,4cb23ee102c57300ece146a80859632f:-958365270,35d66ae1b945730033e57f82c7bc655d:1298271698,e71916e197457300fc0da1d5444e2863:935756226,7eb81aa1ca4573003096a6046afad355:-2116892631,cdb79e21e84573004793aa00686df011:935756226,df6652ed6f0573007ea4fa1d2b81aaa9:-2116892631,7f7496adb005730057a3e1d89425c5fb:307847741,c7be8a69630573004f28823670d64bd0:480171475,0d8c46e5c1057300297f9c154498d4d2:-936629509,ecaa02e53e0573004fb939d67fd9be8d:2111374538,14f946a52a057300cc501c32440999c9:44618933,30b8466598057300c81c58949d574603:72820472,01760225db0573006fdfbfffe2e27fcb:1254999547,9ea50aa1a6057300627da8ec156f7ec7:-537099749,35d48ea179057300a6db36de84be6b47:-268239940,f9620261cd0573003d9b7826c3002a73:1224790693,8cc1466da9c17300aa7cd021666300c9:-1154048513,050475e9d0817300ee723e471d2e818e:1938181589,548061a938417300e971a6fbfc0c73d5:-116332591,983a1d65f0417300bf302d2d65031254:-1227920510,bbf915e100417300e8f86d26cf386bef:-439440442,ce4f66d157c93300241beec14b1d3a7b:-1771281117,48674699fc49330022d30dfb1cac78c3:-975676741,e2b48a5982493300466641e41bc940a7:-568714069,3e222d5d6fc53300548b11377898ad57:405690990,850221d1590933009ea7f888e0612ea2:928268822,0e80ed919a093300d46a8e4919f786a0:-1679634526,4638a891ef4533008677359bb6c52b90:405690990,43b7ac9d6305330048402fbb762d1888:-367739869,a4e5a0111b4533002ec807fed2360de8:2114412300,a5d3e4dd07053300bdce376d37283edb:-1727317815,944324ddf1053300acf8aae567e385e6:-1403743362,7c72689d1305330077c937f4bfa821bc:454574758,75f1601d380533008468f49b728bff1c:1729656871,36791059a905330050bfbe561dc613cb:-1678716618,8c1633f09f89330075f6ba115bb25b88:948938846,3d433b3086893300ad3359f212e21ae0:-252697439,0d42773010893300acc38c36f4733649:796672861,82bf2bf806493300b3e14f02f829a245:-252697439,a54ee37c1b49330096d5d5efb748d05a:-1166608101,61670618a045f300d995121308616c91:-1976149564,ab76ce54a345f300fc813e94a853391d:953135822,079286547f45f300f7049d16de1d944f:-78292482,b941861c5805f3003e32f1391d9bdc43:1421886878,d041b2d3d5707300babaff04012e4aa5:1373445321,753d2213bb70730005d5c86510c4bad7:45873189,c30dae1b683073003228c078db95d337:-42262052,1ec2da1352307300cdd5ff72103ff567:-1416663473,9ac1d25fb8fc3300073909b3203c50b1:1452240637,1166d957d17c33007c5b00b745e68671:-1075218865,6564ba0bb6f43300a6dc955e0ed99be6:1384286804,e03cb987c27433003d336e82e7512833:863075680,2f6a35036774330048629e63eae1fad9:461555316,7b897d07f3743300bedc8d19de08a34e:747733240,4f393983867433000f4526b2e9f24a4d:812661976,b7a095cbfab0330069e40b88d626f0e3:-2102551405,cc28c1c79cb033009c10c7cc4bf7af83:1505489486,21860587eab03300bdb454c5ada77bcc:832152492,ee160187e0b033009f3a3b8678dbc351:1623527634,67a5c1470cb033000a87b0415cec3c92:-1629560968,8d15c10702b03300c936fe8ccacfd629:475057668,1a540dc3b4b03300135ab7df18041327:-1170071680,27b38143b9b033007c95be60b7874b8f:1422649033,f8d20dc36ab03300e385868b9cb7332d:2030792538,59ea70cf8c7033007665788394975ffc:2050359268,4504344b407033002fdeccd57113d0c7:-1828464775,5f32f08b8f703300b04db7dff8cf0a89:1343351549,23e91443d030330036bedafc059fa9a5:101643997,5da8ec7258b43300a83554f20e1fc1ae:660977160,a6b6acbe08743300abdff979c672ed56:-1084596370,019cc87afcf033006583656b76e0f715:-1983741591,4d19c876cdf0330087e9afe3e97aee17:1890337193,dd9384365ef03300522bb9d5daea3cf5:501456305,452180b2e5f03300e54f54ab31e00a93:-1553790191,cebf73622cf03300466d420250034e09:-1357455711,25ae77222ff033002ee6ce35a077a383:-2126692825,f57bb36ebcb033005acd5ffe9a10a37b:2063591111,28da37a677b033008621904c5922ea40:-829210777,0c6e2366ceb03300d99cd678179a9c7b:-766775901,2f8d6f6212b0330009bc98f8f7dd2b07:-1851126627,8df9a7a211b033009fe31e7e627b129c:343034748,3249ef62d4b03300eb4bfda24ff7c89c:-1483122663,f878a72e8c703300722522ee98809459:1177296268,cfa56b2a46703300b521c456f2240d92:-1880821472,aa05e7eee8703300c8fc3d9c55bdd53e:280352299,fd0d5fe60d7033004cfd3f8623069de9:815150652,543b5766b8703300d638731c0376d564:713678365,40099b264a703300589799b13b74038e:-438909841,f486936654703300df0d752b05eca2f8:-2088006866,d4d51f2631703300d3409c392d10fb20:-367261156,2802b4311330b3004bf54b13748a262a:-386522226,ab07a075a1fc7300b8ca3ca09d6604dd:-2041164596,cd9b1c7189fc73002faf9229356db46b:-1522491817,0c2c336d357c73008afe4d8061811b9d:1929188982,29b79559f87c33004f618ddcbe0d8030:1733667802,e974a7816a7833003fa6d4b685c2725d:1781643569,6eae4b094c38330059fb0d928e4e9dc7:-1205614572,7b48c745fa3833009bb84a3b1a217770:-1158353036,081d36c9a7f433004cddb93e7a894b68:-1754181564,5a5aa20177f43300f54b653fcf9eadbb:550935459,0be8aa4dceb433001c223d7482174653:1146807341,7028ae0d2ab43300b00374ef5a2db4f8:-1080064125,68b7e6c96eb433006a602fa763ef27f2:-752546851,70016685fbb433001c569bc1cdd9f92b:862971074,ee705e09c674330090137bf5515268ad:-1833848512,8adf0285927433002c84a2966c08e347:-748384471,bffec2c544743300775d529d700f9eb6:1761859861,53d9c681e97433006f7197a5b47fd4fe:1139476883,7ba8ca018d743300aec05c5882c94832:420555509,01844e093e3433008434e684b16b0c23:716198226,c3d3464d883433000c0bb42685954b29:420555509,e0630e09fe343300ed42402483e594cc:716198226,a7e425c536f03300c757e1825fac8eb3:1042938487,24706185d7f03300a70c4ed7b7bd6223:-578694129,b8ebc90933b033000d643a39ae1d2aa2:-1875557963,377ac58556b033002461988b71907969:1189385625,d23574c5f6703300c46298f2a42c7634:2144231913,5b0d2c81f3703300dbc934b5fe04f323:1237594926,1beb6c01a5703300a4bc7fc1a7303758:-1175761436,081960cdb2303300cdf0d140faf91030:-1200597253,0d262c4dc5303300575a203d306acdaf:-846953288,ce54e84d8e3033000efd1cd1d5174575:-921182339,3eb2ac49493033008d3dd72e16986353:-1241865165,dcd0ac49d3303300fde70e74708a9434:-2090465599,fb6e988546303300a24a43419560f0ac:781183829,ca0e5009b630330000de70524770d7f0:1367913065,34acdcc56a303300fbf624b54efe54e1:921872290,96b85801fe303300e024e0f3fed01744:104014023,83cc0e70a934f300570407ac8ac12553:1145702644,d6654670fb34f300d9a2f591ed561c10:-643568712,ce1b753843f0f300046859d4c8934697:-2063513380,6239f5f473f0f3007db7a4e78f16b668:1646621378,8b2935388bf0f30012d6d290d3617e79:-356255550,2bc7f5f4a8f0f300af080375a364ea80:-1876580924,dc8351fc17fcb300e28829ec927dfb54:-1800996627,a343783c46bcb300455397ada8da86e0:2011946849,efd2387c99bcb300eb6cabf4b413d49d:-1050613476,1652b07cb4bcb3004d4847a089bc548e:1555422139,3bf0f03cb0bcb300d556c0e686695a7e:1752052635,034fecb8a9bcb300674960c7526ab4e8:-154018166,b43e24b852bcb3004a0ace9c1ff35e00:504652142,c45cdc7c9f7cb30007715c928c68e366:-1500620074,a09bdc3cba7cb30098e04f25d0867e3d:651754662,8d0ad8f86a7cb300f002dd5b9267ad06:1396463502,86109c34fa7cb30035f813d369f8b5e3:-1357152850,d2e938a84b34b300fd726854ad29e153:-1017843352,193a58e050f0b300421b1fc9a135d582:1317889088,65ff4cac3fb0b30095855a285f21ce85:664994605,e1cb97d0e0bc730005cc4d9c15993113:833883646,c7c9de50c8bc7300093824d0046ce676:243970105,dda91a5032bc7300ee00c71fbb4359a0:-1987542666,3298d250bdbc730079dcd5faba94f446:-482084793,9548161093bc730053c4a30bd10528a5:-1656234274,b91796dcf87c730054f74972aa31f9ac:1135262380,5b265e1c677c730062ecc0f3abc9cf86:1707622851,156596dcfc7c73009e5462da2cf6f774:1374305428,567a1898b3387300b299a834679dd4c0:-1657663229,3b7497c4f034730040b4544161479859:2025558856,26319b0097347300cf3602f4fe1b8b9b:1812866840,59609f8c05f07300cc7d1654adb2cc87:1322011425,38d947409c3473008c32d42eee62c81c:2007839969,9b38cb4c36f07300554e5b175c9d483a:261344180,19470bcc7cf073006e7f9ff596ef2865:286082692,9406c70cfcf07300a3103607dbc08f7e:-1773085002,f6fd6b538e6c3300526fc7aa161e5f4f:910210236,097d6b539e6c3300fbce181771d672af:-1804693489,4d2c6b53996c330030d12fed6200d949:-1439021967,5b4b9fcf49a0330059b42236b5e83c61:551537212,611ad78b71a033008fb6626161086ce0:134234774,e4299fcbbda03300d55d261bfcecc801:821256394,804c03cf0b603300f28c507fbf0bd199:1359730549,37573ac73d203300f7513241b2a71f2b:-1872049169,18fee6c7f0203300d0bff7ddf66b878d:-1918009401,be3562fe31607300a6691a4a75c816e1:551537212,e636793e83ec3300ab7a0cc5c6be8b51:429458575,fe55bd3a23ec3300689529495d8cd7fc:582752370,ccef213a0eec3300e7cd78d0b5673c4a:-8127824,c88ea1bea5ac33002d13bf7896f11562:859725915,c89de176b4ec33000a74c0a5aac37e86:-1376769043,30cce5be3aac3300092248feb1c64d7c:2034738375,f3e5697a72ac3300ed4ef30be7c5fffc:-704813345,baeadd366fac33004f83e59cc1f2947a:-1317423450,ca40593a4d6c3300d6fd330d1363037a:-1419674364,fc63e12e43243300a422192300f10c9e:-721497843,ec01a12e7e243300fdb6d4bee4d01559:282289984,6eeb952a09243300bffdf68946b5bbfc:-591939738,b49b91620c2433000c6e7bfbbf7c734a:-837235820,c8d00de2cde03300dfdb64cdb16ce5c9:961470843,c0caf422bce033005b0123f2d07c3c54:-975662880,289974ee8aa033005184b1dedea8571d:-446663744,c17874ee19a033008139f710e8d472c9:-938493025,39f6b42eb9a03300b873c153eb6d3932:-756898639,9592742ecea0330074ad295c2cc1d89f:-440538226,43bcace6a1a033003c222bb02d4cb00d:-1284176762,873c60e652a03300ee8beafbc0c91de4:2119336064,56e8d0e65760330092f8b461a04b5ec4:-734068678,a0171466e16033003ba53f4424ffeeec:1211456868,8195d8a2a3603300e493dcddb919c8ec:1060430946,9690251a6fe0b30059a8f76377415f3a:-1333045982,90be5d9646e0b300580279ec0296026f:1408577942,7a5e19d69ee0b300e07b6773f5d51381:-1937761236,48bc1d560ce0b3005132f410e3c5047d:1186301127,621a1d16b0e0b300e9ecac7dd12d82b8:1604860913,a838d5d22ae0b300fa21ecc8b7a96ffa:-2027641665,c457555239e0b300a3f6215ad810630a:1489021201,e15691924ae0b3006240fb2f4cbbce1e:-914282840,cc15dd12dfe0b300a801045c12eadab1:554597292,45945d1269e0b300d5b625731529b5aa:878641529,9103d9dedfa0b3009e85057e3ad9a928:-1200897129,17a1511e5ca0b300bedc5fdff1385e4f:874810242,fe6b855a03a0b3007f2010b575ef88be:1093593939,313a49d659a0b3007426c88a284d1c86:-1941183649,fde849d646a0b30075ab9b76d9d2b157:303401256,b78745d208a0b300f31d99db4061d658:112569551,4b16855266a0b3003158ce0ec69ebefd:-1805720754,126481d2bda0b300f053b4d77b26d942:-1607042878,7f585cd27e20b300eb54262f8d163a21:1470724943,c1c7d8d21920b300ae5ef00a93b6ecf2:1627435918,4f2750d26220b300a2cd29d53bb22e0e:-1519455944,ccc6dc924e20b3008933b2f65545bd13:-577438591,1926d4124d20b30072e15db65ff0d72b:656750514,8304d4122120b30092fe45710e637126:461654442,79231412fe20b300137a72a099bcb1c0:440304531,acc1149ed6ec73004449d76896f59b1d:1428414134,6460901e81ec7300a67fedf0b0bc3953:-1074426308,9e70c452c4ec7300ef8cff310c09f9bb:-825986631,f17ff70283ec73004e2a13dfe2752e0b:454361166,943eb746e9ac73002f720f8d6aff3f6f:1552629429,b05e6346b8ac73001b8ddc704f07ecb1:898382424,29fd230678ac7300828c921916591d63:-454768881,0c089bf97260730095cbb149624934d1:-625016516,57ad8735f9607300ff9f014cc1b39f21:2081860444,a0ac433569607300af80b5dc47c722a5:892359656,c0e9fa316f207300a2e235c49bf22479:-1048829792,d5383671f02073001d3c8452f9dc92e0:1995856305,0836fa313d207300002bc1aa552734a0:-750376182,5e15fe7d56ec3300429cdc78ae02c581:-1510755357,39a4f67dc6ec3300f5fff16b1adcd8a0:-1996040123,acafaef957ec33006c5b80e20993ed6e:-999771171,96ae66393bec3300f038151505a2d292:-210879216,101a26b527ec33004da1a2ceaff70cbd:444587130,58686eb523ec3300224c8da22502b14d:901838069,1e576a35daec330002c194364c8efa22:73971062,98d5a235e1ec33009f966a8c9e7fca54:-2113926838,0125a635ddec330065b5af983a0af00a:-766981010,3b685af595ac33002ee970d9812d0727:403691662,bbd71a39ccac33005cbe6d1ae8c143d3:-1180075887,89a6923972ac3300c45e6dbeb1d9c0bd:5626209,c6a74e79216c33001fd597f2bfb99c3b:-183360181,73274a399e6c3300e4a861ef060f90de:-280423996,2c85c6f5ec6c33002d9a12a5c0416f91:-285013449,1af38675146c3300d1362a2d4d4120b2:-1077464214,267efd71736c3300a86d539246d476be:-910559294,8fbdf175352c3300255b0cf11a244c44:1560653790,d6677df1842c330011e05a187ec69899:-1741934521,3501d22d7f24330087e6eb995e9c0592:1544410774,3972cae10c24330016b057412a92513a:1332216484,3b0d312d05e03300c9b01d3fbb46b810:1108686825,3b5e5169b3a03300c42ece46b6d95476:1578908579,d0ed5da9f5a03300d16ae3c33796a0fb:722141853,6fdc59a90aa03300a7b03191542f92ae:-765547779,986a11a5f5a033006123daa07a6a6503:-669934723,72f7156598a033003fdfb691231fa59b:-361483512</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_7f2334594f9233008373224f9310c7f3</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#snap_delete').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	$j('#snap_delete').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_delete_sys_id").value + '';
	var snapshot_uuid = gel("snapshot_uuid").value + '';
	
	var json_var = [{"name":"snapshot_id","value": snapshot_uuid}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideModal.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_delete.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_delete_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_snapshot_delete");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_delete_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_delete_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_delete_sys_id" id="action_snapshot_delete_sys_id" value="${JS:action_snapshot_delete_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;body&gt;
		&lt;div&gt;
			&lt;label style="margin-bottom: 20px;" class="control-label" id="delete_warning_label"&gt;&lt;strong&gt;Are you sure you want to delete 1 Recovery Point?&lt;/strong&gt;&lt;/label&gt;
			&lt;div class="alert alert-danger"&gt;Note: Deleting the latest Recovery Point will result in full replication for next Recovery Point.&lt;/div&gt;
			&lt;div class="modal-footer"&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
						&lt;button class="btn btn-primary" id="snap_delete"&gt;Confirm&lt;/button&gt;
						&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_delete&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-26 12:04:51&lt;/sys_created_on&gt;&lt;sys_id&gt;7f2334594f9233008373224f9310c7f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;30&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_delete&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_7f2334594f9233008373224f9310c7f3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:08:59&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1138764630</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>7624eee4db711010eeb9808768961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b344930000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_delete</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>6ed86f564b909410f6a409ed267a5578</update_guid>
<update_guid_history>6ed86f564b909410f6a409ed267a5578:-1138764630,7de9c3c604581410720aa711ace35390:-476527528,9b4d93c9f46ac0102ea0f58eb271b728:136265819,047a1f09cf6ac01011102647389ce0b9:-498600171,684a1709c76ac010991de73b5f6b23de:-1962940104,b8a6db45a46ac0100b66f83962de638b:-693730902,2644d381b82ac0103de8e0f21bbb526d:1624593862,8780e000075a845055938b2983f1c016:-1084513121,e9dcc38b587d48108a943d8ffd55d031:2087088932,4b3bcf0bf87d48109288b1cd15d4ca34:257649647,305903c7a97d4810f7027d0a06f26fc3:1175469496,35a64747ca7d481045aa4d69fbb51226:-893501313,2823038fd03d4810470593a2deca3c4a:-307677615,fed5ec2e52d1401070648daadf207b8e:-1372074845,392d3aa3a9b48c509df690ae236f11b8:5037801,cc58e3b7c6a104100c4654d8eac4a680:667703893,c848af77dca10410e0d1a3f6651252df:64508410,d1086f779ca1041087dc6e520d678e51:64508410,e2e76f77d6a10410f26a3d9985342a4c:-486779561,9b122b33dea1041066993ba537860d7b:64508410,85f02bff13610410fd418a3d12f6956c:1217287002,49ee97bf40610410e0c292ea15f1159d:64508410,41fc13fb7d610410e539a91ec130c1ee:667703893,136adb3bae610410623a22aff1d80fc8:-920388893,cb5a17bb406104109d4363f3d853f434:2041491126,dde95f3b296104102de5c639ccb7b3e5:995560259,72791b7b3361041040585d22361a6db7:-920388893,fde10774ce59481010c1d3ceab09a5ef:-486779561,9bed07de09633700d403a996448f043f:890333085,88ad8f9eec63370032e400044e3ebcde:-1096674435,123ed92d3eaf73009318c0b73f37bb9f:-974863459,931e51a5b5af7300a5e90dd50de5ecef:-673894642,2ebd11ed08af7300e357af7ff9f4bc7c:-1723967519,fcc301ed486f7300885ba4cb65f96086:-591756215,7783c16dda6f730049761ebaa9fdc205:1521469151,744e6bc106273300517f7a64bb2630c0:1577537371,abba6eabbb1f7300655013f2d71bb16c:1989319003,54ffe163439b730076139cc092170b05:1522704566,f43bd5275d5b73001ec3091df1c6e94a:-112753186,3b86d1afa71b73009828b78ce3fa2423:-2144514825,571f0adbd06233007f98344a11265386:47293595,8e52f91bba2233006c5ffb09595aea34:-60670317,54df53dac7e23300d504b2cc49fc66bd:128852082,fc4bd31aace23300d40a9bed9b50e0a3:-561545207,9733bcd5fe9233005e39f91d14272ba9:-1223538518</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_096961b337912300fdfc097973990e3b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Fetch Default Application Profiles&lt;/name&gt;&lt;order&gt;300&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
   //Type appropriate comment here, and begin script below
 
	//var type = g_form.getValue('type');
	
	var type = (g_form.getValue('type'))?g_form.getValue('type'):getParameterValue('performAction')+'';
	
	if(type=='new' || type == 'addProfile'){
		var blueprint = g_form.getValue('blueprint');
		
		var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
		var loadingDialog= new GlideModal("loader", true);
		loadingDialog.setTitle('Fetching Application Profiles...'); //Set the loading dialog title here...
		loadingDialog.renderWithContent(''+loadingHTML);
		
		var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
		ga.addParam('sysparm_name', 'fetchApplicationProfiles');
		ga.addParam('sysparm_blueprint', blueprint);
		ga.getXML(processProject, null, loadingDialog);

		function processProject(response, loadingDialog) {
			var answer = response.responseXML.documentElement.getAttribute("answer");
			var profileList = JSON.parse(answer);

			g_form.clearOptions('application_profile');
			var currentProfile = getParameterValue('currentProfile')+'';
			
			for(var i in profileList){
				var profile = profileList[i];
					
				if(currentProfile.indexOf(profile.sys_id+'') == -1)
					g_form.addOption('application_profile', profile.sys_id, profile.name);
			}
			
			var data = getParameterValue('data');

			if(data){
				data = JSON.parse(decodeURIComponent(data));
				g_form.setValue('application_profile', data.profile);
			}
			new GlideModal().get("loader").destroy();	
		}	
	}
}

function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 21:13:43&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;096961b337912300fdfc097973990e3b&lt;/sys_id&gt;&lt;sys_mod_count&gt;45&lt;/sys_mod_count&gt;&lt;sys_name&gt;Fetch Default Application Profiles&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_096961b337912300fdfc097973990e3b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:30:35&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-67107546</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7a24eae4db711010eeb98087689619e5</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4430000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Fetch Default Application Profiles</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>ac91e3f83a885c107a955c589fb88671</update_guid>
<update_guid_history>ac91e3f83a885c107a955c589fb88671:-67107546,03342d3ec0bfc41097a3cdc53b234f64:1483217354,28c2213e7abfc4104d3fb5912add2e97:-538601039,4f17d5644b3f40109202a1aa5675ed1e:-23783990,a9493d40bd37330083550edf16da4186:-1922556034,7bdb6381d027330086b48fe6cb3e5bc6:-1064368925,30f3eb0db9e33300433bef76761f05d0:987758182,3bfa0430304e730030573699afa618bf:1922551095,e3410078070e7300145e1bf11421dd66:1245404118,4342bb10878273005e3249e42d812be7:-1904628236,ec238dc167b723009dbcd9dfd5e4831a:943145684,3a03c9c14eb72300cef8b8b898b4d7f3:-1082580712,34428981ddb723002cf3cc9054bc2d07:-907601297,a2308dcd1a772300c23b3e8175adaf1b:-1606686432,ad4df0cd657723003a9653a0a88b8316:1406499352,7abb748d57772300f67f8315e4d80de3:349964211,10dab44db4772300fc6dd73c43af0440:-1712995218,123a7c0dd7772300fea16fc8c9870c8d:-907601297,9ad9740d30772300edf72e4cabad0a2b:2049942592,6959300dad7723007bf652fe60d47805:1452156017,4dc8c5153dce6b00deab1c623ca27194:1593925694,2de70dd15cce6b0014a3d072cbb15ce5:1103327519,cae8940103c26b005f11bea7fdd73f76:-1038924916,01881ccdc6826b00a3639533b533bb8b:-1388631176,2808148d05826b00f2f25075d6ed96ca:-791602829,4eb7944d50826b007f94f6a28e2ed965:-1537699421,3747904d62826b001534be468d1e35de:1869432928,ef53dc374535670084f15d8ed72ca7c7:1515634347,0553dc371f3567003cdcc8c364505702:875330504,7cbe5397ae79e300f2c8f4d9039e570d:1515634347,54b202a184f9a3005ff8cb4b35c1deb6:1727117963,d8fd6a782ebd2300b3dfb4670272c023:448209093,b9a76bbc86212300b580f6881f0367c1:-1701052082,95564e7736d123006d89fe01246c1d50:-2113107337,35b546775cd1230039293897af08e625:-915280922,24854e3743d1230039520a4c28df63cc:-2113107337,ed45ca37e6d123009737ab48333d59c6:-1852905028,74b482374ed12300d11ddcbfaa30f0ef:402059059,7ba44637b0d12300b52e50f9d819908a:-1331336304,6364c237fed12300e513c58a88961c13:-998617158,c8d3c6f371d12300e262b489cb41c004:694461687,ad9d3dbfa49123003f95e61e60810033:-2113107337,589d75bf0891230003ea7725428708b4:-1852905028,f4ec35bf729123001b27a78fcf763215:1904846414,b3dcf1bf9591230069531d40b4aa8621:-1852905028,69b96d732b9123000c61bb8c3942aa0e:-2113107337</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_c6813938370e2b00fdfc097973990ef7</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="General Settings"&gt;d4d3da7f37d12300fdfc097973990e11&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Check Duplicate Catalog&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onSubmit() {
   //Type appropriate comment here, and begin script below
   
	if(g_form.getValue('is_duplicate') == 'yes'){
		
		g_form.addErrorMessage('Catalog name is in use. Please provide some unique name or append a version number.');
		new GlideModal().get("loader").destroy();
		return false;
	}
	
	var item_name = g_form.getValue('item_name')+'';
	if ((!(/^[_-\w ]+$/.test(item_name) &amp;&amp;(item_name.trim().lastIndexOf('-') != (item_name.trim().length - 1))  ) ) ){
		g_form.addErrorMessage('Only alphanumeric characters, undercore(_), hyphens(-) and space are allowed and cannot end with hypens(-)');
		new GlideModal().get("loader").destroy();
		return false;	
	}
	
	var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Loading'); //Set the loading dialog title here...
	loadingDialog.renderWithContent(''+loadingHTML);

	return true;
	
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-25 20:54:10&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;c6813938370e2b00fdfc097973990ef7&lt;/sys_id&gt;&lt;sys_mod_count&gt;37&lt;/sys_mod_count&gt;&lt;sys_name&gt;Check Duplicate Catalog&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_c6813938370e2b00fdfc097973990ef7&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:37:30&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onSubmit&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2121209571</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7a24eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4db0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Check Duplicate Catalog</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>b523e73ca8885c10145ddbc6c1cc0d32</update_guid>
<update_guid_history>b523e73ca8885c10145ddbc6c1cc0d32:-2121209571,953e83bc7e485c10689a3b07d7c159da:-747956081,06d65564ca3f40108743744aa3fadf93:-1984362513,56f944ba4bffb300014de4f02cdceea3:-747956081,1a8779cc44f33300566c9b2fecdb6b2e:59452978,43673d8cbcf333000852118b46be6f21:1874425787,1f5b2f4ddde3330015f322d4ae3eb1d1:-1960301562,4d31eb49b5e33300d6d709bf0a8334e7:-611613343,d234d9eb929f33006453097e0bcf14ad:1985559909,c409f89fd0d33300576adb35e9f96614:512688547,9e5f681bc8d33300209cb3e4a61efb6d:-363000234,38eaacd382d33300655917bf25e898e4:-1868440394,d8aae8d3efd333000b9da1def4a7a03e:1212302200,0e64e89f93933300d53a6f9478f961f0:-1868440394,a903645fae93330051cd97f8514a67ed:512688547,1e02ec5f6f93330060a10d72d7a90cb5:-1129205654,9101245f929333003135e52a5fe685af:223159602,c2e59817e29333002cd6e9de79d04179:-492399986,10bac4fcdb0e730011136abafa546bb3:512688547,ff216bd4a3427300e645b3cc4708b8b4:664138574,a09f53940b4273003c212573ba86a00b:833998153,873edb54a3427300111232220db27935:624439985,17ed57d82b027300d406c6e1cd114311:401014865,d57d5f149a42730070065cf88a4213e3:-1006188441,1f48039490027300a9ee2b645e73c014:932004304,8b18cf546d02730094c006f9e2e978cb:1391116571,1fc78f54fc027300fdb6383efd628ccf:-1363145,1f97c3545a027300c22213c625266730:932004304,4f17431457027300dd0a08e6642b2633:-2112163276,87f6c354b8027300fe5fe1b58271fd29:-1380891414,f2b60314bb027300769591a99bb13fdb:-1892896061,d496cbd04c027300798b923e5a687a3c:-871579342,b406cb140f02730050a2851d8f22ee2f:308437036,b695cbd09b02730034ef8820715735a6:2045987422,c0f4cfd05c0273006410c170948d15f7:-1396833278,b4240390a60273004d7be39b56a2c920:-1650492888,7de20790bc027300639b27a9055b495c:1991759433,cf528f5006027300878ae72450d678c6:2132028902,88024f10880273005e9020d5c541d9c0:-1937309295,c542bd38100e2b00214a76e6d3ddc994:819711297,9cc17538ee0e2b00ad0b9f4727253b41:-2009406898</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_48fdcc0c37022300d27b8cf6c3990e74</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Perform_Action_Condition&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Perform_Action_Condition&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Perform_Action_Condition = Class.create();
Perform_Action_Condition.prototype = {
	
	initialize: function() {
		this.utils = new Nutanix_Calm_Utils();
	},
	
	performActions: function(parent_uuid, action_name,action_type) {
		var syncFlag = '';
		var delFlag = '';
		var grQueue = new GlideRecord('x_nuta2_nutanix_ca_nutanix_process_queue');
		grQueue.addEncodedQuery('state!=complete^state!=error^topic!=startInventoryDelete^topic!=processImportedApp^topic!=importRecoveryPoints^topic!=processRecoveryPoints');
		grQueue.query();
		if(grQueue.next()) {
			syncFlag = '1';
		}
		if(gs.getProperty('x_nuta2_nutanix_ca.Delete_Flag')=='1') {
			delFlag = '1';
		}
		
		var app_action = new GlideRecord('x_nuta2_nutanix_ca_app_action_workflow_trigger');
		app_action.addQuery('actionsysid.parent_uuid',parent_uuid);
		app_action.addQuery('approval_status','waiting_for_approval');
		app_action.query();
		if(app_action.next()){
			gs.addErrorMessage(app_action.getDisplayValue('actionsysid')+' '+app_action.actionsysid.type+' action on this application is in waiting for approval state');
			return false;
		}
		
		var gr = new GlideRecord(this.utils.configuration.table.NutanixCalmApplication);
		var act_name = action_name+'';
		gr.addQuery('uuid',parent_uuid);
		gr.query();
		gr.next();
		
		if(syncFlag == '1' || delFlag == '1') {
			gs.addErrorMessage('A sync or a cleanup task is currently in progress. Please wait for them to finish.');
			return false;
		}
		if(gr.action_flag == '1') {
			gs.addErrorMessage('An action is currently in progress');
			return false;
		}
		else {
			
			if(gr.application_type == "SingleVM" &amp;&amp; gr.attributes + "" == "AWS_VM" &amp;&amp; act_name == "action_update" &amp;&amp; action_type == "system") {
				gs.addErrorMessage('This action is not supported for this version of the plugin.');
				return false;
			}
			
			else if(gr.state == 'error' &amp;&amp; !((act_name=='action_soft_delete' || act_name=='action_delete' || act_name=='action_update') &amp;&amp; action_type == 'system')) {
				gs.addErrorMessage('This action is not applicable for applications in '+gr.state+' state.');
				return false;
			}
			
			else if(gr.state == 'stopped' &amp;&amp; !((act_name == 'action_start' || act_name=='action_soft_delete' || act_name=='action_delete') &amp;&amp; action_type == 'system')) {
				gs.addErrorMessage('This action is not applicable for applications in '+gr.state+' state.');
				return false;
			}
			
			else if(gr.state == 'running' &amp;&amp; ((act_name=='action_create' || act_name=='action_start') &amp;&amp; action_type == 'system')) {
				gs.addErrorMessage('This action is not applicable for applications in '+gr.state+' state.');
				return false;
			}
			
			else if(gr.state == 'running' &amp;&amp; (act_name=='action_install_ngt' &amp;&amp; action_type == 'system') &amp;&amp; gr.ngt_state == 'INSTALLED') {
				gs.addErrorMessage('NGT is already installed on this VM.');
				return false;
			}
			
			else if(gr.state == 'running' &amp;&amp; ((act_name=='action_manage_ngt' || act_name=='action_uninstall_ngt') &amp;&amp; action_type == 'system') &amp;&amp; (gr.ngt_state == 'MOUNTED' || gr.ngt_state == '' || gr.ngt_state == 'UNMOUNTED')) {
				gs.addErrorMessage('NGT has not been installed on this VM.');
				return false;
			}
			
			else if(gr.state == 'provisioning' || gr.state == 'deleting' || gr.state == 'stopping' || gr.state == 'starting' || gr.state == 'busy') {
				gs.addErrorMessage('This application is still in an intermediate state.');
				return false;
			}
			
			else if(gr.state == 'deleted') {
				gs.addErrorMessage('This application has been deleted. No actions are permitted.');
				return false;
			}
			
			else {
				//this.logger.info('App action '+"'"+act_name+"'"+' started on app: '+gr.name);
				return true;
			}
		}
	},
	
	type: 'Perform_Action_Condition'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;bharat.vajj&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-23 05:50:39&lt;/sys_created_on&gt;&lt;sys_id&gt;48fdcc0c37022300d27b8cf6c3990e74&lt;/sys_id&gt;&lt;sys_mod_count&gt;159&lt;/sys_mod_count&gt;&lt;sys_name&gt;Perform_Action_Condition&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_48fdcc0c37022300d27b8cf6c3990e74&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-06-17 13:41:49&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>531396157</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7a24eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>172c5c51e0d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Perform_Action_Condition</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>1809ebc4d4e5185049949449542aaee8</update_guid>
<update_guid_history>1809ebc4d4e5185049949449542aaee8:531396157,c0a6a38491e518509594aaab995e25f4:1067458900,1c08c4fa6866081009dad76c2396f0e9:-71507678,00692f1b06d100102ba4518bb8a43d2f:-1948120933,307ccdc82149cc502b98cd8bcdc19363:302609277,6a2e29ceddf84850fc5253ef33be03da:799483885,a8b2edbd5bfc08509c67a5fb04d60a0f:-799527030,aca2e9fd71fc0850cbd5e833d01d27b4:950669860,34f1a1fd82fc0850ecc85d5eee0bebf7:-2009032402,0b6e37edffb80850ed4e1b608776bc0b:-1788494962,694ef3adb2b808507f46c924650fe4e1:-277295911,5b2ef7ad74b808500c046b75d45319d5:-1337209421,628d7b6d5db80850a4b0a00f812ab1a3:779870643,5f5c7b6df7b80850912791165c7a1b9b:-2134502441,5d7bbf2d67b808502a42ff6e6fd57226:755427872,bccc18adbf300850fe43ce5201a89c59:-268305861,24d957dd4a7cc45099d853c187c41641:-1661552416,8497975d207cc450a52a20db266aa9fc:-2110858161,234d8b9d043cc4504ed8626382c178ce:-1439879941,8d42c35dfb3cc45002d95064c7817c07:-1702923935,f191c35d583cc45067e169c516e6b701:1935735489,4f16c6b733e4c0505015cffd55939c60:1370905064,633d315fb2d88410eb24ade51754c0bb:-2110858161,28ac315f8ed88410e6f286d2d973eba3:2113016463,1a1c315f73d8841013407a5676bd5c9d:1189718377,2c2af1979ed88410843ad79ac8180682:-620978539,f2a7b117f0d884106b14d4888f61bb60:-532940665,bb6771175bd88410798c3df6000211c3:-2026098525,da37791769d884104171db78794983cc:-1779740797,f56679d34bd88410c6ec078313f8b4ad:-901270680,3e143513ccd88410e14e4357e187fdb3:-425020646,6bd331537fd884105afe71b312af5c6f:-1250427456,af23719fec98841068833e7dabf4d4dd:2063022688,a142f15ff5988410bc68061738ee93b7:-905757493,50227ddf079884107ee960ff2e2b8101:1304595713,2ea13ddfdb9884101deff59a6f962aca:-1773903188,5f31f9db1f988410c2148a60ec4cf561:1725143961,ac9ee19b2d9884100acbda990b0a7aa0:-580947367,afab6d9b509884102f63ef536bdd0b8b:-1963615463,f8985d5f501884104172fdd31d7c7392:271582329,4f9e38eedfdd4c1076c8fe3c724c8c8f:2122413379,b4fa38429eb37300e77113165e86e25a:68984605,85e0ab3ce867330077227731030fa87b:199833766,f1de1f780d673300c2cbd1d7d3a8a879:1848113617,56f71b343c6733008de62f7c81ed13d5:1198978907,93e4d4d389db33000273f829a5613e05:1701136332,ebde9b32361333009dd15961d631e084:-1760563894,df3e57f2af133300bfb35be109f10eb0:-1699764072,bb1eb5214ed233008ddcc51ce31c00de:-2116063618,0d4ecb789af133001ca88d98a67e8c04:1317191390,a2ccfe7c8eb1330024a95343e6164755:1143249449,290b763c5eb133001f104f8ec8ab89a2:-1888581014,dfe5fe3825b13300f99c3b9be09c8677:342781022,6275b678beb133008340407f99658a42:-1573740433,c0553e3857b13300aaa29a94ce14f42f:1555694183,1c93bef43fb133007d7eebc33d866872:-135550913,b00c6eb068b13300de1b89097f7a7ae6:-1850518382,d27622bc75713300d2e0436f6a6b7762:1147225668,2d46aabcaa713300a4b63dad4215f1cb:-2086272542,cc366e7c3f713300322a1ff687b67592:-815871902,01a713f1fa213300167edf527fdb0247:1147225668,dde64144d0217300dd6d724baca090c2:-696246998,8a49b08811ed3300bfea198c304cb5dd:271054555,dcdf12938b9d33004e841b2a47028917:1093481519,fc8b5f5930f8f3007c48db6c847eb945:506376105,23627d5765143300e3cc77a0dc4411ba:1445991395,2f523d571c143300a3f234f232cea2ce:1565862111,d5523d573f143300150ccc7158acd28f:644241486,4132f99f45d0330082d426f9b92b4848:1376042678,b86e555724d0330070c7f971f95e0221:620111787,073e151b2cd03300f50342eb9219be30:-1901422283,778dd11be7d0330044b600d754bebfef:1376042678,95d65d53afd03300d27ee40355a1e355:-158834636,7f565153fdd0330008d28d120780ba7b:529267043,ae05d5df4b903300dffac5d848438249:-1872883875,44da051b41903300d986b6c539950eda:1371661168,aa38cdd790903300480244aa0a155c26:-1197759325,492785970a90330041f62cffa41fef60:682281307,46074597669033009a34cec91e1787c9:-1699978395,4886cd974a903300b7e14223011b8ad8:682281307,93d2fc9beb5033007103aa0a382d6219:1484489994,e0b23cd7495033009e21e452e9164e69:-211469527,0d72789b15503300b616f85473fa0aa2:469043965,aa2b4a96ab9033006d4f8bd18fa632fc:414820531,7c5ac696e99033004f57121a0a808cc9:-1857761197,7c680e5670903300c0106979d63657ab:887657393,3cf2a4a0249a230012ca0da9d2b5de02:-150583061,d2689068af5a23004349817289f55e70:1173178190,f24a52bfb34223000d5b31a21493bc5e:-326562047,7bb90a67194623004e5038faa2a57100:-1180250553,81aae52fc2c2230028e80b6bb761a332:1729450905,801ae12f67c2230045817579c1a3aacf:-31284007,edde7cebb142230098db90fad9654b47:1832543898,11d970e74742230072ca6439ff32e788:-1490758908,596fec2f060223003ded65af4da17b2d:958755774,0ae124271d022300e871b1ca87776492:-1687088203,839766e9c1822300fc3f946bc708769e:-533856106,5706ae69a782230018fa2f722229835a:330051734,0848c6610c422300603f6b61a6fec4de:-1358179786,c6d5c2edb1022300752e1f459605c62e:2051801313,cd470589f60ea300a9d69ebfe1d370c6:-2120550399,b033eddc648e2300aa02b35203ba7665:-1795079113,64e2e11040ce230087e40363c916b0b6:-1045573434,80d2e110c9ce2300c8cb8c47f6f8f7b0:-175585334,a0a2e110fbce2300342beaade7c4bf7b:-1045573434,6d52a1dc4b8e23006e76c81c4f563c9a:506550422,0920e19c558e2300cf86f46d636c5d30:-71999656,e9fb5518058e2300f39ef2bfd4007089:-1035480341,1e94d154b78e2300fc733bbbe0b03a78:1648150067,16341d14078e2300270ca033d120793c:2032582189,c424d9147a8e230090bc71fac84c8fc9:1690591667,ebd359143a8e23007cc8898ed000c629:-1888441997,47435114238e2300ad3f0182236a3b74:451603609,5d4315d0ee8e2300563abd9a71403ce4:1385233402,ac9255d0dd8e23001ebc8413deee95d8:-597078253,147255d09f8e230073fed6c84b4c8dd3:-1081353716,8eb195902d8e23008e4701660b237119:-2072963105,06f09950178e23009e4de64d77394011:647440501,35af65c44246230049b73415d705cf5f:163001214,936a19c89d062300d14765deb19ed017:-997384510,a6fd3040dac223007e1f4bd63530da27:557823749,24bcfc8c5982230002bd6e955cda7dc8:-2138533889,67fbbc8cea82230003830c30c03af5bd:-269320221,7cebbc8c67822300c103a45522a481cb:-1052639957,5ea9308c1882230089547308f42391ee:-150425459,f769b04ceb822300422c8264d294d81f:833427437,8ae8f40ceb82230036ad5429e1920fbb:1759159445,09e7b40c308223004f579d015567bb82:-1632478838,d1b7300c96822300664042b49deb8200:-1112838997,8687300c998223004acc80f44bfeafc8:-1136903127,7d37b8c863822300b67cc8e8dedef32d:521230449,c327fcc8498223005dc8f856354980d8:681140264,9ac678c82a8223008bf8e913f7c56998:-877642893,c586f0c81282230099ba9b554c547b9f:-436800476,4706f0c85a8223006b5bdfa132e9fc89:1611622917,fed570c865822300d609b983aaa191e7:-871676986,ef4968c02482230073296f4fb3bf8583:259182906,060924c02b82230007ba406f8412b2ca:-1351672634,0c0928809a822300d5780a77b4f04196:1965635410,a4c4e0cc16422300c52a40e41728a8ee:924194822,aa646c8c464223008383bee4a0a6b6b9:-1915011874,62c3608ca1422300653e189f316b8a29:-2039064578,a323684c43422300029d3910ce489088:-486080131,3c92e04cb6422300c5af43115b1f2053:-1040544021,78b1e00c85422300e66425b66f3af056:-486080131,6d81a40cb84223009e4b27496b0ce843:-1548692218,ea3168c8e54223009a4c915312104e38:-1031373249,12d068c8fe422300cefa5de6a8fb19e7:1655555320,05b064c8924223004c51990a2106b07a:924194822,4b9068c8dc4223000e0c471233a8a929:627584094,158068c8e74223008c099908a059a1e0:924194822,df1064c890422300ce9f386902fe6141:-653784927,feef18887c42230040f3d3a32d890f60:1333483748,1e2fd4883f42230039fabe8389f93f76:802840430,438e1088844223000769cdde1d8a0f14:896064,323e98485542230020d19e5c85800ca8:-1863049792,d9fd5048a54223008dfc087682cbb901:896064,89dddc08ff42230011a895e222d3c359:-1863049792,848d9c0834422300f08597acc39578f4:896064,a71dd40896422300fefd07f3966cccc3:1489028316,3f9c9408b24223002b82132d548eaea1:-811813236,7dfb58c450422300e5250588dd9f77ac:-1863049792,f26bdc8439422300cc8785f7c93c60ba:896064,3e1bdc84c84223002b63513f82d3e7e5:-1863049792,c28adc840042230005fb7f9dc0e183b1:-1986837931,523a98845242230071cd61540086d2f2:563995138,3fa990849c422300cc5cb0b789eb7c3a:-953523512,08c85044ce4223005b39276e0c5cb1db:1943121139,1bf7d4c000422300adb5e9f0c2552c9d:-1116166220,ca4658406e422300c55fb08bce4cb914:-756809074,58845000ee42230044ed4c3f7945366a:-1734747341,07335800174223005e6e6ddb1dfae420:-1444036331,d95210cc52022300089533445bd7803e:1434413226,9cd09c8c0102230042b73b809dc3e382:1890817927,b2a0d48cc0022300de7d1b3781b2d36f:707133560,e1cfc40cfd0223004b3ca25f6889839c:1764459991</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_a4b207ae37112300d27b8cf6c3990e1a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;refresh_queues&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;true&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition/&gt;&lt;form_action&gt;false&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;true&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Refresh Queues&lt;/name&gt;&lt;onclick&gt;refreshQueues()&lt;/onclick&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function refreshQueues()
{
	if(GlideList2.get("x_nuta2_nutanix_ca_nutanix_process_queue").refresh())
		{
			setTimeout(function() {refreshQueues(); }, 1000);
		}
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;mumtaz.ansari&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-25 06:31:55&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a4b207ae37112300d27b8cf6c3990e1a&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Refresh Queues&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_a4b207ae37112300d27b8cf6c3990e1a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 13:23:09&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_nutanix_process_queue&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>773625566</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7a24eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217bb8a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_nutanix_process_queue</table>
<target_name>Refresh Queues</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>cdbbc70a88581410cf5d0d5735fe66de</update_guid>
<update_guid_history>cdbbc70a88581410cf5d0d5735fe66de:773625566,d579a330f2612300bf9ffa93456082a7:1740296944,d313076edb112300c0bea25559feb5b3:1143531854</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_user_role_contains_e26c229ddb8554100315f282399619a9</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role_contains"><sys_user_role_contains action="INSERT_OR_UPDATE"><contains display_value="catalog" name="catalog">e098ecf6c0a80165002aaec84d906014</contains><role display_value="x_nuta2_nutanix_ca.user" name="x_nuta2_nutanix_ca.user">3376fd254f452b001200e5201310c717</role><sys_class_name>sys_user_role_contains</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2020-05-27 09:58:06</sys_created_on><sys_id>e26c229ddb8554100315f282399619a9</sys_id><sys_mod_count>0</sys_mod_count><sys_name>catalog.x_nuta2_nutanix_ca.user</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_user_role_contains_e26c229ddb8554100315f282399619a9</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-05-27 09:58:06</sys_updated_on></sys_user_role_contains></record_update>]]></payload>
<payload_hash>-1973351132</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>7a24eee4db711010eeb9808768961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17292d762000000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>catalog.x_nuta2_nutanix_ca.user</target_name>
<type>Contained Role</type>
<update_domain>global</update_domain>
<update_guid>326c2a9d2c855410ea4640e91bc7129b</update_guid>
<update_guid_history>326c2a9d2c855410ea4640e91bc7129b:-1973351132</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_client_604e55d8dbdac4900a41ab7dca9619ad</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;action_flag&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Check Application status on calm&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	if(g_form.getValue('state') != 'deleted'){
		var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
		var loadingDialog = new GlideModal("loader", true);
		loadingDialog.setTitle('Validate application status on calm...'); //Set the loading dialog title here...
		loadingDialog.renderWithContent(''+loadingHTML);
		
		var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
		ga.addParam('sysparm_name', 'checkApplicationValidityOnCalm');
		ga.addParam('sysparm_app_uuid', g_form.getValue('uuid'));
		ga.getXML(ApplicationStatusParse);
		
		function ApplicationStatusParse(response) {
			var answer = response.responseXML.documentElement.getAttribute("answer");
			if(answer == 'appDeleted'){
				alert("This application is not available at Calm. So, cant perform action on it . Redirecting back to Application list page.");
				
				self.location = './x_nuta2_nutanix_ca_nutanix_calm_application_list.do?sysparm_query=state!=deleted^assigned_toDYNAMIC90d1921e5f510100a9ad2572f2b477fe^ORapplicatoin_created_by=javascript:gs.getUserName()^ORDERBYDESCsys_updated_on^ORapplicatoin_created_by=javascript:gs.getUser().getEmail()^ORDERBYDESCsys_updated_on&amp;sysparm_userpref_module=765c2e8637012300d27b8cf6c3990e4d&amp;sysparm_clear_stack=true';
			}
			new GlideModal().get("loader").destroy();
		}
	}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-08 08:58:46&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;604e55d8dbdac4900a41ab7dca9619ad&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Check Application status on calm&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_604e55d8dbdac4900a41ab7dca9619ad&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 08:38:48&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_nutanix_calm_application&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>342906065</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7e24eae4db711010eeb98087689619e8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c5690000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_nutanix_calm_application</table>
<target_name>Check Application status on calm</target_name>
<type>Client Script</type>
<update_domain>global</update_domain>
<update_guid>7721bb34ac0c5c10cd0a13dd4b9c914d</update_guid>
<update_guid_history>7721bb34ac0c5c10cd0a13dd4b9c914d:342906065,b347d564893f40103cf96292fe24d956:2081683825,29bddd7953c3c850651654e319899cad:-338669295,5badd13974c3c85095f641ae94bb95d0:1459926180,800d1975acc3c85061ae3cfb973a010b:1856923629,99a54c726ce2c4100459c517df8a281c:-107732070,6180aff46792c8907b6b4ca8f296f44b:-642752615,d33cc3f07cde8890b9050ff25d8f720b:1008580923,44761ee4851248909a42d743fa3941f0:-1453089775,a4c0655cfadac490ec342cbacb77e469:-2021610858,a040e91c92dac49065c784597e7b15a6:-1627247420</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_transform_map_a3243fc637c12300d27b8cf6c3990e6b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_transform_map"&gt;&lt;sys_transform_map action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;copy_empty_fields&gt;false&lt;/copy_empty_fields&gt;&lt;create_new_record_on_empty_coalesce_fields&gt;false&lt;/create_new_record_on_empty_coalesce_fields&gt;&lt;enforce_mandatory_fields&gt;No&lt;/enforce_mandatory_fields&gt;&lt;name&gt;Nutanix Calm Application - Map&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;run_business_rules&gt;false&lt;/run_business_rules&gt;&lt;run_script&gt;true&lt;/run_script&gt;&lt;script&gt;&lt;![CDATA[(function transformRow(source, target, map, log, isUpdate) {

	var utils = new Nutanix_Calm_Utils();
	var logger = new Nutanix_Calm_Logger();
	
	// inserting into action related table
	if(source.action_list &amp;&amp; source.state != "deleted") {
		
		var parseAction = JSON.parse(source.action_list);
		for(var i = 0; i&lt;parseAction.length; i++){
			
			var action_name = '';
			var aname = '';
			var grAction = new GlideRecord(utils.configuration.table.NutanixCalmAction);
			grAction.addQuery('uuid',parseAction[i].uuid);
			grAction.query();
			if(grAction.next()){
				
				grAction.name = parseAction[i].name;
				
				action_name = parseAction[i].name;
				
				var action_name_vars = ['action_install_ngt','action_manage_ngt','action_uninstall_ngt','action_update'];
				if(action_name_vars.indexOf(action_name) != -1) {
					var action_name_json = {'action_install_ngt':'Install NGT',
											'action_manage_ngt':'Manage NGT',
											'action_uninstall_ngt':'Uninstall NGT',
											'action_update' : 'App Edit'};
					action_name = action_name_json[action_name];
				}
				else {
					if(parseAction[i].type == "system") {
						aname = action_name.replace('action_','').replace('_',' ');
						aname = aname.split(" ");
						for (var j = 0, x = aname.length; j &lt; x; j++) {
							aname[j] = aname[j][0].toUpperCase() + aname[j].substr(1);
						}
						action_name = aname.join(" ");
					}
				}
				
				grAction.action_name = action_name;
				grAction.uuid = parseAction[i].uuid;
				grAction.state = parseAction[i].state;
				grAction.critical = parseAction[i].critical;
				grAction.type = parseAction[i].type;
				grAction.description = parseAction[i].description;
				grAction.parent_uuid = source.uuid;
				grAction.parent_name = source.name;
				grAction.action_variables = JSON.stringify(parseAction[i].runbook.variable_list);
				
				grAction.update();
				
			} else {
				
				grAction.initialize();
				
				grAction.name = parseAction[i].name;
				
				action_name = parseAction[i].name;
				
				var action_name_vars = ['action_install_ngt','action_manage_ngt','action_uninstall_ngt','action_update'];
				if(action_name_vars.indexOf(action_name) != -1) {
					var action_name_json = {'action_install_ngt':'Install NGT',
											'action_manage_ngt':'Manage NGT',
											'action_uninstall_ngt':'Uninstall NGT',
											'action_update' : 'App Edit'};
					action_name = action_name_json[action_name];
				}
				else {
					if(parseAction[i].type == "system") {
						aname = action_name.replace('action_','').replace('_',' ');
						aname = aname.split(" ");
						for (var j = 0, x = aname.length; j &lt; x; j++) {
							aname[j] = aname[j][0].toUpperCase() + aname[j].substr(1);
						}
						action_name = aname.join(" ");
					}
				}			
				
				grAction.action_name = action_name;
				grAction.uuid = parseAction[i].uuid;
				grAction.state = parseAction[i].state;
				grAction.critical = parseAction[i].critical;
				grAction.type = parseAction[i].type;
				grAction.description = parseAction[i].description;
				grAction.parent_uuid = source.uuid;
				grAction.parent_name = source.name;
				grAction.action_variables = JSON.stringify(parseAction[i].runbook.variable_list);
				grAction.insert();
			}
		}
	}
	
	var template_type = '';
	if(source.app_metadata) {
		var appMetadata = JSON.parse(source.app_metadata);
			
		target.project_uuid = (appMetadata.project_reference &amp;&amp; appMetadata.project_reference.name) ? appMetadata.project_reference.name + '' : '';
			
		if(appMetadata.categories &amp;&amp; appMetadata.categories.TemplateType &amp;&amp; appMetadata.categories.TemplateType == 'Vm') {
			template_type = 'single_vm';
			target.application_type = 'SingleVM';
		}
		else
			target.application_type = 'MultiVM';
	}
	
	// inserting into Deployment related table
	if(source.deployment_list &amp;&amp; source.state != "deleted") {
		
		var parseDeploy = JSON.parse(source.deployment_list);
		
		for(var j = 0; j&lt;parseDeploy.length; j++) {
			
			var elements = (parseDeploy[j].substrate_configuration &amp;&amp; parseDeploy[j].substrate_configuration.element_list) ? parseDeploy[j].substrate_configuration.element_list : [] ;
			//var l = 1;
			var name = '';
			
			for(var p in elements){
				
				if(elements.length&gt;1)
					target.nutanix_ip_address[elements[p].name+'['+p+']'] = elements[p].address+'';
				else
					target.nutanix_ip_address[elements[p].name+''] = elements[p].address+'';
				
				if(template_type == 'single_vm' &amp;&amp; utils.versionNewCheck()) {
					
					target.attributes = elements[p].type + '';
					
					var substrate_uuid = elements[p].uuid + '';
					var app_uuid = source.uuid + '';
					var recovery_param_json = {"substrate_uuid":substrate_uuid, "app_uuid":app_uuid, "substrate_provider":elements[p].type + ""};
					
					var current_supported_providers = ["AHV_VM","AWS_VM","VMWARE_VM"];
					
					if(current_supported_providers.indexOf(elements[p].type) != -1)
						utils.insertIntoQueue("importRecoveryPoints", 'POST', JSON.stringify(recovery_param_json) + '', '', 'Imports Recovery Points', 'This job imports the recovery points of an application.');
					
					var platform_data = elements[p].platform_data ? JSON.parse(elements[p].platform_data) : {};
					
					if(platform_data &amp;&amp; platform_data.status &amp;&amp; platform_data.status.resources &amp;&amp; platform_data.status.resources.guest_tools &amp;&amp; platform_data.status.resources.guest_tools.nutanix_guest_tools) {
						
						var ngt_json = platform_data.status.resources.guest_tools.nutanix_guest_tools;
						var services_arr = [];
						if(ngt_json &amp;&amp; ngt_json.enabled_capability_list &amp;&amp; ngt_json.enabled_capability_list.indexOf('SELF_SERVICE_RESTORE') != -1)
							services_arr.push('SSR');
						if(ngt_json &amp;&amp; ngt_json.enabled_capability_list &amp;&amp; ngt_json.enabled_capability_list.indexOf('VSS_SNAPSHOT') != -1)
							services_arr.push('VSS');
						target.services_enabled = services_arr.toString();
						
						target.ngt_state = (ngt_json.ngt_state &amp;&amp; ngt_json.ngt_state == 'UNINSTALLED') ? ngt_json.iso_mount_state + '' : ngt_json.ngt_state + '';
					}
					else {
						target.services_enabled = '';
						target.ngt_state = '';
					}
				}
			}
// 			for(var p = 0; p &lt; elements.length ; p++){
// 				if(target.nutanix_ip_address[elements[p].name+'']){
// 					name = elements[p].name+'_'+l;
// 					l++;
// 				}else
// 					name = elements[p].name+'';
// 				var address = elements[p].address+'';
// 				target.nutanix_ip_address[name] = address;
// 			}
		}
	}
	
	if(source.owner_reference)
		target.applicatoin_created_by = JSON.parse(source.owner_reference).name;
	
	if (target.assigned_to) {
	    target.assigned_to = target.assigned_to;
	} else {
	    var user = new GlideRecord('sys_user');
	    if (user.get(source.applicatoin_created_by))
	        target.assigned_to = source.applicatoin_created_by;
	}
	
	
	if(source.app_blueprint_reference){
		var parseBp = JSON.parse(source.app_blueprint_reference);
		target.blueprint_name = parseBp.name;
		target.blueprint_uuid = parseBp.uuid;
	}
	
	if(source.cloned_from_reference) {
		target.cloned_from = JSON.parse(source.cloned_from_reference).name + '';
	}
	
	target.description_html = utils.markdown_renderer(source.description) + '';
	
})(source, target, map, log, action==="update");]]&gt;&lt;/script&gt;&lt;source_table&gt;x_nuta2_nutanix_ca_nutanix_staging_application&lt;/source_table&gt;&lt;sys_class_name&gt;sys_transform_map&lt;/sys_class_name&gt;&lt;sys_created_by&gt;mumtaz.ansari&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-11 10:34:39&lt;/sys_created_on&gt;&lt;sys_id&gt;a3243fc637c12300d27b8cf6c3990e6b&lt;/sys_id&gt;&lt;sys_mod_count&gt;160&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix Calm Application - Map&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_transform_map_a3243fc637c12300d27b8cf6c3990e6b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;priyanka.more&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-25 02:59:44&lt;/sys_updated_on&gt;&lt;target_table&gt;x_nuta2_nutanix_ca_nutanix_calm_application&lt;/target_table&gt;&lt;/sys_transform_map&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1336392543</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>7e24eae4db711010eeb98087689619eb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1724a4c67a20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix Calm Application - Map</target_name>
<type>Table Transform Map</type>
<update_domain>global</update_domain>
<update_guid>7679be605349581010237e8d12b75203</update_guid>
<update_guid_history>7679be605349581010237e8d12b75203:-1336392543,3b91b4794a9850105095549ca14e88f0:-1976105306,335a0b7b4e034490fafdb0d8a7404128:784793158,ccfe41ff5ec704908d41be6d7305533e:-491240684,7c4b6e0c21460c108b01bf940bb220d5:61376316,11cbe129ef79441073f74013767355dd:1602196688,42a6e5ad38394410c3c3429549abd07f:1209537370,d716e5ad73394410f00f146fb1f59a7b:-548369981,915a15a57b394410799ee5d32f0af4e5:-1711729856,29fd096917f544107c5c7a0acd40045e:1404288783,8d63ef78a17dc01052845864805845d9:-1460919597,47972bd77fd10010f03735a23bfdb7d8:1770172446,a5b0238f06d9cc10e1cc6f577f3a7940:1770172446,a3cddf4ff6d9cc1044e4d8cde0e16fcb:1318642392,704b1f8b3cd9cc103afc0330fa90ffeb:-944917562,cf065b0323d9cc107e5de3c5ed4a1201:1955479105,373dffaed43bf3005e18d9ff90d7de55:1933969287,9f3f3a2a4c77f3005e965be945b730b6:1474624707,6ffe7222aeb7f300b26560b91f2c2813:-1805398772,e66ef26279b7f3004a823edb23a98748:1960464583,6b66dacc5b33b3002b2a97a4caaff6b6:-1023355645,18e8813302637300a8c7c4d3211249f6:1173961923,a9142925c2ef7300696c3a9d7a28deee:1588813593,3e5129219cef73000377863ee122b2db:1818213177,8b2367fc42673300c55b840de5fd2808:-628110416,6d1e4afcc063330021e31322fd700385:1923958796,34eb4dd257f23300ae126d752549963b:-149429827,f4f1b9dc00723300efde72e21ba55f70:337127655,cd49f80cafb233004214925f51910ec2:-446458169,36dbcfef7d2233006206de0633951385:618525927,9d3ac3efc22233000b47b7337fc65a27:1044845721,5ab90723fd623300c0c2733a7f3c6037:-1000048489,b4880faff82233002136e13f0174f5ad:1021688652,b9c64f2b45223300b806d2da109725a9:-754873424,beb4721767e23300d5e0a6915fd0b9a7:165789403,17343edfeaa23300103caf2663ea1a07:-332889573,43037a5310e23300d0383812551e1dcc:-20691335,24ded65758a23300a3f9b34ad95eac58:-482516800,3ffc9e1703a233004816aa0610f9cf18:1609587903,ac5df216b7a23300689277250d1da9eb:36207969,3daa36d24ca233004f16578985e5565b:567253046,e639f25252a2330025eef98ab96653c2:1807975030,1ca5f6de3962330030b02528312254ba:-381154666,6f70fe1e5c6233005b89e0eeb612e17e:-1049317130,42203a1e43623300ab677ca170d29ae5:-381154666,d8bfe29ad9623300ae9dd7472f6bb78d:-1930407248,137ea6da5f62330096859a6826e97249:-299126645,bf5e6e9aae623300decbe742ec449070:-1485600123,790de25af5623300c463b429d9fdd447:-499266698,826c78b98ca233000ea97ebe93355b05:98535997,000cbc79c6a233007b6fa09a29ac3470:-2100108856,9f7ab0b916a23300b861626008df3636:-2037392880,6ea9b4b18da233000cb26e8cbb088bbb:1745952446,c208b47572a2330060976c9e25593740:186873155,a324b83579a233000159ba25dcb8c27a:-898564815,5b3c37999bae3300b3853615cecc6f5e:-714496609,077bff1925ae330042223cf954bd36f0:372798139,6d7a3711876e3300adc592e18fba2f1d:152528258,f4793611b92e3300126a381de153c8e2:509039646,f1a3ba95186a3300621bb8ffa02f2647:747211576,1b41b24d1aa23300b5441266b69f2aa5:1617904995,1fac660993a23300777e319ccbc7a6b1:-1855148322,f9013cddee52330086c7f56775a306dc:1617904995,95ef1c5d635233003df3719d9bda0739:-1290641320,0ceeecb8fbc23300e86af5480cae7a18:-163941384,9b0fa6882c257300da9000fecef0077b:1485115216,9f5f608c6dad330065302f05f3f0c2cd:-1145503294,d966ac40a7ad33004a459019f82b3664:-1725385437,5a5a31ffbbd53300e3bab0bde29b2e1d:-437626801,d039f1bf46d5330098e79e38be51ff95:787148292,2d5875bb0cd5330097f00f8ae22f184a:-926027452,30f0f93b99d53300f5bf9b5f8d6ce320:-783058321,01ae65b7dcd533007e7f1439bf41a1ef:1853668095,f5bded77cfd53300757f9ea1e0761c32:40005721,186c69b39ed53300b7a966d7de28fa82:1470085981,c53765ff419533008f5ccd717603d043:407842134,de65a9bf1995330086d7532c09c0cee9:-1094065248,5632e97bd09533001cffaee5e1be40ac:-1899421391,ada3a8370315330081a16c2f8b7752be:-606325898,4ef57196b15033004597e6ef5ecf12d5:-34749832,8b83b596cc50330014bbcaee26fdcc66:2095185137,7b457409bd10330088a983ba8f4a8d21:-161434383,45da89c9e4b7230084eec610668c2196:-1072768745,c6388549afb723006c2e73f71cd1913a:1193703383,38150945d4b72300c42942d430962ccc:-266459718,26f734c572772300a0ab2e1db511f192:-2099657182,899330059b772300fb9e3d5e37bb30a9:1434588448,c8b2b0c1de772300bb1184452628715a:-821287671,cf41f0414c772300456f533cfb38dd8a:-1809874847,6af0fc0163772300b3b5ecd94b6b9aee:-1870501741,2290fccd69372300e2fc02f07e401c60:32859719,4720b88da6372300d65807c2550282bc:1021285840,c2cea08d00372300cf932ba3df6a5450:305504497,ba67e8854af32300bc249daaf225d675:-477173672,33b6644572f32300e9cbb8329b0fa783:748052792,0b55644593f323002ea39972a05b2a3c:-247228840,75b5a617de2b6300fd681fd229016fbd:1309008792,9c16518790af2300c06af0517c5e793f:-66879853,be73d18783af230023d0d4259b414446:805567315,de639d471caf230046b6537da1d78429:1322760608,4e53d1872caf23003db257c7866d8b35:1334682848,09c29d4703af2300f56512c918161026:856449056,1142d98386af230001336e203a34c699:-568388364,c3e115471faf23001e6fc06a971886bc:1053051698,d55d858f2a6f2300ab252efb7cd4b6d8:1400769523,c39a458f076f2300063587fe59514bc8:-2099896209,60a6058f266f2300e1565ba665548f98:-1996027373,2f954d475c6f2300317f6411be6c937d:1218117912,df63c1832a6f2300bc93522b1f7cf7c2:-1568329478,27a94b5a169e2300d1e45c675b3edc30:348049098,39972994e3962300a5c8eb69568bbd98:-1400525151,d039616b88c223007fc3b07c71501b52:-960171711,ca13619f3a4623005ef6f8240a21b735:1629610166,d8f1e55ff2462300d0f2b34cb29d6931:-963441986,1f316d1f40462300131782871de4948f:643735254,bfc9ee2dcc822300606111bd3f3dea7f:1860207364,6a39e62d22822300eb6f6d64a1d77893:1464765366,d4e0ae97a0b12300e12bfb8e5e5ee4e9:-1216372596,4efa1edfc17123001f452930d7df581b:2000194551,37b8965f94712300dcbac03feda8d257:-517145215,f45c96e848612300d922df80ce46a25b:757223655,0aa7026c872123006bd01ac9aa037268:-565493005,ca9db9507ced2300488244da0a2a23e6:257958332,ecebf110ffed23000cf875aaea76d9bb:-1048714913,bf9b79dc6dad230019d0c7b3209527e1:-1257846657,5b156d7b97cd2300fe7c4ae9d36173f7:810407250,7a9a92c4e99123008f58de34cdd7cc2a:-1057694689,75fbb0efa2052300da5b1ffcfdc36273:413143637,9cebb423034523005ecc34a3f4ac8c7b:-1273324073,c3bbb4230c45230056621a47ff295750:234468633,e71bbcafea0523006ed7e9d9d072f2ee:-1873327073,51babcafbb052300fd5b9a318d22ddeb:663478101,5f31d9661385e300e23a07626e6854e6:1330153899,ceee0de2cd85e3008e841c10704523b2:-658204773,ab3605ae5c45e3008482bf90e2871bee:734229010,f7e5cd2e5b45e3001876838ce5908763:-286432436,de75896e0d45e3007c2f790fceacd9ad:200524864,9bb141aabd45e300ea8adb62ebab8c25:1739836539,8560cd6a7845e300c340148f1ccb039a:1194628404,9c30856a3a45e3005cf5d61ed37a6519:1920281090,2a9fbca6ca45e300531bf5f61a9fedb8:140183962,da5fb82af545e300285256c5e9d61cca:-497217638,b93ffc2afb45e3002831972c0e5002aa:-881955211,f48e7ce6ec45e3000ac53d5c2835274a:1747935637,8d9dbca61145e3003948ca13be3d23b0:-1562746653,72ccb4264045e300a35a2c15762db67c:-1841925439,702c70664145e300f91f702c5c9f7c97:960201602,3af970263d45e3009bf65b0a20127081:1623340329,b419f4e22345e300c113e779c7e98734:-1289197646,dada282a8005e300235e37a84536ed6d:1029683239,0e29242a6b05e3004acd184ce477e53a:2022091055,5d09202ae005e300537755b8a3477c58:2042148448,11738c6228c1e300fe3479e536a0c029:2068763023,04b2c0eefd81e300ee97de3d274a78ac:1671006214,cd9eff5e6e81e30010d2bd700a378a3b:396639238,56006816f4452300ea654e39bd1fcf77:-1025962379,5fee9016a54523003ee70d5872fb9606:-1684560605,28fb5852be4523001d38111f88a7d1d0:881619399,164bd85234452300deba9f0ed4b32afd:-567919958,dedcc8d6690523003c8eb93e186971b9:-84386238,e8abc8d65b05230076a56eea2b2547ac:-1343138141,f21b84d6d90523006a52dcddeb2c9748:1190759421,f18acc9643052300866a936508fe276b:710347827,cb98885652052300af356cfd78b02021:-754307686,6f1b778ab4c123002b5a7e7ea6275149:826837452,ba643f8216c12300e40975dbb198e239:2087395093</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_script_4afcce9ddb376300bfa82a9a48961951</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description/&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;x_nuta2_nutanix_ca.final_provider_script&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

var profileArray = [];
function getProfiles() {
	var cat_sys_id = g_form.getUniqueValue();
	
	var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Fetching project and profile...'); 
	loadingDialog.renderWithContent(''+loadingHTML);
	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'fetchProjectAndProfileList');
	ga.addParam('sysparm_catSysID', cat_sys_id);
	ga.getXML(parseProfiles, null, loadingDialog);
}
function parseProfiles(response, loadingDialog) {
	var answer = response.responseXML.documentElement.getAttribute('answer');
	var parsed = JSON.parse(answer);
	var profileList = String(parsed.profileList).split(',');
	for (i = 0; i &lt; profileList.length; i++) {
		profileArray.push(profileList[i] + '');
	}
	setProviderIcons(loadingDialog);
}
function setProviderIcons(loadingDialog) {
	var cat_sys_id = g_form.getUniqueValue();
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'fetchProviderIcons');
	ga.addParam('sysparm_catId', cat_sys_id);
	ga.getXML(parseResponse, null , loadingDialog);
}
function parseResponse(response, loadingDialog) {
	var htmlStr = '';
	var profDiv = '';
	var answer = response.responseXML.documentElement.getAttribute('answer');
	var parsed = JSON.parse(answer);
	var providerarray = [];
	$j(".bodyData").html('');
	for (var i = 0; i &lt; parsed.length; i++) {
		var providerStr = '';
		var profilename = parsed[i].profile;
		if(profileArray.includes(profilename)) {
			profDiv = '&lt;div style="display: inline-block; overflow: hidden; vertical-align: middle; text-overflow: ellipsis; width: 35%; font-weight: bold; padding-top: 5px;"&gt;'+profilename+'&lt;/div&gt;';
			providerarray = parsed[i].providers.toLowerCase().split(',');
			var uniqueArray = function (arrArg) {
				return arrArg.filter(function (elem, pos, arr) {
					return arr.indexOf(elem) == pos;
				});
			};
			providerarray = uniqueArray(providerarray.concat(providerarray));
			for (var j = 0; j &lt; providerarray.length; j++) {
				if(providerarray[j]!='') {
					providerStr = providerStr + '&lt;img id="'+providerarray[j]+'_img" src="'+providerarray[j]+'.svg" width="20" height="20" style="display:inline"/&gt;';
				}
			}
			htmlStr = htmlStr +'&lt;div style=" display:flex; justify-content:space-between; margin-right: 15px;  border-radius:4px; padding:5px; border:1px solid #bdc0c4; flex-basis:40%;"&gt;' + profDiv + '&lt;div style="display: flex; align-items: center; justify-content: center;"&gt;' + providerStr + '&lt;/div&gt;&lt;/div&gt;';
		}
	}
	var startDiv = '&lt;div style="display: flex; width: 50%; height:40px;"&gt;';
	var endDiv = '&lt;/div&gt;';
	$j(".bodyData").append(startDiv+htmlStr+endDiv);
	new GlideModal().get("loader").destroy();
}]]&gt;&lt;/script&gt;&lt;script_name&gt;final_provider_script&lt;/script_name&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-02-22 12:00:25&lt;/sys_created_on&gt;&lt;sys_id&gt;4afcce9ddb376300bfa82a9a48961951&lt;/sys_id&gt;&lt;sys_mod_count&gt;56&lt;/sys_mod_count&gt;&lt;sys_name&gt;x_nuta2_nutanix_ca.final_provider_script&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_4afcce9ddb376300bfa82a9a48961951&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 10:28:04&lt;/sys_updated_on&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>2056442026</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>7e24eee4db711010eeb9808768961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c80d0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.final_provider_script</target_name>
<type>UI Script</type>
<update_domain>global</update_domain>
<update_guid>ac3a4c09eb4c5c105fb863a0c6c1bd89</update_guid>
<update_guid_history>ac3a4c09eb4c5c105fb863a0c6c1bd89:2056442026,278c298438f33300b3f393cc75b33573:-607913365,0eb9d98862b33300bbcabcd5442baaa1:-417856131,26a17fc11d2733007bb7c650e4b3e25b:565264575,723b3c8fdb433300d5981ab068286eea:1161722898,ad1a788f834333007697d9c30b1b0864:-2104321052,cd9a44fa3d43330044468a7563157e3f:1575477416,e25a84ba73433300ca180087a13dcf53:-1194817388,3693b7aae1033300c2e5c7a287b1d9ce:961475197,fc9ea7268e033300995205e3b8196251:-1886696475,6a0d6fe23e0333003d09908d429a8223:1164357082,7783ab1efa4f3300194ee250ea0c01e2:-180014096,b8622bdaae4f33000edf8ccc3dc8ee60:138422113,afa16b1e524f3300f956aee3a94174f9:-91136967,88cbba89f783330038cd11dc604ce062:1781633379,2e6a7a89dc83330045fbd53da03d3c8a:1049769899,b31a768978833300068c629035f8b35d:-335570124,b2c93a4901833300abb3fbf9f4c849fe:-1194817388,b3cb0c30e84e7300b7947759877d823b:-335570124,75828078b50e7300b0ed0396bab1cc1b:-103229527,318a6f2434ca7300551b351e971d6ea8:1521472979,676a6b2458ca730020508c3abb42c7c2:-1364293342,75b928a08806730043bfc0039ba6f846:1521472979,c1205c14f5ac3300ffb18f20ca764731:740246091,c28f8490ddac330084adb229bd6f7bd7:519109336,e988747c9c98b300af4fdd996f2e9ed9:-155195185,d4e5f4780098b300d01a3198def89b5c:1509334128,fcbd9e40c15073005c52595eafc214eb:-1955932812,197d5e007a507300fa9d0976b9c4f5c6:1478848461,d72c5e40e65073003350652918e7bc03:-1955932812,28d896cce210730008f1a6afbb451a0f:-1456528001,d59812cc8c107300a1c75e609d47a7aa:-23135328,86085a8cae107300bc0ad6c82212b49f:-1939133677,e557de4cc8107300ce64460619c1faab:-1980977175,fde65a4c4a107300ca377f120adeff94:260435654,91f45288d210730084c525b447ecab50:1901921874,414ad1169bf3230049f6a3b10b8518cc:-1020904497,7739d55279f3230044ef9b3c8e4573ac:-1523517578,2557d51265f323005e669986146e0d46:492024249,97f6199ed6b32300cfc4e6f6683e56ee:1497767975,9ce555debcb32300fc72e2d8b0c65c42:-341014651,10c5199ef4b32300d2e4aeec43f8eaea:1289780819,27b4dd5626b3230028464aaa2f9b2f20:1540133863,5c17c19267b32300aedda39bf3e1f16d:122519754,e845055617b32300652466ef30415584:1583104645,6e73cdd29bb3230056171f92b465c6a0:951895738,a6f24992cdb32300c271d91169c40c66:-532258962,2737a556d43367004c0d8caa570be145:-1020904497,cc3761962a3367005f366ef884338f93:1421900244,24f569d69e732300e5aefaf1f5f53e44:-1020904497,6b9f749e3173230011515081481d0b06:-570900988,159fb05e967323007604311f1a73c93f:655143437,c61ffc96be7323005fa29360aa5502ec:-570900988,8922b856f07323008836b35e94f1aa37:655143437,64d13cd286732300e94495e8b6a78c3e:-143787830,32edec12287323006d1cb784c18167f8:-1071736203,45bdec120073230053895f056c6b29f4:-1715807366,4d8da49e473323007515d91827d19b16:-1208507915,387da89ed5332300972f45d408839527:-932892288,359c24da7f332300e07aca6423d6c96c:1890884900,918a689e5233230078ff48bcde2523f0:1118695230,331a285e2d332300dac642c0c9cf25b5:497427931,40396052f8332300b641c172f371a96e:24181444,18a8605252332300d62730a1e8d42654:537752138,a458685aea33230085ccf1d712196d4d:1010998625,21482c9ad43323001137cc46c1653aae:-636882795,84d760529c33230083139ad0c38f0e9e:918262050,3955a6199577630063d905ca7d2950c1:-259800615,233566ddc8776300bcf0b30f2c8b73cf:-1676061448,27b4a291e4776300e7b1a0abd67adb94:1846716178,4402d2dd1e376300b7ca9f4ef230c002:1506486645,151d069d9f376300d82d609b71570757:1468141281</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_f0d855e337212300fdfc097973990e2b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Set Fields Value&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	//Type appropriate comment here, and begin script below
	var performAction = (g_form.getValue('type'))?g_form.getValue('type'):getParameterValue('performAction')+'';
	
	if(getParameterValue('performAction')+''){
		g_form.setValue('type', performAction);
		
		g_form.setValue('url', (self.location+'').split('&amp;b&amp;')[0]);		
		
		if( performAction == 'update' || performAction == 'addProfile'){
			var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
			var loadingDialog = new GlideModal('loader', true);
			loadingDialog.setTitle('Fetching runtime variables value...'); //Set the loading dialog title here...
			loadingDialog.renderWithContent(''+loadingHTML);
			
			var sysId = getParameterValue('sys_id')+'';


			var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
			ga.addParam('sysparm_name', 'fetchRuntimeVariablesValue');
			ga.addParam('sysparm_sysId', sysId);
			ga.getXML(processResponse, null, loadingDialog);

			function processResponse(response, loadingDialog) {
				var answer = response.responseXML.documentElement.getAttribute("answer");
				var variableValue = JSON.parse(answer);

				g_form.clearOptions('project');
				g_form.clearOptions('blueprint');

				g_form.setMandatory('project', false);
				g_form.setMandatory('blueprint', false);
				g_form.setMandatory('type_of_blueprint', false);

				g_form.setReadOnly('project', true);
				g_form.setReadOnly('blueprint', true);
				g_form.setReadOnly('type_of_blueprint', true);

				var project = variableValue['project'];
				g_form.addOption('project', project.uuid+'', project.name+'');

				var blueprint1 = variableValue['blueprint'];
				g_form.addOption('blueprint', blueprint1.sys_id+'', blueprint1.name+'');

				var blueprintType = '';

				if( blueprint1['class']+'' == 'x_nuta2_nutanix_ca_nutanix_blueprint' )
					blueprintType = 'unpublished';
				else
					blueprintType = 'published';

				g_form.setValue('type_of_blueprint', blueprintType);

				g_form.setValue('cat_item', variableValue['item_name']+'');

				if(performAction == 'update'){
					g_form.clearOptions('application_profile');

					var application_profile = variableValue['application_profile'];
					var names = application_profile.names.split(',');
					var sys_ids = application_profile.sys_ids.split(',');

					for(var i=0; i&lt;names.length; i++){
						g_form.addOption('application_profile', sys_ids[i]+'', names[i]+'');
					}	
				}
				new GlideModal().get("loader").destroy();
			}
		}

		if( performAction == 'addProfile' ){
			g_form.setValue('type', 'new');

			g_form.setMandatory('create_catalog', false);
			g_form.setReadOnly('create_catalog', true);
			g_form.setValue('create_catalog', 'no');
		}		
	
		var data = getParameterValue('data');

		g_form.setValue('type_of_blueprint', 'published');
		g_form.setValue('type_of_blueprint', 'unpublished');

		if(data){
			data = JSON.parse(decodeURIComponent(data));
			g_form.setValue('project', data.project);
			g_form.setValue('type_of_blueprint', data.type);
		}
		
	}else{	
		
		var data = {
				"project": g_form.getValue('project'),
				"type": g_form.getValue('type_of_blueprint'),
				"blueprint": g_form.getValue('blueprint'),
				"profile": g_form.getValue('application_profile')
			};
		
		self.location = g_form.getValue('url')+'&amp;b&amp;data='+JSON.stringify(data);
	}
	
}

function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-09 11:39:36&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;f0d855e337212300fdfc097973990e2b&lt;/sys_id&gt;&lt;sys_mod_count&gt;74&lt;/sys_mod_count&gt;&lt;sys_name&gt;Set Fields Value&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_f0d855e337212300fdfc097973990e2b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:32:13&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-484471055</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>b224eae4db711010eeb98087689619e7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c5410000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Set Fields Value</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>ecf1efb8ab885c10cd7d38175f38c373</update_guid>
<update_guid_history>ecf1efb8ab885c10cd7d38175f38c373:-484471055,c1b79d64c43f40103cff854fd8f5a1cb:-1359079439,aca3f90c6df33300c3e7a166efb353ad:595491389,4c5555c461b3330089a403bf8a8dbc5e:1936727840,2245eb4907e33300d21c054ba220da9f:1582938483,a941d5f0ed4333003f7eabfcd6c3d376:-1949603073,6731ddf099433300d1d3119d37e773b1:286729628,1a4b0830004e7300c1b9519505b7f972:-1949603073,8fb1c478380e7300560d642e82a95007:-2111558348,74307f50708273005084860af1efceb0:1595191068,01358945edb72300ff34ef4bda5486a4:-1889455290,e5f4490528b7230057d1a1f71925b1c7:459069404,f194814507b72300cb71dc1acaf2a6af:-1235805224,7923cdc1f9b72300f2235754a64764e0:-2117201992,079281c128b72300244cf20b24a0c010:-131222997,3eb14941c4b7230026f38cf7cf3e40ea:-247805176,bd2df8cd647723000bfae736934e02f4:-1068515412,ef3c7c8d0077230034a683dae234bfe6:-1620423251,07cb788df9772300186700215d01533f:-2090602168,6b3afc0d79772300113dbbbc33fbc203:-896522946,0bf838c51b772300e9315287bae6ffcf:-2105663922,76d8f4893e7723003b19f1af0da9be02:-2030606682,e5b2b4c1a97723003e33be614d58f190:-90980338,f37270c1df772300c1855087395b5ee9:-1273488466,be42fc814f7723008b590472979bec21:-735147932,9d12b8814d772300a0bb8bb4b7fc0638:174733702,0be1fc41d3772300357338c677704f25:622212287,64c1f8414b77230066555e20e947889e:-1201918068,5481384136772300a0ce0c53f85a4ffd:-848645116,f5e4ec053ff323000d3b9c4272b9ba75:1953560927,1334e40513f32300312331421c447641:-1956115318,ef32e081d0f3230086da1fa40d3c8d39:-869156164,7ce12c4188f32300acce6ca777a546eb:1044278530,fb706041d2f32300696efa6d4a1f2eef:-1062129820,33df9401fdf323007309df6b01b43638:1705684556,520a095594ce6b001d626f2c3011ddc8:-436142656,31f9815563ce6b00dd3b06c51e919ebd:-234641667,cb4446d8e7c2e700433a5e164a40ca2d:-436142656,c5be5397b979e3000fea0b2d8d2d6f71:-1282308650,38086e1baf75e300104835cf71011d10:-1070825034,d9ca1fba8871a3002a7f320c9d8f9195:284108420,f159977ad871a3001f7918e8bf0dcd21:529010214,fc49977a9a71a30019538767860e5de7:687131721,44e8537a4571a300426d48c3d956bf51:529010214,3afec7b2c871a300f5a8a254b100a2cb:687131721,28bec3b24b71a300cd57f1dc392314e6:-1469957558,7e7ec3b28071a300cf4b4133f11a6f91:-242472457,ab524e6148f9a300ed645eeb07366243:748240058,e2708eed5eb9a300bedd78574fb77429:-1351440434,fd07c1e96939a300e1147df2b85805eb:1186986114,0fc601e97f39a3009774ec0cdee86992:-1276925837,358609a99039a300bcfefb9c994175ec:1751403543,7e418165ad39a300e1ec0bbaad0d7100:103680790,882e30656039a3001b2499b86b9d86e6:-100546375,476d7825ed39a30076b592c54386a837:-1998295963,ee5db0255139a300eab0f86308b06cc9:-1355836898,394db4252c39a30002337877d8ad9b12:-1998295963,ececfce1bd39a30019658d5d17e4c8b7:-132926143,0acc7ce1ee39a3007cb00de0b11cb997:-606498927,fbac7ce1e639a3009a192ccbd88cc54f:-1179205951,796c78e1be39a30036ad9b3ee74a1e54:555664398,97fa34a1ba39a300a2268df03c1fb2ed:976235255,9c2abc212539a30004df650403887e38:1941460891,491a7821c539a3008596102fc91779f0:-2227038,0878b4214d39a3007256d220f01d0263:1135298054,981738ed17f5a3009540722cebef2aaa:277700791,af22fa3c68bd2300619aeab1981f6749:-1433397603,2bdd2a38bdbd2300bed4f575f5fa6ba5:-427870899,2ecdceb0fb7d23006c98f28d1d7dfac0:99497236,bdadceb0367d23008cd91d816e208f78:473672693,b2f06de33f21230068c3dc1593215096:893638024,7d6ed127b221230033d8b54df0094515:877822643,69edd5e39c2123003c7f1d50472ddc93:-417066180,97b9d1e3462123003126666d573b940e:-292672363,246951e313212300c20f5f1e2d12764a:-192707034</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_80f7d83bdbd13300b4cbfbef29961962</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.getUserEmail&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;getUserEmail&lt;/name&gt;&lt;script&gt;&lt;![CDATA[function getUserEmail(){
	try {
			var gr = new GlideRecord('sys_user');
			if(gr.get(gs.getUserID()))
				{
					gs.info('Email: '+gr.email+'');
					return gr.email+'';
				}

		}
		catch(e) {
			gs.info(e);
		}
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-05-15 11:29:57&lt;/sys_created_on&gt;&lt;sys_id&gt;80f7d83bdbd13300b4cbfbef29961962&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;getUserEmail&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_80f7d83bdbd13300b4cbfbef29961962&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 12:21:42&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>1908211706</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>b224eae4db711010eeb98087689619ea</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217b9cf0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>getUserEmail</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>b8adfe8e2518141037cf82eb2d8f98a7</update_guid>
<update_guid_history>b8adfe8e2518141037cf82eb2d8f98a7:1908211706,ba78107b42d13300f2d3bb469e935b75:-724831284</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_1672ba391bf58410ac43877ddc4bcb81</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#confirmAct').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	
	$j('#confirmAct').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_restore_sys_id").value + "";
	var snapshot_uuid = gel("snapshot_uuid").value + "";
	
	var json_var = [{"name":"snapshot_id","value":snapshot_uuid},{"name":"remove_children","value":"false"},{"name":"consolidate","value":"false"},{"name":"suppress_power_on","value":"false"}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideDialogWindow.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description&gt;Snapshot Restore VMWare&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_restore_vmware.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if(not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_restore_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_restore");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_restore_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_restore_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_restore_sys_id" id="action_snapshot_restore_sys_id" value="${JS:action_snapshot_restore_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;div&gt;
		&lt;label style="margin-bottom: 10px;" class="control-label"&gt;&lt;b&gt;When you restore an application from a snapshot, the existing VM (hosting the application) returns to the selected state instead of creating a new VM.The current state of the VM is lost if it is not saved in the snapshot.&lt;/b&gt;&lt;/label&gt;
	&lt;/div&gt;
	
	&lt;div class="modal-footer"&gt;
		&lt;div class="row"&gt;
			&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
				&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
				&lt;button class="btn btn-primary" id="confirmAct"&gt;Confirm Restore&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;style&gt;
		input[type="checkbox"]  {
		margin: auto 4px 3px auto;
		}
	&lt;/style&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_restore_vmware&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-19 10:18:42&lt;/sys_created_on&gt;&lt;sys_id&gt;1672ba391bf58410ac43877ddc4bcb81&lt;/sys_id&gt;&lt;sys_mod_count&gt;19&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_restore_vmware&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_1672ba391bf58410ac43877ddc4bcb81&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:11:24&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-2113588619</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>b224eae4db711010eeb98087689619ed</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b344270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_restore_vmware</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>86696f561f9094103ae032de6cb06be5</update_guid>
<update_guid_history>86696f561f9094103ae032de6cb06be5:-2113588619,d60b8bc6a8581410abe874048baa8e03:1907210695,4d7d93af98338c106d507e345c0dc082:-2032800352,d92a93af8a338c108269632ad65bd87e:-1724867509,8d5d57c9376ac010a0c55382e5441b36:738601523,316a9f09816ac010b2c003ee1c27bc43:25907641,504953c5526ac0104fd2d387f85b9183:-534540055,12a6db456e6ac010bf6c5bc58ea3fda6:-789283614,1f1417013c6ac010ba71b8d50e4fe681:-2106962054,098f90cc8b1a84504b4c7d60b3a307c2:1592894512,28ebfe154e8acc100598e4b821ea4cc7:-673387010,757a721d174acc1045545acb40f408f8:-254793853,56cc838be67d4810a322d2685bee3737:1315891053,953b0f0b857d48106fbc58ee7e8c27b8:770564690,ff5987874b7d481014da154530fc5641:766526593,aa960747b37d4810a189a838f27f903a:144842034,d145c7c3ae7d4810ed1acae2a2091229:218277546,cb258307ed7d4810144d533a797c5789:-443184788,90c4c7c3a47d4810415d8eb9011fb840:-1344123852,acc27e398af58410a18b854d1769f8d9:1203546820</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_59d27cdd4f5233008373224f9310c77b</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var os_type = gel("os_type").value + "";
var ngtState = gel("ngt_state").value + "";
var calm_version = gel("calm_version").value + "";
var ngt_services = gel("ngt_services").value + "";

var $j = jQuery.noConflict();

if(ngt_services) {
	ngt_services = ngt_services.split(',');	
	if(ngt_services.indexOf('SSR') != -1)	
		$j('#ngt_self_service_restore').prop('checked', true);	
	if(ngt_services.indexOf('VSS') != -1)	
		$j('#ngt_vss_snapshot').prop('checked', true);	
}

if(calm_version != "2.7" &amp;&amp; ngtState == "MOUNTED") {
	$j('#unmountNGT').show();
	$j('#skipAndMount').hide();
}

if(os_type == 'Windows')
	$j('#Windows_guest_script').show();

$j('#script_windows').on('shown.bs.collapse', function() {
    $j("#icon_change").addClass('icon-chevron-down').removeClass('icon-chevron-right');
});

$j('#script_windows').on('hidden.bs.collapse', function() {
    $j("#icon_change").addClass('icon-chevron-right').removeClass('icon-chevron-down');
});

new GlideModal().get("dialog_loading").destroy();

$j('#skipAndMount').mousedown(skipAndMount);
$j('#cancelAct').mousedown(cancelDialog);
$j('#enterCreds').mousedown(showCredentialForm);
$j('#submitCreds').mousedown(runWithCreds);
$j('#unmountNGT').mousedown(unmountNGT);
$j("input").click(function(){ $j(".error_data").html('');});

function unmountNGT() {
	var ngt_json = _getFormValues();
	for(var i = 0; i &lt; ngt_json.length; i++) {
		if(ngt_json[i].name == "ngt_mount_state") {
			ngt_json[i].value = "UNMOUNTED";
		}
	}
	$j('#skipAndMount').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	$j('#enterCreds').prop("disabled", true);
	$j('#submitCreds').prop("disabled", true);
	$j('#unmountNGT').prop("disabled", true);
	ngtRunAction(ngt_json);
}

function cancelDialog() {
	GlideModal.get().destroy();
}

function _ngtScriptWindows(ngtValue) {
	
	var winRMAuth = $j('#win_rm').is(":checked");
 
	if(winRMAuth &amp;&amp; os_type == 'Windows')
		ngtValue = "$c = New-SelfSignedCertificate -DnsName $env:computername -CertStoreLocation cert:\\LocalMachine\\My ; \nwinrm create winrm/config/Listener?Address=*+Transport=HTTPS \"@{Hostname=`\"$env:computername`\";CertificateThumbprint=`\"$($c.ThumbPrint)`\"}\" \n cmd /c 'winrm set winrm/config/service/auth @{Basic=\"true\"}';\n netsh advfirewall firewall add rule name=\\\"WinRM-HTTPS\\\" dir=in localport=5986 protocol=TCP action=allow";
	
	return ngtValue;
}

function _getFormValues() {
	
	var act_json = ["${JS:sysparm_actVarsArr}"];
	var parsed_act_json = JSON.parse(act_json);
	
	var ssr_status = $j('#ngt_self_service_restore').is(":checked").toString();
	var vss_status = $j('#ngt_vss_snapshot').is(":checked").toString();
	var ngt_restart = $j("input[name='ngt_restart']:checked").val();
	var ngt_state = '';
	var ngt_script = '';
	var ngt_mount_state = '';
	
	for(var i in parsed_act_json) {
		if(parsed_act_json[i].name == 'ngt_state')
			ngt_state = parsed_act_json[i].value + '';
		if(parsed_act_json[i].name == 'ngt_script')
			ngt_script =_ngtScriptWindows(parsed_act_json[i].value + '');
		if(parsed_act_json[i].name == 'ngt_mount_state')
			ngt_mount_state = parsed_act_json[i].value + '';
	}
	
	var ngt_json = [{"name":"ngt_self_service_restore","value":ssr_status},{"name":"ngt_vss_snapshot","value":vss_status},{"name":"ngt_restart","value":ngt_restart},{"name":"ngt_state","value":ngt_state},{"name":"ngt_username","value":""},{"name":"ngt_password"},{"name":"ngt_script","value":ngt_script},{"name":"ngt_mount_state","value":ngt_mount_state}];
	
	return ngt_json;
}

function showCredentialForm() {
	$j('#cancelAct').hide();
	$j('#enterCreds').hide();
	$j('.ngt-form').hide();
	$j('.credential-form').show();
	$j('#submitCreds').show();
}

function _getCredentials() {
	var cred_install_json = _getFormValues();
	
	for(var i in cred_install_json) {
		if(cred_install_json[i].name == "ngt_username")
			cred_install_json[i].value = $j('#ngt_username').val();
		if(cred_install_json[i].name == "ngt_password")
			cred_install_json[i].value = $j('#ngt_password').val();
		if(cred_install_json[i].name == 'ngt_state')
			cred_install_json[i].value = 'INSTALLED';
	}
	
	return cred_install_json;
}

function skipAndMount() {
	ngtRunAction(_getFormValues());
	$j('#skipAndMount').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	$j('#enterCreds').prop("disabled", true);
	$j('#submitCreds').prop("disabled", true);
}

function runWithCreds() {
	if($j('#ngt_username').val() &amp;&amp; $j('#ngt_password').val()) {
		ngtRunAction(_getCredentials());
		$j('#skipAndMount').prop("disabled", true);
		$j('#cancelAct').prop("disabled", true);
		$j('#enterCreds').prop("disabled", true);
		$j('#submitCreds').prop("disabled", true);
	}
	else {
		$j(".error_data").html('');
		$j(".error_data").html('&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;Please enter credentials.&lt;/div&gt;');
	}
}

function ngtRunAction(install_ngt_json) {
	
	var actSysId = "${JS:sysparm_sysId}";
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', actSysId+'');
	gajax.addParam('sysparm_actionVars', JSON.stringify(install_ngt_json));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}]]&gt;&lt;/client_script&gt;&lt;description&gt;NGT install page&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Install_NGT.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
    
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var calm_version = gs.getProperty("x_nuta2_nutanix_ca.calm_version") + '';
		
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		if(not.get('${JS:sysparm_sysId}'))
		{
			var app_id = not.parent_uuid+'';
		}
		var app_json = appUtil.makeCalmApiCall('GET', '/apps/'+app_id, '');
		var os_type = JSON.parse(app_json.getBody()).status.resources.deployment_list[0].substrate_configuration.os_type + '';
		var ngt_state = "";
		var ngt_services = "";
		var app_gr = new GlideRecordSecure("x_nuta2_nutanix_ca_nutanix_calm_application");
		app_gr.addQuery("uuid", app_id);
		app_gr.query();
		if(app_gr.next()) {
			ngt_state = app_gr.ngt_state + "";
			ngt_services = app_gr.services_enabled + "";
		}
		ngt_state;
		os_type;
		calm_version;
		ngt_services;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="ngt_state" id="ngt_state" value="${JS:ngt_state}"/&gt;
	&lt;input type="hidden" name="os_type" id="os_type" value="${JS:os_type}"/&gt;
	&lt;input type="hidden" name="calm_version" id="calm_version" value="${JS:calm_version}"/&gt;
	&lt;input type="hidden" name="ngt_services" id="ngt_services" value="${JS:ngt_services}"/&gt;
	
	&lt;body&gt;
		&lt;div class="error_data"&gt;&lt;/div&gt;
		&lt;div class="ngt-form"&gt;
			&lt;div class="form-group"&gt;
				&lt;label style="margin-bottom: 10px;" class="control-label"&gt;With NGT, you can also choose to install the following applications&lt;/label&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-checkbox"&gt;
						&lt;input id="ngt_self_service_restore" class="checkbox" type="checkbox" value="false"/&gt;
						&lt;label for="ngt_self_service_restore" class="checkbox-label" id="ssr_label"&gt;Enable Self Service Restore (SSR)&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-checkbox"&gt;
						&lt;input id="ngt_vss_snapshot" class="checkbox" type="checkbox" value="false"/&gt;
						&lt;label for="ngt_vss_snapshot" class="checkbox-label" id="vss_label"&gt;Enable Volume Snapshot Service (VSS)&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;div style="border-bottom: 2px solid #e6e6e6; padding-top: 5px;"&gt;&lt;/div&gt;
			&lt;div style="padding-top: 7px;"&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input class="radio" type="radio" name="ngt_restart" id="restart_immediate" value="true"/&gt;
						&lt;label for="restart_immediate" class="radio-label" id="restart_immediate_label"&gt;Restart as soon as the install is completed&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
				&lt;div class="form-group" style="display:none;"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input class="radio" type="radio" name="ngt_restart" id="restart_date" value="" disabled=""/&gt;
						&lt;label for="restart_date" class="radio-label" id="restart_date_label"&gt;Restart at specific date and time after the install is completed&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
				&lt;div class="form-group"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input class="radio" type="radio" name="ngt_restart" id="skip_restart" value="false" checked=""/&gt;
						&lt;label for="skip_restart" class="radio-label" id="skip_restart_label"&gt;Skip restart&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;
            &lt;div class="alert alert-warning" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;&lt;b&gt;Warning:&lt;/b&gt;To install NGT on your VM, you must enter credentials for the installed image. If you want to do it later, you can simply mount NGT for now.&lt;/div&gt;
			&lt;/div&gt;
			&lt;div class="credential-form" style="display:none"&gt;
				&lt;label class="form-input"&gt;Enter guest operating username and password below&lt;/label&gt;
				&lt;div class="form-group"&gt;
					&lt;label&gt;Username&lt;/label&gt;
					&lt;input type="text" class="form-control" spellcheck="false" name="ngt_username" id="ngt_username" placeholder="Username" maxlength="64" value="" /&gt;
				&lt;/div&gt;
				&lt;div class="form-group"&gt;
					&lt;label&gt;Password&lt;/label&gt;
					&lt;input type="password" class="form-control" spellcheck="false" name="ngt_password" id="ngt_password" maxlength="64" placeholder="Password" value="" autocomplete="new-password"/&gt;
				&lt;/div&gt;
				&lt;div id="Windows_guest_script" style="display: none; padding-top: 10px;"&gt;
				&lt;span class="input-group-radio"&gt;
					&lt;input id="win_rm" class="checkbox" type="checkbox" checked=""/&gt;
					&lt;label for="win_rm" class="checkbox-label" id="win_rm_label"&gt;Enable WinRM in basic auth mode&lt;/label&gt;
				&lt;/span&gt;
				&lt;div data-toggle="collapse" data-target="#script_windows" style="padding-top: 10px;"&gt;
					&lt;span id="icon_change" class="icon-chevron-down" style="padding-right: 5px;"/&gt;&lt;strong&gt;&lt;label&gt;Script&lt;/label&gt;&lt;/strong&gt;
				&lt;/div&gt;
				&lt;div id="script_windows" class="collapse in" style="padding-top: 10px;"&gt;
					&lt;textarea id="windows_guest_script" class="form-control" readOnly=""&gt;$c = New-SelfSignedCertificate -DnsName $env:computername -CertStoreLocation cert:\LocalMachine\My ; 
winrm create winrm/config/Listener?Address=*+Transport=HTTPS "@{Hostname=`"$env:computername`";CertificateThumbprint=`"$($c.ThumbPrint)`"}" 
 cmd /c 'winrm set winrm/config/service/auth @{Basic="true"}';
 netsh advfirewall firewall add rule name=\"WinRM-HTTPS\" dir=in localport=5986 protocol=TCP action=allow&lt;/textarea&gt;
				&lt;/div&gt; 
			&lt;/div&gt;
			&lt;/div&gt;
		&lt;div class="modal-footer"&gt;
                    &lt;div class="row"&gt;
                        &lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
                            &lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
							&lt;button class="btn btn-default" id="skipAndMount"&gt;Skip and Mount&lt;/button&gt;
							&lt;button class="btn btn-default" id="unmountNGT" style="display: none;"&gt;Unmount&lt;/button&gt;
                            &lt;button class="btn btn-primary" id="enterCreds"&gt;Enter Credentials&lt;/button&gt;
							&lt;button class="btn btn-primary" id="submitCreds" style="display:none;"&gt;Done&lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
		&lt;/body&gt;
		&lt;style&gt;
			input[type="checkbox"]  {
			margin: auto 4px 3px auto;
			}
			input[type="radio"]  {
			margin: auto 10px 3px auto;
			}
		&lt;/style&gt;
    &lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Install_NGT&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-26 12:03:39&lt;/sys_created_on&gt;&lt;sys_id&gt;59d27cdd4f5233008373224f9310c77b&lt;/sys_id&gt;&lt;sys_mod_count&gt;174&lt;/sys_mod_count&gt;&lt;sys_name&gt;Install_NGT&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_59d27cdd4f5233008373224f9310c77b&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-29 07:54:09&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>793826922</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>b224eee4db711010eeb9808768961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171c4f4a9c20000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Install_NGT</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>0283c65427a4d410a574582bef25b912</update_guid>
<update_guid_history>0283c65427a4d410a574582bef25b912:793826922,05682b564d9094107f9ec41b227af553:473418396,4a1d470a66581410d0f194ee2ea5d24e:-1228237778,4123ad3ba6ccd010df375202a47f0f59:2123485350,dc01187e546608109eb29f156c98446c:-364906201,9afb883e49660810abbe6579ec54c43b:-489417659,99cbc8fed7660810a4281679f2ed5e20:-1968676031,c109087eef660810dd7dfef0916f6a4d:-884254455,dc868c3a6b660810dfa35188dee3b284:635836661,e945487a0466081006fc19e1886316d1:758277053,78848cf6c36608104d9d9c2201c472ef:1516930500,828fdbc9e26ac01088fc37456e93aad0:-20085160,aaf9b7400b6a0010db3976347554bd7f:-299521289,5fc97b00fd6a0010e6f8f9c532d473b0:-976151207,0059b7cc7b2a00104ed1ff3043bc71da:1560587595,6d197b00f26a00107db6290cb010ef93:1359069481,13087b8c852a00101642256da999b1ee:547193926,53977b8cca2a0010bcf06a3ca5ea1098:565161912,fe577f8c922a00103ec70d70659d0f26:-878835074,0fd677c8bd2a00100439c1639a8cd3e2:565161912,a396b34c5a2a0010ff5bf30b9a589435:-680167432,0766ff4c4b2a00100c93fc6f26c97ebe:-1132882843,5746334cae2a00104a8f88e2d9315f21:684146552,fb35334ccd2a0010dc0edc2d7eef140d:2023984474,d4157f0c102a0010b073fc0190c4066d:-157597893,45c47b0c612a0010164557e4d1f0fe7d:1292781490,e25473c85b2a0010c7144653cde38584:1661346786,f424ff88172a0010df500037866c8fe1:-469170881,ea43b3883e2a00105932527916dd07fc:303918062,e913ff88782a00109bfac3d1b58e06c0:788428592,16f23b88ec2a00108d1bdaace9505c65:-1861373789,71e2f7885b2a0010322914a4c5e9a21b:-524718422,ba72bf48de2a001012991d870956736c:812239594,7252ff48632a001093d04087bf707644:186403858,ebf1b388082a0010a9fb541ea9c55593:-715559476,30b1bf482a2a0010184faffa23112e1a:221792132,7ecc9bc08ae60010e2683e1e16b9713e:1604048195,f39c53805ae600100fa45a8a59974e48:1346290992,e45cd384c7e600104ff55b7009beb10a:-1947559241,61cb9b8069e60010d4ddcbe48f8b5d6b:50072923,3b5a9780f5e6001094e72ce95d68bac8:-103295557,ae581b808de60010dbfe7fbbcc5e813a:1045210415,70185b801fe600103dbabdcbad86fca2:410064928,d5e79b804be60010aa880cd879231f63:1998795318,5cb75f0099e600105c7b5dd36c610ef2:-989503156,6937dbcc8ba600101cbdbc9bff730158:1105039174,eab61f00fde6001030e2e68459f23a8a:1459265063,c966df0003e6001088a48fb8decea7e7:1563835931,fd061f007ce6001007c6b6d6e8be7683:-1089499139,e5a59bcc30a600101c1a0b40416d02fd:-1141619343,20459fcc46a600101c21b0202fb7280c:-1752735070,75151b801ba60010ecc2d88895ff2a5a:-769035183,a8c4df084ca600102f42c84a922b20f9:-1941017205,caed0348a4a60010040d525f58dd4dae:477493084,a0ad4fc434a600101898c35ef7f73309:-731975210,193d4bc40aa60010fa405d3d3d6eb82c:-428671603,f90d0bc41fa60010087c8dfe69d506a7:300159797,ad27cf00a0a600107cfdeca8f2fa10bd:1115202829,314685045a9a8450e77020120a6e8be3:-1414198682,4fb3e0802b5a84503d0a1c2f35a2e213:1458892626,1c9d9f0241550010018aef980fe463cc:-1543489018,d8cd7aa3b5b48c50251370fc9c985b60:1336997582,d56013d0a1cecc107d235a26c40d0bae:-1590785783,17afcf70cf3d8410943128b7cc3d46b4:-1475968780,5e7f87b01d3d8410fb9f6156c5f854c4:-1218569322,603fc3b0b03d84107741965efc688df7:-427453370,2e0fc3b0663d84106e2cc009cab689f0:2006232166,12de0b70a53d84104b187be39c0dadcd:-1218569322,6e7e4f70d23d8410dd121193e81420b6:696451797,0b1e0b709a3d84101b4f706ebce30cc2:-1278952286,dabdc370543d8410c96f1bfde7c0fef4:-1218569322,728d03707b3d8410785beff6f1a95baf:-1682139345,2fbcc730693d8410dafb94dec63e55a9:-1218569322,ac89240821750410e8f232c0c9bbfff6:-1572645709,13d8680898750410c8a20ba0163158a7:-1594412145,ffb62cc4f5750410f1d8b02d5e21845d:1498800939,7e26e8c4d87504105b934613b827e829:365059029,2cb5ec8c17350410f7fba6d8a0ec327a:-554523686,6465e4c45c750410dbac2235297590ef:590418064,8f8b5400df75041056cb35e297fcd2ea:802236000,847b588cec3504107ee95628327f5ad8:1856800944,8f4bdc8cf8350410a5ef37d97ebcca6b:1802973679,3bea5c4c7b350410aaf7ed821a67b69d:-1966100933,9ef8584c8c35041060f5a243d81da877:-1000918925,a7c8904c013504102a844b8cc8748bd3:-237190165,2028180c8d350410fbff6b1d7a0c45ea:-1487656109,6ac718c8c135041092f19fa8f6b49e10:-2146293125,f867904cf53504109e3f347d5fe3dacc:1341587779,85b6180cdc35041037fb48b7e0da90ee:304549117,2e75d4c8bf350410dc71290cc3d180bb:-800084481,9f44148852350410cb945537b2390091:1967279185,6274408849f104106af1b89344de98d3:1061943790,5d2400887ff10410a5cc7ba5c40d7d30:1967279185,1b234048fcf104106ea5c92f1c00758b:-222455724,2d457bbf7fa10410c1c6bfc3da1a7eb8:1936701938,1ba18734a4594810a2b981f94f512737:306498099,434cdbba24410410482ce90ae53ac6fc:-1332751699,b9ca97ba4341041012928fa3a50b1d23:-526700991,0c7e2a326d8dc01019f30c94cd902fcb:1249519818,9e971f622845c010b4c8506370f14966:-970093002,28675f624e45c010603aadf9f0bdf1cc:852114711,94365f22a245c010643d1cd8379310f7:-443861547,4dd51b620045c010f281730cfb843d72:-1530883943,38b453eebe05c0100807a209b17cab06:-741689872,7bf3d322e345c010a2a66a2b43fbdf29:-636175700,3cc31beede05c010500c3d2115c2d833:1721527497,1c231beef205c010173e3b1dae3ec22e:-892375473,63f2532edb05c01015088eb89e616643:1759395186,d472932e2405c010500912bca0f69f91:600635481,e4209baae705c0101bd72282979c097b:2006547874,06df0bea8105c0108c681af2f164df03:-525996902,2a3fcfa61605c0107707b99dfd418032:1499274029,a42e8baa1905c010aa861a09af187874:-1457305104,a86b43e64305c010ffc91b960ca2ac57:1783687644,d3098f264c05c010f5551f3f1d545012:-761327996,ceb84fa6fd05c0101d635e124f64d133:693557147,9e984f26a305c0101fc753cac7ba33c8:-761327996,65e50f263805c010a0c29fa2e3cb35e9:929498822,90161e8ca433b300aaa725424d261740:-1944644151,c1dbfe1ef3233700e33d1f5e8dd0a0c0:-515664482,369026429567f30063d95a3d1cc660be:-1881244226,706f9e4e1227f300e911fc687f5b3d13:1889898374,01ee1a0acb67f3008f99fb419c13653f:-1283218348,592e16427c67f300ee3910a71685185a:-1038320341,50ed1ac202e3f30021738a36efbf5d3a:-1550860783,f9ee9dede7af730069104913824ed118:1160622142,949edded3eaf7300da774a2a324d2f9e:-1768765410,856e9ded9baf7300f73af173e1ac8703:1160622142,5c545f85e1ef33003433db217e54d197:2049770573,c4c353cd3daf3300f25d98ec7359ecf5:1522525447,8b13138117ef330022c7c0e948a2833a:1973176466,cd5217c5b36f3300035e2e2fd2cd2316:2118256194,49dde7c15a273300604c44c87ce3fc64:270294872,610daf81a9273300dbea897546e2781e:-1618000595,449a6ee7611f73006d8c949ab0ed9979:-1050662568,144fe563329b7300848585c86f5f3795:-639495053,b73515af261b7300912ff9419092c1f8:1147920901,753451ef571b7300b302d8c0d0065480:411095544,b914988da01f3300d10fd6be71082944:100299819,7f33508d131f33006d712f858b8b9fb4:-239415739,0960f79357c33300ec8b72010bda6452:518705927,8340b7930cc33300cd01fa2ebd87ec99:1217755770,55081bd38d8333000b82ed027efa17b1:518705927,f1579fd380833300e1ba3694f391d8f2:-1721389677,9ac65bd3c7833300605ad96a5c340f80:976127573,fba61b53468333006781e9fde343d93c:-2111790247,f37653930883330071c17859fe96c4ac:-1886675013,6ff4df13038333004551d5f62d747fa5:1085608179,fe345393b083330060cf048caabedaa7:1079512946,af230b1732433300237ad53b41c48fcc:820689220,771ffed34c433300093ace0507d29161:-1334186684,5d4e3a17e143330031abc1b41db343a6:-652845056,ba5d3a17db43330060a8457c5bb58ba2:-1572646874,9cccbadf51033300d42d4e4a522fb527:-1532000764,fd4c7ed311433300a143f4781f5ae49a:179912768,09eb76df5b033300725ffad097933425:-23500583,3bbb72537d0333003d1a5223076d620d:-325619886,db8bbadfda033300a7ac3b37d7a56b23:-1985745799,961125189c723300aaf913944a872a52:-1230978708,057ed9d4d172330099f047a65d2bbdf0:166842616,f83e91d40a7233007f4a5c6c8d077395:-349474385,dced15d4ad723300e6e4ed7dd7960458:-1645093611,690d51d403723300859e2e9ba65bf956:192129867,d20c5194843233008742f412ba17107e:-1055199975,89549d4878f233001a80595eab83cc97:1961058639,f114598cbcf233003bb8f03a14dab64e:-1935566842,abe35188d0f23300abd17a763e5a957f:378368935,d343d98835f233000e3e641cb5df226b:-523528166,89e2598c01f23300bd50f1bca3a3f220:842206061,3fb29d48c0f23300328ab28e91ff5b92:-1657731377,2562d988def2330098e0b8782d16daa4:-1915416369,e0a1d98814f233003055a51b31b03364:528982385,9b21594c98f23300c61440e895569161:-372790927,73d09d48a7f23300c11b6e31c24079eb:1965421014,46505d8cb9b23300ac1bd8c88383ff3d:1372061487,93df8d481af23300822013c9139418e6:180894127,5a2cc9889ef23300c4b707b5d59c4d5f:-1663729757,681bc98c94b23300674400e5cad3ddf2:-551073038,9aba81801cf23300042c00cf26d346d9:1389510585,c46a4148c3f23300e284221553b82ffc:-1166314437,c4694d8cf0b233006b74d27f1cb571af:82903326,cd29cd0833f23300f3a3aa04e24e1318:-430348842,20094d08f2f23300f9d3aa689d9a87a5:-2124086089,23b8418069f233000fe7c88e6a99e8b3:-2020518602,d4b5c18c4db23300f49fe23e6236ab01:2087955875,51b4c58cbab233003a47b7fcd144c3e7:537344984,ee545c443672330013fbf41f76f0c155:1025656578,a1a3d8447a7233005359ff1203722e60:-754625674,0e41d480d37233009b22a2089f6db9eb:-1495924334,9d2118c01a723300fa7e8dd8618fff31:1065370838,00605c80017233007eb9e8dde53b54cc:1810726887,31409c8059723300a52740f80f1af431:-1004910536,bfbf4c804f723300f0f770499c6e4ec7:-838601401,287fc080c872330006e16e7a81a4bc9f:345808635,808e04801d723300563acc89e1f1b9b8:-2006277205,a359f77390223300f0c2dd9c688b87b1:-98699345,a988f773f12233008d952624f386d1a0:-1889493712,250258b7f3e2330020fc9b80a97c77ba:-1312640950,d461983babe233002027169500ece1be:-1888670788,c688ae04f7623300bcdd3547b4e67093:-804269414,d9282244d162330074bcfca7e4b8f62e:53521758,3008ea80c36233004c5807b0faefc083:-758288957,cde72e04a06233008311ab569d99ba73:-1001156316,ef472e04ca62330034067b405ad83aaa:1292085458,55f622448b62330011d706617bf24b29:-1030677903,62c6a680a1623300831a988ec5e54857:789942279,f6962e04d462330068cfed861d1a3851:-1888425652,0d66ee40db6233009fa6bd34877326c1:-1680357708,d1f2ea8072623300058c05b782fd4d79:-1416176203,8962668063623300bff1c8c931c842c9:1742896707,e622ee400a6233006dd3d67b42972fba:1007418214,1cc16ecc62223300e9445afb782f2d2a:215536220,07516640fe6233001a3914744748d062:-224261112,9e216a40056233006dc50b34f75307be:2076252296,daf0a6002d623300c076934bb5c381d6:-625121416,f0e0a6007b623300e99a6896e600f2d3:1275831332,f8b0e200d76233004ecef9cbe6af3a0c:760887314,2ca02640fb6233003a33f47c34f99b96:221444759,8870624c75223300deb15bf5dedd55ab:1693835236,f5dfd200a962330085c79539fd244b08:-1699445879,548fd2cc13223300f98ae2d5d3661878:-622098320,bfbede8c56223300481b45e50b503d7b:1980076695,0f4e568ce22233000e93e4dee2dd6fad:-129922693,ab3d9204ad223300a9a68ca87f4007d7:-1282638609,08ecde8ca5223300e09ad7b944d837d0:-1996994849,84dc1a8c4a2233006f8507df9d3c3f5b:-93376461,802c5204a02233009ace1d7fe30089ec:-969388199,95ab9a4cf822330059abd7fd026b6f39:64519486,387b524c092233002ef74b2c113825c5:-1370034963,1daa560c70223300c3a031d1ea0dfeac:-1231336870,87c9920c4122330097fb8c5dd672f982:-683657272,890374590392330046b02d8864db2f7a:1376121312,7df27cdd45523300be70f2a4e14a3b63:-2109811523</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_1a10e57b37512300fdfc097973990e3a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Fetch Default Blueprint&lt;/name&gt;&lt;order&gt;200&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
   //Type appropriate comment here, and begin script below
	
	var performAction = getParameterValue('performAction')+'';
	if( performAction == 'update' || performAction == 'addProfile')
		return;
	
	var project = g_form.getValue('project');
	var blueprintType = g_form.getValue('type_of_blueprint');
	
	var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Fetching Blueprints...'); //Set the loading dialog title here...
	loadingDialog.renderWithContent(''+loadingHTML);
	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'fetchBlueprints');
	ga.addParam('sysparm_project', project);
	ga.addParam('sysparm_blueprintType', blueprintType);
	ga.getXML(processProject, null, loadingDialog);

	function processProject(response, loadingDialog) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		var blueprintsList = JSON.parse(answer);
		
		g_form.clearOptions('blueprint');
		
		for(var i in blueprintsList){
			var blueprint = blueprintsList[i];
			g_form.addOption('blueprint', blueprint.sys_id, blueprint.name);
		}
		
		var data = getParameterValue('data');

		if(data){
			data = JSON.parse(decodeURIComponent(data));
			g_form.setValue('blueprint', data.blueprint);
		}
		new GlideModal().get("loader").destroy();
	}
}

function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 20:32:24&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;1a10e57b37512300fdfc097973990e3a&lt;/sys_id&gt;&lt;sys_mod_count&gt;43&lt;/sys_mod_count&gt;&lt;sys_name&gt;Fetch Default Blueprint&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_1a10e57b37512300fdfc097973990e3a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:29:18&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1228999024</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>b624eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4bb0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Fetch Default Blueprint</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>79416b349f885c10615821745d4a5d55</update_guid>
<update_guid_history>79416b349f885c10615821745d4a5d55:-1228999024,eb54e97e1fbfc410b9242697eeaf64de:2031741386,79b36dfad3bfc410decc288eda3d7f7d:214641706,32d4412802fb40107ac2c4c9ea2f1983:49610090,112cbfd82ef3401060f3ed5d689b417c:2031741386,12cb3fd4a2f3401009e7474b808e5cd8:1953242407,4cb971807f37330025b03f9dc757cf94:1059117110,17ebeb4197273300354220932e55e754:-1928152875,b734634dcbe33300e5e644a3378d3f3a:1013361496,a831d5f06e433300e30acda57098c5e4:250013977,de8055b05c4333001de0f7db68f59a09:1001305820,181b8030c34e7300ae0de8c216d5d0bd:250013977,ee8184780b0e7300117ed6e994bc5243:-987190642,68037bd034827300a760bb7d09bf62d0:-1745935738,df13c9c1a9b723008acaf16ec50a0455:-2033783375,7ff24dc121b72300ce07dcbfd4df6f26:1337909094,303241c174b7230070af2d69bfbb31cb:502363654,7a20494192b72300996d2f14d2f73482:-352282483,132d3ccd0d77230093f75f527cdc45a2:-1215479955,0c2db0cdbc772300a126d64c1800a3e8:667968307,24bb348d6c77230020381808098063e8:878097098,bcca744d0d7723003ace3baf92a18c87:1991732552,043a7c0dcb77230031f43b89204bf9b3:502363654,65c9f40dc0772300561e3488313e3463:2083542787,df59300d54772300b8be7867309a08e7:277294028,78be53976c79e300f80bd59fa478b020:-738309553,e8d95b7a6671a300c077ef9475dc1d48:-526825937,f68f2eb87abd230018b7d55a9674649c:-1058713536,73eda6787fbd2300a6f2bc1f33c90854:1545449184,7da7ebbcb62123009e11aba1cd758a8a:-1978969096,816686775cd123000c54fed6869d352f:283161677,a4c54e37b1d123009e4109f8d2ae7dec:-711563586,688582775cd123008c17706b442e0b66:283161677,51654e373ed12300d3459e887bab2ac5:1970076198,b0b446376ed12300f7832eb1215593fa:-873951907,0cb446375bd12300ba7d468c92ece793:164770042,a364c23707d12300bc1a407fc3c53b1c:561725348,472486f3a4d12300786d929b5264e5d0:-939723743,619d3dbf47912300bb7ff675efdc7d3d:283161677,a89d3dbf5a91230007b1e93901c7380e:1970076198,b8ec35bf6a912300e8c29abb7749f81e:-120947912,3bdcf1bfb2912300057dbc0f848c47f1:1970076198,48d7693fbf5123006a18b4b8f3ed6d4c:283161677,d040213f68512300bd65dd52a071f8d8:-808732917</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_37c15d5f37896300fdfc097973990e1a</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_ImportApplicationProfiles&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_ImportApplicationProfiles&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_ImportApplicationProfiles = Class.create();
Nutanix_ImportApplicationProfiles.prototype = {
    initialize: function() {
		this.appUtil = new Nutanix_Calm_Utils();	
		this.logger = new Nutanix_Calm_Logger();	
		this.dateFormat = gs.getProperty('glide.sys.date_format');
		this.timeFormat = gs.getProperty('glide.sys.time_format');
		
		this.order = 1;
    },
	
	_invalidateCatalogItem: function(CatSysId) {
		var grCat = new GlideRecord("x_nuta2_nutanix_ca_nutanix_runtime_configuration");
		grCat.addQuery("blueprint", CatSysId);
		grCat.query();
		while(grCat.next()) {
			grCat.state = "inactive";
			grCat.update();
		}
	},
	
	_checkVarNegativeSync: function(profileVarArray, profileSysId, catSysId) {
		
		var arr_var_current = {};
		var arr_var_updated = {};
		
		var grCatVar = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
		grCatVar.addQuery('application_profile', profileSysId);
		grCatVar.addQuery('type', 'Profile');
		grCatVar.addQuery('catalog_item', catSysId);
		grCatVar.query();
		while(grCatVar.next())
			arr_var_current[grCatVar.uuid] = {"variable": grCatVar.variable + "", "var_name": grCatVar.variable.question_text + ""};
		
		for(var i in profileVarArray)
			arr_var_updated[profileVarArray[i].uuid] = {"var_name":(profileVarArray[i].label &amp;&amp; (profileVarArray[i].label).trim() != "" )?profileVarArray[i].label+'':profileVarArray[i].name+'', "var_value": profileVarArray[i].value + ""};
		
		for(var uuid in arr_var_current) {
			
			if(!(uuid in arr_var_updated) || (uuid in arr_var_updated &amp;&amp; (arr_var_current[uuid].var_name + "" != arr_var_updated[uuid].var_name + ""))) {
				
				this._invalidateCatalogItem(catSysId);
				
				var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				if (fieldGR.get(arr_var_current[uuid].variable + ""))
				{
					fieldGR.cat_item = "";
					fieldGR.update();
				}
				var grCatVarDel = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				grCatVarDel.addQuery('catalog_item', catSysId + "");
				grCatVarDel.addQuery('uuid', uuid + "");
				grCatVarDel.query();
				while(grCatVarDel.next())
					grCatVarDel.deleteRecord();
			}
		}
	},
	
	processApplicationProfiles: function(current){
		try{
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles.processApplicationProfiles");
			var payload = this.appUtil.parse(current.payload);

			var catSysId = current.parameter+'';
			
			var activeProfiles = [];
			
			this._createContainer(catSysId);
			var substrate = this.appUtil.parse(current.substrate);
			var sub_type_rel = [];
			if(substrate){
				for(var l=0; l&lt;substrate.length ;l++){
					var sub_entity = substrate[l];
					sub_type_rel[l] = {
						"uuid" : sub_entity.uuid+"",
						"type" : (sub_entity.type+"").replace("_VM","")
					};
				}
			}
			for(var i=0; i&lt;payload.length; i++){
				this.logger.info("Retrieved Number of Application Profiles "+payload.length);
				var profile = payload[i];
				
				activeProfiles.push(profile.uuid+'');
				
				var profileGR = new GlideRecord(this.appUtil.configuration.table.applicationProfiles+''); 
				profileGR.addQuery('uuid', profile.uuid+'');
				profileGR.query();
				
				var profileSysId;
				
				if(profileGR.next()){
					profileSysId = profileGR.sys_id;
					
					profileGR.name = profile.name+'';
					profileGR.description = profile.description+'';
					profileGR.update();
					
				} else {
					profileGR.initialize();
					profileGR.name = profile.name+'';
					profileGR.description = profile.description+'';
					profileGR.uuid = (profile.uuid)?profile.uuid+'':'';
					profileSysId = profileGR.insert();
				}
				
				this.logger.debug("Successful record insertion in App Profile Table. Record name:- "+profile.name);
				var variablesList = profile.variable_list;
				
				this._checkVarNegativeSync(variablesList, profileSysId, current.parameter);
				
				for(var j=0; j&lt;variablesList.length; j++){
					
					var field = variablesList[j];
					var fieldSysd = '';
					
					var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
					fieldGR.addQuery('name', field.name+'');
					fieldGR.addQuery('cat_item', current.parameter+'');
					fieldGR.query();
					
					var varType = this._returnVarType(field);
					if(fieldGR.next()){
						
						fieldGR.type = varType.type+''; //(field.type+'' == 'SECRET') ? 25 : 6;
						//fieldGR.variable_set = profileSysId;
						fieldGR.cat_item = current.parameter+'';
						fieldGR.active = true;
						fieldGR.question_text = (field.label &amp;&amp; (field.label).trim() != "" ) ? field.label+'':field.name+'';
						fieldGR.name = field.name+'';
					//	fieldGR.default_value = (field.value)?field.value+'':'';
						fieldGR.tooltip = field.description+'';
						fieldGR.variable_width = 50;
						fieldGR.order = 11;
						//field.uuid;
						
						/*Advance Variables*/
						fieldGR.show_help = true;
						fieldGR.help_text = (field.description+'') ? field.description+'' : '';
						fieldGR.mandatory = (field.is_mandatory+'') ? field.is_mandatory : '';
						if(varType.type == 21){
							fieldGR.list_table = this.appUtil.configuration.table.dropDownTable+'';
							fieldGR.attributes = "glide_list";
							
						}
						/*Advance Variables*/
						
						fieldSysd = fieldGR.update();
						if(varType.type+'' == '5' || varType.type+'' == '21'){
							this._updateOtions(fieldSysd ,varType.opt ,varType.type );
							
						}
							
						
					} else {
						fieldGR.initialize();
						fieldGR.type = (varType).type+''; //(field.type+'' == 'SECRET') ? 25 : 6;
						//fieldGR.variable_set = profileSysId;
						fieldGR.cat_item = current.parameter+'';
						fieldGR.active = true;
						fieldGR.question_text = (field.label &amp;&amp; (field.label).trim() != "" )?field.label+'':field.name+'';
						fieldGR.name = field.name+'';
				//		fieldGR.default_value = (field.value)?field.value+'':'';
						fieldGR.tooltip = field.description+'';
						fieldGR.variable_width = 50;
						fieldGR.order = 11;
						//field.uuid;
						/*Advance Variables*/
						fieldGR.show_help = true;
						fieldGR.help_text = (field.description+'') ? field.description+'' : '';
						fieldGR.mandatory = (field.is_mandatory+'') ? field.is_mandatory : '';
						if(varType.type == 21){
							fieldGR.list_table = this.appUtil.configuration.table.dropDownTable+'';
							fieldGR.attributes = "glide_list";
						}
						/*Advance Variables*/
						fieldSysd = fieldGR.insert();
						if(varType.type+'' == '5' || varType.type+'' == '21'){
							this._updateOtions(fieldSysd ,varType.opt ,varType.type );
						}
					}
					
					this._insertCatalogVariableProperties(profileSysId, field, fieldSysd, current.parameter+'');
					this.order++;
					this.logger.debug("Successful record insertion in App Profile Variable Set. Record Name:- "+field.name);
				}
				//////
				var deployment = profile.deployment_create_list;
				var provider = "";
				if(deployment){
					//var len = deployment.length-1;
					for(var k=0; k&lt;deployment.length ; k++){
						var dep_entity = deployment[k];
						var subs_entity = (dep_entity.substrate_local_reference) ? dep_entity.substrate_local_reference.uuid : "";
						for(var c=0; c&lt;sub_type_rel.length ; c++){
							var subs_rel_entity = sub_type_rel[c];
							if( subs_rel_entity.uuid == subs_entity &amp;&amp; !provider.includes(subs_rel_entity.type)){
								//provider = (k != (deployment.length-1) ) ? provider + subs_rel_entity.type + "," : provider + subs_rel_entity.type + "";
								provider = (k == 0) ? subs_rel_entity.type :  provider + "," + subs_rel_entity.type + "";
								break;
							}
						}
					}
					
				}
				
				///////
				var setProfileGR = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+''); 
				setProfileGR.addQuery('application_profile', profileSysId+'');
				setProfileGR.addQuery('catalog_item', current.parameter+'');
				setProfileGR.query();
				
				if(!setProfileGR.hasNext()){
					setProfileGR.initialize();
					setProfileGR.application_profile = profileSysId+'';
					setProfileGR.catalog_item = current.parameter+'';
					setProfileGR.providers = provider;
					
					setProfileGR.state = 'active';
					
					setProfileGR.insert();	
				}else if(setProfileGR.next()){
					
					setProfileGR.application_profile = profileSysId+'';
					setProfileGR.catalog_item = current.parameter+'';
					setProfileGR.providers = provider;
					
					setProfileGR.state = 'active';
					
					setProfileGR.update();
				}

			}	
			
			
			var queryString = 'state=active^catalog_item='+current.parameter;
			
			for(var i in activeProfiles)
				queryString += '^application_profile.uuid!='+activeProfiles[i];

			var inactiveProfileSysID = [];
			
			var gr = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+"");
			gr.addEncodedQuery(queryString);
			gr.query();		

			while(gr.next()){
				gr.state = 'inactive';
				gr.update();
				inactiveProfileSysID.push(gr.application_profile+'');
			}
			
			
			var inactiveCatItems = [];

			var catGr = new GlideRecord(this.appUtil.configuration.table.runtimeConfig+'');
			catGr.addEncodedQuery('state!=inactive^state!=deleted^application_profileIN' + inactiveProfileSysID.toString());
			catGr.query();
			
			while(catGr.next()){
				
				inactiveCatItems.push(catGr.item_name.name);
				
				catGr.state = 'inactive';
				catGr.update();				
			}
			
			this.logger.info("Deactivated " + catGr.getRowCount() + " catalog items (" + inactiveCatItems.toString() + ") as there PRofiles got into a Non-Active State.");
			
		}catch(e){
			this.logger.error("Error Nutanix_ImportApplicationProfiles.processApplicationProfiles: Error:- "+e);
		}
		
	},
	
	_updateOtions : function( fieldSysid , opt , type){
		try{
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles._updateOtions");
			if(type == 5){
				var grQust = new GlideRecord('question_choice');
				grQust.addQuery('question', fieldSysid );
				grQust.query();
				while(grQust.next()){
				  grQust.setValue('question','');
				  grQust.update();	
				}
				grQust.deleteMultiple();

				for(var i in opt){
					grQust = new GlideRecord('question_choice');
					grQust.initialize();
					grQust.sys_class_name = "question_choice";
					grQust.question = fieldSysid+'';
					grQust.text = opt[i]+'';
					grQust.value = opt[i]+'';
					grQust.insert();
				}
			}else if(type == 21) {
				var grQust = new GlideRecord(this.appUtil.configuration.table.dropDownTable);
				grQust.addQuery('variable', fieldSysid );
				grQust.deleteMultiple();
				
				for(var i in opt){
					grQust = new GlideRecord(this.appUtil.configuration.table.dropDownTable);
					grQust.initialize();
					grQust.variable = fieldSysid ;
					grQust.name = opt[i];
					grQust.value = opt[i];
					grQust.insert();
				}
				var fGR= new GlideRecord('item_option_new');
				fGR.addQuery('sys_id',fieldSysid);
				fGR.query();
				if(fGR.next()){
					fGR.reference_qual= "variable="+fieldSysid;
					fGR.update();
				}
				
			}
		}catch(e){
			this.logger.error("Inside Nutanix_ImportApplicationProfiles._updateOtions "+e);
		}
		
	},
	
	_returnVarType : function(field){
		try{
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles._returnVarType");
			var options;
			if(field.data_type+'' == "BASE"){
				if(field.type+'' == "EXEC_LOCAL" || field.type+'' == "HTTP_SECRET" || field.type+'' == "EXEC_SECRET" || (field.type+'' == "HTTP_LOCAL"  ))
					options = { "type" : 5, "opt" : []};

				else if(field.type+'' == "LOCAL" &amp;&amp; field.options &amp;&amp;  field.options.type+'' == "PREDEFINED" &amp;&amp; (field.options.choices).length &gt; 0 )
						options = { "type" : 5 , "opt": field.options.choices };

				else if(field.type+'' == "SECRET" || field.attrs.type+'' == "SECRET") 
					options = { "type" : 25 , "opt": [] };
				
				else if(field.val_type+'' == 'MULTILINE_STRING')
					options = { "type" : 2 , "opt": [] };
				
				else if(field.val_type+'' == 'DATE')
					options = { "type" : 9 , "opt": [] };
				
				else if(field.val_type+'' == 'DATE_TIME')
					options = { "type" : 10 , "opt": [] };

				else 
					options = { "type" : 6 , "opt": [] };

			}else if(field.data_type+'' == "LIST"){

				if(field.type+'' == "EXEC_LOCAL" || field.type+'' == "HTTP_SECRET" || field.type+'' == "EXEC_SECRET" || (field.type+'' == "HTTP_LOCAL"  ))
					options = { "type" : 5, "opt" : []};

				else if(field.type+'' == "LOCAL" &amp;&amp; (field.options) &amp;&amp;  field.options.type+'' == "PREDEFINED" &amp;&amp; (field.options.choices).length &gt; 0 )
						options = { "type" : 21 , "opt": field.options.choices };
			}
			if(!options) options = {"type" : 6, "opt" : []};
				return options;
		}catch(e){
			this.logger.error("Inside Nutanix_ImportApplicationProfiles._returnVarType"+e);
		}
		
	},
	
	_createContainer: function( catSysId ){
		
		try{
			var containerCheck = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			containerCheck.addEncodedQuery('name=profile_configuration^cat_item=' + catSysId);
			containerCheck.query();

			if(!containerCheck.hasNext()){
				this._createContainerStart(catSysId+'');
				this._createContainerEnd(catSysId+'');	
			}	
		}catch(e){
			this.logger.error("Error Nutanix_ImportApplicationProfiles._createContainer: Error:- "+e);
		}
		
	},
	
	_createContainerStart: function( catSysID ){
	
		try{
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles._createContainerStart");
			var variable = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variable.initialize();
			variable.type = '19';
			variable.display_title = 'true';
			variable.cat_item = catSysID;
			variable.active = 'true';
			variable.order = 10;
			variable.question_text = 'Profile Configuration';
			variable.name = 'profile_configuration';
			variable.layout = 'normal';//2across';
			variable.insert();	
		}catch(e){
			this.logger.error("Error Nutanix_ImportApplicationProfiles._createContainerStart: Error:- "+e);
		}
		
	},
	
	_createContainerEnd: function( catSysID ){
	
		try{
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles._createContainerEnd");
			var variable = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variable.initialize();
			variable.type = '20';
			variable.cat_item = catSysID;
			variable.active = 'true';
			variable.order = 12;
			variable.insert();	
		}catch(e){
			this.logger.error("Error Nutanix_ImportApplicationProfiles._createContainerEnd: Error:- "+e);
		}
	},
	
	_insertCatalogVariableProperties: function(profileSysId, field, fieldSysd, catalogSysId){
	
		try{
			//gs.info("Cat item:" + catalogSysId + "\n"+ JSON.stringify(field));
			this.logger.debug("Inside Nutanix_ImportApplicationProfiles._insertCatalogVariableProperties");
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('application_profile', profileSysId);
			gr.addQuery('catalog_item', catalogSysId);
			gr.addQuery('variable', fieldSysd);
			gr.query();
			
			if(gr.next()){
				
				if(field.is_hidden &amp;&amp; (field.is_hidden+'' != gr.is_hidden + "")) {
					this._invalidateCatalogItem(catalogSysId);
					this.logger.info("Deactivated catalog due to a change in profile variable's private state!");
				}
				
				if(field &amp;&amp; field.editables &amp;&amp; field.editables.value) {
					if(field.editables.value + "" != gr.runtime_config + "") {
						this._invalidateCatalogItem(catalogSysId);
						this.logger.info("Deactivated catalog due to a change in profile variable's runtime-config!");
					}
				}
				
				if(gr.value_type + "" != field.val_type+'') {
					this._invalidateCatalogItem(catalogSysId);
					this.logger.info("Deactivated catalog due to a change in profile variable's type!");
				}
				
				gr.application_profile = profileSysId+'';
				gr.catalog_item = catalogSysId;
				gr.default_value = (field.val_type+'' == 'DATE'|| field.val_type+'' == 'DATE_TIME') ? this._formttedDateTime(field.value+'', field.val_type+'') : (field.value)?field.value+'':'';
				//gr.runtime_config = (field.editables &amp;&amp; field.editables.value+'' == 'true' &amp;&amp; field.is_hidden+'' == 'false') ? "true" : "false"; //((field.value+'').indexOf('@@') != -1) ? false : field.editables.value+'';
				if(field.is_hidden &amp;&amp; field.is_hidden+'' == 'true')
					{
						gr.runtime_config = "false";
					}
				else 
					{
						gr.runtime_config = (field.editables &amp;&amp; field.editables.value+'' == 'true') ? "true" : "false";
					}
				gr.uuid = field.uuid+'';
				gr.variable = fieldSysd;
				gr.isprofilevariable = true;
				gr.type = "Profile";
				//gr.isdisabled = (field.editables &amp;&amp; field.editables.value+'' == 'true' &amp;&amp; field.is_hidden+'' == 'false') ? false : true;//((field.value+'').indexOf('@@') != -1) ? true : (field.editables.value+'' == 'true') ? false : true;
				/**advanced var**/
				if(field.is_hidden &amp;&amp; field.is_hidden+'' == 'true')
					{
						gr.isdisabled = true;
					}
				else
				{
					gr.isdisabled = (field.editables &amp;&amp; field.editables.value+'' == 'true') ? false : true;
				}
				gr.value_type = field.val_type+'';
				gr.data_type = (field.type+'' == "LOCAL" &amp;&amp; field.options &amp;&amp; field.options.type+'' == "PREDEFINED" &amp;&amp; field.options.choices &amp;&amp; (field.options.choices).length &gt; 0) ? "PREDEFINED" : field.type+'' ;
				//gr.field_regex = (field.regex &amp;&amp; field.regex.should_validate &amp;&amp; gr.data_type != "LOCAL" &amp;&amp; field.val_type != "DATE"  &amp;&amp; field.val_type != "DATE_TIME") ? field.regex.value+'' : this._fieldRegex(field);
				
				
				var k = (field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this._fieldRegex(field);
				
				if(gr.data_type+'' == "LOCAL" &amp;&amp; (field.val_type+'' == "DATE" || field.val_type+'' == "DATE_TIME") )
					k = this._fieldRegex(field);
				
				gr.field_regex = k;
				gr.is_hidden = (field.is_hidden+'' == 'true') ? true : false;
				
				
				/**advanced var**/
				gr.update();
				
			}else {
				
				//this._invalidateCatalogItem(catalogSysId);
				
				gr.initialize();
				gr.application_profile = profileSysId+'';
				gr.catalog_item = catalogSysId+'';
				gr.default_value = (field.val_type+'' == 'DATE'|| field.val_type+'' == 'DATE_TIME') ? this._formttedDateTime(field.value+'', field.val_type+'') : (field.value)?field.value+'':'';
				//gr.runtime_config = (field.editables &amp;&amp; field.editables.value+'' == 'true' &amp;&amp; field.is_hidden+'' == 'false') ? "true" : "false";//((field.value+'').indexOf('@@') != -1) ? false : field.editables.value+'';
				if(field.is_hidden &amp;&amp; field.is_hidden+'' == 'true')
					{
						gr.runtime_config = "false";
					}
				else 
					{
						gr.runtime_config = (field.editables &amp;&amp; field.editables.value+'' == 'true') ? "true" : "false";
					}
				gr.uuid = field.uuid+'';
				gr.variable = fieldSysd;
				gr.isprofilevariable = true;
				gr.type = "Profile";
				//gr.isdisabled = (field.editables &amp;&amp; field.editables.value+'' == 'true' &amp;&amp; field.is_hidden+'' == 'false') ? false : true;//((field.value+'').indexOf('@@') != -1) ? true : (field.editables.value+'' == 'true') ? false : true;
				if(field.is_hidden &amp;&amp; field.is_hidden+'' == 'true')
					{
						gr.isdisabled = true;
					}
				else
				{
					gr.isdisabled = (field.editables &amp;&amp; field.editables.value+'' == 'true') ? false : true;
				}
				/**advanced var**/
				
				gr.value_type = field.val_type+'';
				gr.data_type = (field.type+'' == "LOCAL" &amp;&amp; field.options &amp;&amp; field.options.type+'' == "PREDEFINED" &amp;&amp; field.options.choices &amp;&amp; (field.options.choices).length &gt; 0) ? "PREDEFINED" : field.type+'' ;
				
				var k = (field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this._fieldRegex(field);
				
				if(gr.data_type+'' == "LOCAL" &amp;&amp; (field.val_type+'' == "DATE" || field.val_type+'' == "DATE_TIME") )
					k = this._fieldRegex(field);
				
				gr.field_regex = k;
				
				gr.field_regex = (field.regex &amp;&amp; field.regex.should_validate &amp;&amp; gr.data_type != "LOCAL" &amp;&amp; field.val_type != "DATE"  &amp;&amp; field.val_type != "DATE_TIME") ? field.regex.value+'' : this._fieldRegex(field);
				gr.is_hidden = (field.is_hidden+'' == 'true') ? true : false;
				/**advanced var**/
				gr.insert();
				
			}
			
		}catch(e){
			this.logger.error("Error Nutanix_ImportApplicationProfiles._insertCatalogVariableProperties: Error:- "+e);
		}
		
	},
	
	_fieldRegex : function(field){
		
		var reg = "";
		switch(field.val_type+''){
				
			case "INT" :  reg = '^[\\d]*$';
			break;

			case "STRING" : reg = '^.*$';
			break;

			case "DATE" : reg = '^.*$'; //'^((0[1-9]|[12]\\d|3[01])/(0[1-9]|1[0-2])/[12]\\d{3})$';
			break;
	
			case "TIME" : reg = '^([01]\\d|2[0-3]):[0-5][\\d]:[0-5][\\d]$';
			break;
			
			case "DATE_TIME" : reg = '^.*$'; //'^((0[1-9]|[12]\\d|3[01])/(0[1-9]|1[0-2])/[12]\\d{3})((T)|(\\s-\\s))[\\d]{2}:[\\d]{2}(:[0-5]\\d)?$';
			break;
				
			case "MULTILINE_STRING" : reg = '^(.|\n)*$';
			break;
				
		}
		return reg;
		
		
	},
	
	_formttedDateTime : function(value, type, getDate){
		
		var newVal = '';
		if(getDate === true){
			if(type == "DATE"){
				var gdt = new GlideDate();
				gdt.setValue(value);
				return gdt.getByFormat(this.dateFormat);
			}else{
				var gdt = new GlideDateTime();
				gdt.setValue(value);
				return gdt.getDate().getByFormat(this.dateFormat)+' '+gdt.getTime().getByFormat(this.timeFormat);
			}
		}else{
			var arr = value.split('/');
			if(type == "DATE"){
				newVal = arr[2]+'-'+arr[1]+'-'+arr[0];
				var gdt = new GlideDate();
				gdt.setValue(newVal);
				return gdt.getValue();
				//return gdt.getByFormat(this.dateFormat);
			}else{
				var year = arr[2].split(' ');
				newVal = year[0]+'-'+arr[1]+'-'+arr[0]+' '+year[2];
				var gdt = new GlideDateTime();
				gdt.setValue(newVal);
				return gdt.getValue();
				//return gdt.getDate().getByFormat(this.dateFormat)+' '+gdt.getTime().getByFormat(this.timeFormat);
			}
		}
		
		
	},
	
    type: 'Nutanix_ImportApplicationProfiles'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-14 20:00:23&lt;/sys_created_on&gt;&lt;sys_id&gt;37c15d5f37896300fdfc097973990e1a&lt;/sys_id&gt;&lt;sys_mod_count&gt;177&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_ImportApplicationProfiles&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_37c15d5f37896300fdfc097973990e1a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 13:01:23&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1133324793</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>b624eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217b8b90000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_ImportApplicationProfiles</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>0eb60f8238581410080b710813966e78</update_guid>
<update_guid_history>0eb60f8238581410080b710813966e78:-1133324793,6bad0683499f801068297daaaaf77a63:-745838657,5a4a0e0fd05f8010cd68802bb55f6980:748515876,78d80a47f95f801000c794b41ca17ca3:-382410123,bbb702430f5f80102ac1e936732a85d7:-428589692,d6950243425f8010c13904a01bdf99a9:-1589394447,04150a03975f801006123629e92a5f35:1362227930,0883c24f201f8010fad010a402e85842:1400628607,0a9fb947721f8010a5d452a65563249e:-217459256,d88a710f4edb80104eb9da18849cd772:738563201,b749fdcbb8db8010ef297044df10c6a8:-843879244,13437d8fba9b8010ac0595ad79304fdf:-1621699992,c655e1832a9b80103a52822a60577b4e:1905127185,ccc399075b1b8010634cc6287c8641dc:-924680854,466c221ed1dfc010921085c567d1973d:-2120355865,1a9d98caca97801047ad3ce8d429ccf3:1555431431,c11bd48a539780108a4658ef57b3b782:5989679,7f3c884e63578010438008a51541a5d6:1118744043,00037da3f00b08101e2df784c93fa949:1361197291,40713da3ff0b0810ed2e0d9c8f42bd94:-1015093601,c40175e38a0b08101002f0d4b0613d75:498950890,b2c89067c4030810a7c3d7b92308fd57:383698505,544794a3350308109ed15c2734197615:2144048023,6f16d82fefcfc4107ca54f67140ea5dd:-1156658929,6534946f26cfc4104df141e3bd49230b:1859487118,64d15c67e6cfc410104c4189348d632d:-1200550171,79409c27f5cfc41044b426bfdec2425a:-1577893423,1d105c672ccfc410eecb3afdd644afcc:-1062346961,8afd00a387cfc410b737b5fb56c86bc6:-2129340365,c8da48eb308fc410db5db63f9105fd68:-1103495805,a7f9cc2fab8fc410334d4692101b11c5:1064712808,2549c42f868fc41070deed6a767881cf:-1509427113,0be9ef13aa0fc41085e647e82be27c91:-863399276,d7b26fd332cbc4104722bed49812b56c:-1880696232,d21ffb82fb8704108402d3c2f3ebef39:-1435319240,51a6730ef9470410e7468c8310ecca67:917338101,0c66770aa6470410e061d69cd7ace6dd:-1604299613,7ac22338d38f00103ca2120a7c2c1114:1036472555,abf74778db4f00105db7f7ddb4cdf310:847633237,9707bfc3127e48500c1e3e7fde1f2d7b:577790486,76d39c4a4fb68450b225e939b592c660:393175031,d0658db01f2a8410d378a7df7359d2f1:55122764,057dbc3c6ee68410bdb9e940255fb33f:1571284275,4d2eab6f93ce4490831aca73dd41c25c:-502255941,2c15c3027055001012aaab97551f020e:-1860266920,2c15c3027055001012aaab97551f020e:-1860266920,2307228373790c103d3250925617becb:1571284275,19669ffe0e01041084abf942e8ee98a3:-1860266920,ba859ffe980104107d9308592dcc5b2d:-1464812316,42dfc3f64f010410e5787d42f64a51e7:2141686510,aa7a837e10cdc010568596d288f474ad:-1464812316,c43d8cf28833f300fb70f0aa5fc5079b:-1686970024,a2bb5bcaca7773002acbed12466960bc:295308306,06146798b877730095ba383d5d5f0d25:-1201165882,b5fd5a586e737300506a9f61df3aed1a:-1780380322,066ba68895bf7300a1cdbc63f47d6d2b:-2097618578,93f56e843ebf73004063d87b3a31760d:34621272,3acc19ff35237300efcf057089aa9314:-1382807800,26abc83f902f3300746ecfa007acef1c:365952913,ef6b086b3fe3330071cdfbd7cfed4041:1946039272,8bba086b20e33300609a3131ae7b8ea3:-1542663941,4f6484a7f8e333008c69e2b983ac0465:-391742540,fae6b3db07a33300bcbc56467114ba69:-1686337157,77fa0b1feb23330070f4b557b80a5fce:1127449479,ac47eaeaf61333009e2d038555b946bc:26038883,56cffb14305b3300a115a22ad68d43e0:182136071,f81bd7c31ac7f3006ce6eb774f471b69:799811645,31ba5fc3b4c7f300c7705d26e865325f:-1719314543,a35917c379c7f30058e7af678721c4b2:499227926,8071fac74f83f300ee5b429c9e9d1fb6:1474058765,0e8e664fce43f3000436ee12a3efb786:-621048838,8c29ea4bd203f3002f2c1c9d7dacb819:-1462493296,f5016e0b02cfb300fbc31770d9f46599:1105073700,286c1e8bb38fb3005a5460300b9b3e48:874423665,3b8bde4b948fb300e72dce839940118d:387273702,5cdc1c36d14f73000a4e120e2324046d:2006431194,fb4c5bc9d18373004b7d8d419b60eed7:-1724365334,64fade09408f3300e680b6cf8043524c:-158901688,ab0a06787407330030630f41381a558a:-440370374,3e8de5b0a7c3330083fbb128725f1e05:733133816,633b156801873300cd7ee944cdf2e2bc:173172334,50ccdca8e643330011eb9697cd5c9465:-1782310561,5f435ce4874333002e0f3a330593f711:-1229023784,d4018ca0e3033300dc85628f33d95fb7:-408735646,e8640372523e7300aa3efa25920ccdbd:-728704308,3bb0b27ac0ba7300c31e22486c7c8556:-1784940876,ac6d8552f0363300791deaaf2c7bdb5c:1349409602,442741daa2f2330010bb6827ede7e152:930029980,dbd5459a9af23300f63221af5fb14fee:-151352100,e553451ac1f23300ed590d4625e70593:-458290006,7b92c5d6b8f233006ed4c7bb72596424:545124248,30d18196e0f233008ba3d34156c112d0:-2118218564,3c8fd81295b2330083e95ba75b8c36d5:-611873875,d91d549e5372330098f342b265a8e252:-1293963652,c50c5cda47723300c8a0420757d7018b:2110613908,c4c9981e2f72330018dce665fd5a844a:979097532,dd779c9a4b7233009ef5ae4fd66b2e23:534923071,0d66d85a0d723300b41c6bda315123ea:-1057019605,ca83d01a16723300c1058920d736709b:1589256223,d030bf02f4323300d6b0f80e5835527a:1010573266,c7ca800a80363300701324aafef3ce5b:-358516873,c4794c06ff363300f2d07bc42073b2c6:609373333,7dceeb75abf23300c1fa95a7b1bf2222:-1423726537,d3ac6f757ef23300384af48a74bbebb1:-249681324,a698e3b9e9b23300d590cf78319cb591:1378098100,a6a66ff506b23300492b360c07860607:-2018613041,8855afb5deb233000ca864572a1801a4:-1322799556,9b9b9ffde3723300dff2fa46fdff2096:-1392010560,923bdf31ffb233009cbdebbff4c643fa:-756399541,2ba797fd3c723300be3df7e98f83174f:338120032,4e14d37dcd723300e84c599cd3b7611d:163823104,17f35775207233001ff2184fe9448bf7:500507025,c2fe4b7d6d32330071190b7b932d594e:1465445131,1b9d0b79d3723300090fd5d839f549d8:389006976,378683ac387e3300f744737add39935c:1943999882,0ce67ea0727e330037ee24a59fe4974c:-498607618,0ca76e20d73e3300dc39b1b3a300c49b:576795453,69f55660933e3300540ae6cbfee0f8d4:799544257,0e4bdb1cf89b330085be8af7bd6f2f01:-1410767874,18d953d4839b3300e529f1b753df702c:-139820260,f37c22d001d73300c2440435da6cb128:566784384,f07b791c6b573300240d48b807b8714b:-646484739,e9b049cf558233007c304a5ecbbacea1:1237272605,9e66f887aa8233001f1ed39c0913e831:139063087,05553cc71f823300a02928f76e91a93c:-799806103,9dc3f84fa6023300610f2363fb893596:280863367,0623b8879982330060be9d0cb460933d:-497626843,0dc5f532e3f13300c584c68c763fcd91:120475216,735552b078c0330061eefacd8b0e8c8e:1262380752,7f8b174cf1eb63003a0dbf6ba0365fb2:-1821348850,53f6fb3bef936300766a6d9872687d74:-387962898,0665b3f778936300ef3d7c4fb9faf948:1327874578,5c72f377e393630080b3cd6789fdcf28:-814573655,615b72b3101363000122721030d18d0c:1294995529,4031ed32d23223008ae31ba4cbd7876d:1972985704,1e63fde2fdb223006330105219069638:-1611251064,a761cf5077622300960a1606a11fdf0b:1290091683,debb36980b22230082b18afbd737b05c:1310990805,26daf650de222300e4d50bd1b292bd68:716978595,939bbb8f9b8a6300144051b4246d5916:915859770,627eda8f2782630043410345210f151d:594843244,4a825a9e29b923004beac7741833db6b:671547019,a1540abd2975e300caf21a668f48e30d:1748063407,cdd324759071e30045e692d508bd1475:264715999,b6ac10fd0931e30019276c29c5395b7f:-68706485,317d1a61213da30049799574cfb6484a:-1214544966,84fe8601f529230097ced6ddd49e2e60:2049584125,774e4ecd8be523006fc7f271fd34aa08:1295790229,3abaad0980a52300276bb218adf2aff6:1054477631,3db4e941e9a52300161ccfb4de3924da:-1340900555,aec0e54dae65230088ec788d2a8ea8ad:217617367,b7da9bb0b7212300d26b9b6db97a726f:932951285,6d8a559cc4e563004ed14b7807d2573c:1687944643,1a79a81cd0256300e29a2e9ae316a5a8:-1598614132,ff55d850dc256300220170886f7ed5bc:-1206829520,3c80109cc3e1630057ad52d65c7fcb7f:-368194477,b7fd48d89be16300d8ef1da2011899e5:1302333907,1aad84d420e163008366ed2aefc45f2b:1622577747,4b08fe480c216300882d0939c02f9bbe:-2082647491,1cd7ba4829216300cfef266adbdf287f:555611147,7156b6c44621630017bae87b1e092388:752533375,b702168860ad2300354b3f9372ce3199:-11273026,cfce0e8423ad2300192f15237598391c:1155992701,28250eccc66d2300ed30f74ea82430bf:-871238194,eb20aaf75e152300186f23d403bded91:2114851829,8a064cf9e1512300d843647942f598ee:1984140026,7bdaf1b4fbd1230025a1180b983a42d3:627950640,e41b68b8e3d96300cbf09df02e8dc085:1841904109,a4c7230c0915230037e84cd46d04a608:63173992,444a12087151230081b095718de82897:629803261,93f95284ae51230064094d407bf7db8b:-342796762,47d99e844d9123007f5decb4679cb41e:534193080,ea50b077894d230007230fe9594eeef2:-972693962,64bc0dabd9452300625ccb4eee1dfc61:668684258,6d55291f05c96300d14683523cc05767:1814973651,27442d5b56c96300a378d61710ba6e77:211521779,6c44219b48c963005c5ab1b6e7d95067:-1831112281,ce24a5db1dc96300bea7f8900fd63e32:1658269847,9c532d5b5ec96300f31c26c599077357:-1161246977,e1c2a55bf9c963003b7fc3f1027649e7:-1415557340,fcf0e9d7dac963005be6d0de7bb93a25:-1442731709,28b025d704c9630044a67dd6d3373c57:-892850893,05a061d75ec96300c66eacadde525e9f:-1926114035,ec7029d7fdc96300e87f7aef96706e96:168725665,d000a997a1c963002f810052bbc181f6:1239568554,443e9517e8c96300c547c800cb0373ac:-811368579,b2a2959fa2896300be970f7e92c5ca33:-1406358572</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_53cb0ce64f41a30065e48020a310c7e6</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;save_properties&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;(gs.hasRole("admin") || gs.hasRole("x_nuta2_nutanix_ca.calm_admin") ) &amp;amp;&amp;amp; new Nutanix_ClientServerScriptBridge().checkQueue();&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Save Properties&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[try {

    gs.setProperty("x_nuta2_nutanix_ca.use_external_credential_system", current.use_external_credential_system + "");

    var catalogName = current.service_catalog + '';
    current.update();
	
	if(current.use_external_credential_system)
        gs.eventQueue("x_nuta2_nutanix_ca.refresh_token", "", "", "");

    //Set value for show unpublished
    var showUnpublished = current.show_published_blueprints + '';
    var gr = new GlideRecord('sc_category');
    gr.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix_unpublishedBP_sysId'));
    gr.query();
    if (gr.next()) {
        //if(showUnpublished == 'true' || showUnpublished == true){
        //gr.sc_catalog = gs.getProperty('x_nuta2_nutanix_ca.nutanix_catalog_sysId');
        gr.active = true;
        /*	}else{
        		//gr.sc_catalog = '';
        		gr.active = false;
        	}*/
        gr.update();
    }

    action.setRedirectURL(current);

    gs.setProperty('x_nuta2_nutanix_ca.Log Verbosity', current.log_verbosity);
    gs.setProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id', current.sys_id); // sys_id: system will only perform query on current application properties sys_id in makeCalmApiCall.

    //Property - Stores workflow value that need to be triggered in main workflow 'Nutanix - Blueprint Launch to CALM' for approval/rejection activities to initiate Blueprint launch.
    gs.setProperty('x_nuta2_nutanix_ca.nutanix.workflow.user.approval', current.workflow.getDisplayValue());

    // Stores assignment group sys_id
    gs.setProperty('x_nuta2_nutanix_ca.assignment.group', current.assignment_group);

    //If true, incident will create on blueprint launch failed else not.
    gs.setProperty('x_nuta2_nutanix_ca.incident.blueprint.failed', current.create_alerts);

    //Set the version of calm		
    gs.setProperty('x_nuta2_nutanix_ca.calm_version', '');

    var logger = new Nutanix_Calm_Logger();
    var utils = new Nutanix_Calm_Utils();

    var authResp = utils.makeCalmApiCall("post", "/projects/list", '{"kind" : "project"}');
    var statusCode = authResp.getStatusCode();

    if (authResp.getStatusCode() == '200' || authResp.getStatusCode() == '201') {

        var verResp = utils.makeCalmApiVersionCall("get", "/apps/version", '');
        if (verResp.getStatusCode() == '200' || verResp.getStatusCode() == '201') {
            var response = verResp.getBody();
            current.calm_version = response.split('.')[0] + '.' + response.split('.')[1];
            gs.setProperty('x_nuta2_nutanix_ca.calm_version', current.calm_version);
            logger.info('Nutanix Calm Version is ' + current.calm_version);

            current.datadelflag = 'yes';
            current.update();
            utils.showHideSyncUiAction('true');

        } else {
            current.calm_version = '';
            current.update();
            utils.showHideSyncUiAction('false');

            gs.addErrorMessage('Nutanix Calm Version cannot be detected.Please check the logs and retry saving properties.');
            logger.error('Calm Version cannot be detected. Error-&gt;' + verResp.getBody());
        }

        gs.setProperty('x_nuta2_nutanix_ca.check.authentication', 'true');

        utils.updateCatalogName(catalogName);

    } else {

        var codes = {
            "0": "Calm instance is not reachable",
            "400": "Bad request",
            "401": "Unauthorized / Bad Credentials",
            "403": "Request forbidden",
            "404": "Not found"

        };
        gs.addInfoMessage(codes[statusCode]);

        gs.setProperty('x_nuta2_nutanix_ca.check.authentication', 'false');
        utils.showHideSyncUiAction('false');
    }
} catch (e) {
    logger.error('Error while connecting to Calm. Error-&gt;' + e);
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;nitin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-12 06:59:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;53cb0ce64f41a30065e48020a310c7e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;161&lt;/sys_mod_count&gt;&lt;sys_name&gt;Save Properties&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_53cb0ce64f41a30065e48020a310c7e6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-07 06:55:01&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_calm_plugin_configuration&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1216673515</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>b624eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171828008130000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_calm_plugin_configuration</table>
<target_name>Save Properties</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>d1032c595d009450ebb10b24fe8f8a9a</update_guid>
<update_guid_history>d1032c595d009450ebb10b24fe8f8a9a:-1216673515,d1a12019640094503ea10da434643ba4:-935615575,72be5caa308700909dccaf9588ca43c1:1889171175,e78e542a09870090d892c7b8a6aa45f9:1233917416,9dda542edd87009013477bf5d8af2399:1866174771,4f72ed728eaa08101d25a86e04be72be:1918544638,005ebaeb964a44505c4ba046facd48c4:-1849025862,5c73e2e7440a445088433be0e4adc636:-795363134,7d412eaf1dc644509893d57058c30fc9:-1739459454,36869472f1c2c050f71c7ec30cd46f7f:-1562852855,d6be69237fe00010aaf83461917762e0:-1150846313,fe5e2defd2a00010de584039d76b905a:-262998452,df2e652355e0001082e317d1c889df1c:-1150846313,15ed65239de00010da1cb92cf0f6bb1e:-262998452,f55de1efeba0001038124d3762fa6a43:-668706622,f35bed6fb2a000101ea6cb8a3d054560:1906445079,72d6e1ab14a00010ff930f22574374db:-668706622,f756ade706a000102cbf58773fac2552:1906445079,dc0ed5e357a00010708d2b9968a05f69:-668706622,e34c9d63afa0001097c6d29fdb98330d:1479110648,8922516382600010548ec07b8be89196:1152360671,39cf016329600010f5148af8bde7eace:1595473444,a8298dabd92000103520a5830ca2fb37:-2077334670,82dca96e0cec0010bac860b934a275fa:-1084741211,6e48212630ec0010ce98873e95f05c67:1340366868,cee62d2250ec00104321f976f553167d:-1695004147,31f5652201ec0010ba7c33d26d092750:2036361465,f704e51a09e000101b667b550be7621a:191301390,c8f1619639e000104036d3bc44285b14:140250579,4891e956e0e0001030d0ebaf1fd9271a:354590479,c2af9d1631e00010a1c66b1eb1af9351:-1543064606,052f9d16a1e00010f6041f6d91b0314c:790823587,f3fd95da2aa00010081a46e4ee1107b9:-608176244,8b6d11165ae0001010c6996f4f788b06:381824650,540d11166ee00010865f1bb8472bc201:-1335574,96fb59da48a00010da622d7944ead53e:-1450706840,4c40991a2ea00010c7a31b82526dbf4a:1831424895,6eff8d9ac5a000106fa5a41b2e50679c:-1318270776,917f8d9a10a000105fefa7072bc7eb29:-1675263219,10de0d1a99a000104f8d84de10a051f3:-1089905264,82ac419201a00010c4ddf83550fb49b9:117752628,3dfbc516f1a0001002f437ca2b1f9223:-766886780,f183051250a00010462f80871a642a39:-851103820,8e53091286a000108b98be4cf95dfef1:1999073681,0302095226a000102f83953738352e22:2022321807,6ba0851279a00010818c5be51c1130d5:-1896852759,dfcffc5e1f600010de39c3d3e44e03cc:897311697,4da2a06475347300311592a884f09f5a:-1847867749,a00ea6c8bfb0330033ccfc6a65452148:-1448480321,8eeda2c8dab03300a188b3bacc8cdb7d:-1552785352,d3ad6a8831b03300e4a3ba02a7270a87:-1448480321,ff96624084b0330079bdca4fc1b583f8:670981889,01735f03d86c330086fc07f4022cc4c2:422547184,2b90670e812c7300101b43583979d273:2005019728,f3ecbc610760330078fa49d61eec6f79:-1797543636,0f9d861372dc330052ddd40ecf992d42:428750001,2bfa988ba55033005b2f21d5a63abb64:-866900116,95b29cc38a503300a155fd34a290aefa:1295070496,553eaf985d103300b62c0047e1687b5e:-866900116,b9d50e00e754330024a797667a690220:1295070496,ad8e350cf914330034d6e1e576cc694b:-866900116,cd0ef9c8c314330062e5cff8b04f1d70:1295070496,032e7c4c4110330090443ea1912cc486:-866900116,befc853f478033005c143ef830a9c0ff:1295070496,f1dff31279ec33002239d6047fbb144b:-1018254037,4bb9d05e50243300fa3e36ee571a7981:-1418746771,3c981c9af824330005ebcf19e7fb282a:-1018254037,1978d89a5e24330012c574537ff1ddfe:196801383,03bc9f4ed720330098b50af5c4d50afa:-1018254037,3d55da604aec7300b9483f5415cb39ad:-869708025,554a10c44c243300730979bf9ef550f0:1059660254,11caa065a8cc33006fe7455b535be58e:-866900116,179a206552cc330031543d1a5a0a4b57:1295070496,da3e5c2ddf8c33007a6dde7996775091:-866900116,1e1ed02dd84c33007e5c140ab9f8f9fb:1295070496,df83d69dcf7263005058cd854d88d197:-866900116,0fbd73b08cf2230088b8963f87ef2fe8:674345132,339db7f05ef223002ce0d03f1ee1decb:-461260704,71ef9b90afe22300d92f5fd1d82039ba:674345132,969f1790dae223002c8115456fe7cda7:-461260704,6dcc1710e1e22300fdd7b564cb3a06fd:674345132,368c9fdcd6a223004b28f0dfd823a235:-461260704,5ada5b58d4a22300db8d0ea30134d294:674345132,f96505f3a05ea300406162ebc345dfce:-1625565872,43556064569a2300f5f2a57e2da2bdf3:1186355848,9ddad42cce5a23001567bd41c2a731fd:236801602,1af4d8a4d05a230054ab3b35538fba93:675794882,a8bbd2373f8223005dff517df4634e68:872124117,2ccf79ef1906230081899d660526a035:174905579,192eb56fa60623005b183eeca13cdf1f:-1768292487,e5bcbdabf80623005f3ff8631ad87ce4:-1095414439,6882a3395a8223004f644115b2a9d03b:1410899146,eda35bb5ce42230085fa99d3e891d276:1829412555,22f257b552422300d6411507a6555fec:-1892416150,2e825b755e42230013a261120c58971e:-453268105,e3c11335484223006334e6e4a5e46167:-1424068969,77497c9147422300b55202ee1e6a051f:-1681766161,73b9689576022300caa72e0044abebde:-932172290,d2596095d70223003fa965bf5692f92b:1961216934,4d7209093c0ea300d4c18b527d4b2900:1018296794,b241cd855d0ea300b016276bc8879b4b:420847514,7b4f7c05e40ea300b47f3516338853c7:-944973576,261ff805fe0ea300e4887f8e4ff82b69:-1739355227,0aceb005a60ea30036db8d8595371e33:-1514218632,f58e7881ae0ea300adaea2334f364f94:2017717007,c78a3041640ea300bea8b6ed5a7dda84:-843677462,046ab801120ea3001df9b3efd3562d77:-1373111359,90f9384df7caa300bc6e774c700a8a36:1213421793,4354e48d0d8aa300639504114b55d8b0:1285276138,d7f3648d2d8aa300f9871af478d3012d:643190209,8052280d438aa300d8c372333995e92f:711993877,6dae8a1c72426300f90d54206a7f82f0:-67474241,2c4d82986c42630000f92533f7706198:1783977246,83a0e99c338e230068ff3edbd0b795eb:1752396577,a5d395043b06230019d2f8268f4db5fc:-1580438111,4f8b1243187523006ac23f31b391a3f7:681712257,3144da8b193523003f2ca8dec6942352:931918233,4e932d8765b1230007381e88fba3cb27:1505875839,5864476847e123001f8d493600efd8b4:-225783449,d9144f2874e123008bfd3e6b52befcc5:2006902750,9fbedc4125e123003487829d73db5187:566661286,439ed081c9e123005ea0a5009b746a7e:258184389,c56edc41aee123009e62bbdf3854552c:922364152,c14ed4c963a123006862d4bb985afe2f:745932686,82fd984189e123001b107a208b1eac03:2072753518,6b5d9041f6e1230091234cdb957312f9:-1491337460,1179a330ed61230008f5d3deaf3368a4:-703633333,198fd5d0672963002742ff2aaf1b62a7:653214133,286143162a512300179a9fa1149cb2b5:-1775750717,38097054e32d230066c153d89a7291f0:-1636200943,f90da0cec11d2300a789282db4c2adb4:-1550001264,5e2bec0e941d23003c6e4be6ea73647d:109465690,2c14240a931d23008f95c2656b79cb78:-756353963,d86bf034cfdd23007d1dc2bd4388f9b5:271861652,9c6a34f0e3dd2300ebb1c2d50a13a644:1614316610,24d9f0b0a0dd23002a789efd105eff34:1734769478,e2d8b4b002dd23008ebc5c8deba490b6:-108126077,2c82f8f8069d2300ad66e01a920ca8ca:-1724983683,3612b0b80a9d23008f9ed6d924fbebab:1540364315,42e7dc38935d2300e0de3f2187be1620:-1204231477,43d55438765d2300b45b4b40d5d3b5a8:805268130,e3455c38805d2300ba9a1d44f1804922:857438148,769498386c5d23008c4f4cb8fadcfdaa:-1621338520,7ff39cf4895d2300633e713eb421ff6a:-455666284,e0b318f4605d2300b10bfa56a982ce9e:-316314896,2c53dcb4ac5d2300b70f1da26c784820:-118295809,046e0030cf5d2300a24e1a51fdead2f8:-1385684051,5a788cfc611d2300834f2fa054f91816:-1359240877,6a3880b89f1d2300578725f4028d58dd:736222074,bef704f81c1d2300765aa299e7b18960:219317651,3778a35c2c9d23004a65a19087da4d1f:-1734151823,ee7c32903b5123009605089f4e6c41e6:1099110735,7032f2948b1123001c616915ab60ac94:-1973795082,da7aa294ba112300b82d085ec4d299e7:167166902,992962d48011230041dc3fe7fa285427:-1421300928,3af72254e0112300df0af591a557d7ec:-1813238366,28c7a294e5112300cfe623180e5170df:973855554,4429fa586f1123008c356343f1ee8a18:2132822927,5b187e94d71123000bea3a98b2fd7068:-1307038314,99b73618f4112300b27f5a6a2af81e15:-2042933398,0657f218cd11230072d7e7d6d338d97a:1648023869,fb8672d4761123007154290b730a49c2:249738484,bcf5b2d41e112300c937408694ab6d5b:-1452357570,e5d57e94b31123009aa00be49bc7c8f9:1434758410,36a5fa944011230028d31226edff39e0:-1452357570,70057694ad112300eeec48e8db0b9a7f:-748379148,dc243e148d112300e779c7af6f2f46fc:1749250996,18137e14c01123006f35f53d43d161cc:1366030069,fdd2fed0aa112300645889799a5aef9c:-924826859,d2513e5038112300cc0afe559cc7c569:906787000,d3ff1384d79123009de250047de407ba:1748273886,c27f9744ad91230077e1e88ac5da5a19:-1839780589,ac65707b334d23000d0dd694a833ae15:404346640,0880f077d04d23008ddcaef42728ee77:-925930928,b90d20673e052300b3878e6a48cef20b:-604739952,9bdce827d8052300168951dd9ade705b:-44265639,62cc20274e0523003b3f9084cb9705fe:-1214193021,9269d06bc1c123008ddb2cd9f1add7dd:442875045,8ee8d82beec1230076539f4a76353091:1483245893,4932c82b43812300caab0a4ba5786d37:2145505358,4171882baf8123003a97d0d738cae67f:-1392672512,35e76f9735412300c7c9f3643f2338b9:1228386291,1f95eb57814123005b31550c0a6cdb38:-1917638444,bf75eb57804123002bfb4259192493f4:1228386291,3055e797834123001d0bb75f96d54b7e:385956413,f98d406ab541a3000c48dccebd559719:1413015549,88bc442a8141a3007b868e8875d2b9ec:1470994925</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_user_role_contains_71d743991b5c90103ea740c6cc4bcb77</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role_contains"><sys_user_role_contains action="INSERT_OR_UPDATE"><contains display_value="catalog_admin" name="catalog_admin">e09d16f2c0a8016501281264b989e1db</contains><role display_value="x_nuta2_nutanix_ca.calm_admin" name="x_nuta2_nutanix_ca.calm_admin">7b91d2024fc1630065e48020a310c7bb</role><sys_class_name>sys_user_role_contains</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2020-04-20 05:10:50</sys_created_on><sys_id>71d743991b5c90103ea740c6cc4bcb77</sys_id><sys_mod_count>0</sys_mod_count><sys_name>catalog_admin.x_nuta2_nutanix_ca.calm_admin</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_user_role_contains_71d743991b5c90103ea740c6cc4bcb77</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-04-20 05:10:50</sys_updated_on></sys_user_role_contains></record_update>]]></payload>
<payload_hash>-207500089</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>b624eee4db711010eeb9808768961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171965b9c8e0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>catalog_admin.x_nuta2_nutanix_ca.calm_admin</target_name>
<type>Contained Role</type>
<update_domain>global</update_domain>
<update_guid>bdd74399c75c9010644707f8cc0bf07b</update_guid>
<update_guid_history>bdd74399c75c9010644707f8cc0bf07b:-207500089</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_properties_f1aca59507c49450c4dcf6fd7c1ed0b0</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>This is the Calm refresh token</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>x_nuta2_nutanix_ca.nuta_session_token</name><read_roles>x_nuta2_nutanix_ca.calm_admin,x_nuta2_nutanix_ca.user</read_roles><suffix>nuta_session_token</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2020-04-07 12:18:49</sys_created_on><sys_id>f1aca59507c49450c4dcf6fd7c1ed0b0</sys_id><sys_mod_count>314</sys_mod_count><sys_name>x_nuta2_nutanix_ca.nuta_session_token</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_properties_f1aca59507c49450c4dcf6fd7c1ed0b0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-05-25 06:35:54</sys_updated_on><type>password2</type><value/><write_roles>x_nuta2_nutanix_ca.user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=f1aca59507c49450c4dcf6fd7c1ed0b0"/></record_update>]]></payload>
<payload_hash>533053144</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>ba24eae4db711010eeb98087689619e8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1724a9df8ab0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.nuta_session_token</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>ddfaaf6c0f8558102fb12b2c372ef8f9</update_guid>
<update_guid_history>ddfaaf6c0f8558102fb12b2c372ef8f9:533053144,b6a9236c1685581085c94112fb100689:962976749,8099af2c918558105bda25368c673667:934230499,95792f2cb98558105601aacf2d2e5315:671725190,aa596b2cf3855810b4fd9525fba3c578:526480015,f7396b2c978558105f8d5fc9aaf52c6f:479017271,8929e72c98855810204967a1b5002e8d:-656999583,d209a72c488558100d2aebe719446d28:25854495,c3e8272c6285581000260a6b7349f646:1848305997,48d8632cca855810f363338eccd7d4fb:1663221989,66a8afe803855810d64d32d0c31c95d4:94701235,edf763e8ec8558104593119fc295acf0:1696571235,640e0c6e2038d010445e5859ccc66023:1951806379,24ed0c6e7c38d010a692deb168c56c1a:-114426657,e8cd886edc38d010738e330d59ab031f:2110265052,50ad086ee838d0104c10f03399846495:1834734304,337d446ecc38d01010c36ea942f97770:-1424137964,cf5d446e2638d010612034f00b8dda66:2092404311,623dc06e3338d01048ec9672b7603b47:-1570579593,061d406e0138d0104ccb449265508733:172513530,6dfc8c2e5b38d0104c7279befe0b3758:1371369788,2ddc8c2ecf38d010edc7165d9b48974f:554594776,99bc0c2eb838d010dc61c4421589c261:-1469588440,449c482ebf38d01022cfa29862ead16e:-228905288,b26cc42e8938d01088181527f10b1329:-1299282655,614cc42eaa38d01096c5c8696a9d0220:-1430460354,c82c442eea38d0102706d55d8f85b763:124016918,cbfb802e1338d010d02f00186e8ec04a:-561815119,aadb802e2438d01049c8b0122fce6041:186285379,e2bb002ecb38d010c161fac23c905d2e:-1422867479,a29b8ceaa038d01002a2f3e80c74f997:-1937315879,827bc8ea6638d01042b9243ecc5efdc9:653713772,b95bc8ead738d010c0574cd5f1f894bf:1811247946,293b48ea8e38d0107168da93deba7ed1:-973583463,d91b08ea5f38d0105a2812943372a208:1699979545,a5fa44eaf338d010592f913dc1529515:-929064728,ddda44eace38d010aedf21466959360b:722770872,a1bac0eab638d0107f914b5fea648243:-1693907881,a59a00ea4138d01091bb72e0b1e44f9a:-83206412,ed7a8caa4f38d01011fb17092dd94e86:-247974865,9d5a8caa0e38d010998f18e730b2de7d:554259689,383a0caa5f38d0100eea854b4c70fbc1:-1156541340,091a48aa9038d01072f79235f618eaf3:-417846744,e4f948aad538d010beb685557278cbea:543164509,44d9c4aaa238d01084700c3d7741d7fc:223100106,27a984aa8938d010152b00e0cf04041a:584095704,a689c0aa4d38d01090e3258afc0a9733:-1684996683,4669c0aab238d010579e1337321af62a:-1976314236,654940aa9238d010973553cea7a69823:-1646396643,a829cc6a4a38d0100d91ae891a13b97f:1433913584,baf8886a6d38d010ad76742e527b0d5c:-873710047,4bc8886ac238d01065d134ed70b98f53:-395285406,a2a8086a9638d0102261b1b00c5cd440:2132574487,8e88446aea38d010f06235cbb1c0db58:-1247186343,f568c06adb38d01050ce87e8a7647c45:1830739455,9548c06a5f38d010081479bd74c24c3c:639628278,8d28406a2f38d010840df72df33d9598:-975183766,50088c2a2638d010e8b3a4ea706e2e99:-1432764362,23d78c2ac338d01098ad3c6f00716d90:-626009371,8fb70c2ae738d0109d63e24069d7a3a1:194329946,0a97882aac38d0107e25e725bf6d1ee5:366672194,1177c42a3838d010433d90f9aec8b369:1114059577,dc57c42a6d38d0106a7a4bb0e80ae95f:-1402804021,9727442a7d38d010f0c29d476ab41665:1287269248,9607c02afc38d01074f374fa880247b5:1384279671,f8e608665c38d0105a217eddb3830c30:2004809594,abb608668038d01028168da07e7ba627:1232278928,7e9648260c38d01075d4d8d2387c6b27:1947420894,4c76c8229f38d01009dc479af71bef45:-1410641391,8d46886e27f4d010e529e5486f01cda6:-1374282656,4e16886ee0f4d01056a7dc7f7d12ab9d:-405741455,d4f5ccea14f4d010243b72cc48bb093a:945168193,5bc50caa74f4d0103c2d05faef955ec7:-2017620795,1aa50caaa5f4d0107d59a2533e6d7abe:1692648270,748540aad1f4d010e7fecd0092b7017c:752352003,4465486a4af4d01059de8b12b0057e3d:387270107,4b35442a58f4d010647b87747b1034ea:-475295778,6815442a95f4d0102c2253a62c5b57e1:-541673444,c5918c2619b4d010cc84ce434e915e6c:-1141558884,c251c826dfb4d01001102b1a03be3034:-396729872,7180fe6caaf814506e52651c92af569a:1118044726,de603a6c65f814509392a97b38b18f3a:1276614322,2a40ba2cdef814509227f5071cc25dfa:-1307780647,e620ba2c23f81450729c5c25138ebcf1:-1237198618,7200b22c09f8145016264d1f1d6accfd:2117593820,dbefeae838f8145032437f338aa383cf:1215538303,afcfeea860f81450dd38d2ce25c7cd24:-778205188,7fafeea8c2f81450befd68d80c95941b:1786104772,009f2a682bf81450cf22c3fbe72fc456:1239856653,736fa228a1f81450a06e9ba3a4783125:1591451211,ab4f62a495f81450e6ea13183cfce3c0:522107682,6b2f62a430f814504fdb4aaa9b95e5b7:-989553727,6e0fe6e001f814507bb6fe3c6a8733d9:380554225,61eeea6cafb81450f7168e9acd8857e5:127272953,eccea6a828b8145001c976aa478868a8:-1981981077,af9ea6a8fcb81450c6a88d54023aaa9f:420923429,9e7e2ae40fb81450defd99f480eb4d49:956951546,2d5ea2a0ebb8145094258e1846085267:-497143948,e83ea2a047b814500a98561e33e5ba5e:-501197406,2f0ea2ecb7781450a80cd9e7ab4e8b0a:679909841,c3ed6a2c0a78145085f42f8f8b565732:-1074729038,3ecdaae4ad781450b4ddb8aa8b152c29:-37939002,daadaae4aa781450478345c9bce1c220:-242092167,798d6664d2781450b4e3ca53e7bd2cfe:1600586330,cd6dee20a5781450f1444dd2fcb11544:-2094404904,284d26ac733814502448aeef4cbc1e7a:1893030561,d42d26acbc38145013b5c39021239171:1936550284,ac0d6ae85c3814503d912942ade20e43:72179992,b0ecaaa47b3814502aefeae81fd14916:774745524,41ccaaa406381450d7e979311f17320d:778157420,19acaee057381450b463fd5a3b13f318:827822428,b98c2660e9381450c9bb43f7b748dc53:-1152438580,126c2a2cbef41450349526c4fea34129:-1728460613,0b4c2a2c09f41450df44453a408eb31f:1811847500,372c6e681af41450442a2b50348e0ede:650396584,641ca6e496f4145035a00123a02ea555:-173100108,05fb62e0dcf414507f06b4bbbc015b1d:1984532739,f1db62e01bf41450d13f07de144f5a14:-678232956,bebbaa20b9f41450fb27c8e440deda5e:-2142676610,bf9b662c29b41450800aac33c7aa067d:991248652,388b2e6874b4145077de4f3e05dec1e3:1510622999,d66b2e6825b41450db0d599c23c509da:-1720274896,6b4b6ae4b2b414501a9b16ba79afe44d:-2006350774,b43ba6e0f4b414501bb8b65dc51a1d83:1682692053,461ba6e0c3b41450be94988013c6cf7a:1044431785,d3faae2081b41450425d883d9828f475:951657800,89ea2eac267414508f686ae86721f19b:-1639530120,36caeaa8817414501d2a152bef8cb021:1843173633,d0baeaa8f1741450ecc94b26077bf118:-472203381,6d9a2628067414506246bf3940c1f40b:343791146,ea7aa224647414504bcc78795125975f:1807677913,2b5aee606f7414502220980608a92274:-1427298371,d54aee603b741450c239333fde095c6b:-2131357118,762a2620a174145032a4eb12cd12929d:1812642673,241aaaacbc341450c52f9693715fda26:1906116288,c3f9aaacd834145082f4beade06eca1d:-554621650,9de9e2acc7341450206bb11da9c14146:-561891294,3bc92e6cc43414503a8da199aa92ece0:1393495597,a2b9a26c3d341450917f3a9f56920c97:1552973688,11a9a26cd2341450fa945f5ce0d3ec8e:-268105496,60992e2cef3414505257deb5d8d08234:779083711,d379a62c3b341450a8b0d7b0d02e01f8:-1502697119,a669eae8533414508ab749db4c4aaedb:-1095969573,7559eae818341450ad93ce5fa2caa5d2:-1544331681,2c49a6e8e3341450d740e0ea5bfef94b:-1238700703,7f292ea87e341450067773d2a8d80cd5:-515364875,5b19a6a8603414509db3944b2c5beb56:-418511516,2a09a6a86c341450c767cb1a7263324d:1516024107,61f862a8733414506cc9830ca2666f1e:-545407508,b4e8a6689934145076c8dd261f15cfaf:118447407,27c8a668193414500f9d94df58a8c6a6:-263444059,16b8ae281b34145039b650c4be0a2367:-770926519,05a8e228de3414506eecaa2edb05a30c:-1482048654,7f8866e42034145060ed1b74eb88a14f:1673114686,3e7866e42d341450f7cb06bc37fee146:-980134556,e1686aa445341450365c39b1428b90f8:1119982890,8458e664bb3414500b172972fb0538dc:1161532146,fa38ea24bf341450e0165d50aa4f21df:437910997,a928ea247134145043899c96fbf1edd6:862603459,2b082224f2341450fda78caf2655313d:420004466,b4646ea865701450fb564e6836e40e74:1915317721,e833b0cafc6c1c10f18009e776f8bf67:256910660,3623fc8af36c1c106efe34dab8ef1ebf:1723163614,d523fc8a376c1c104a4f83adf2fb47b6:-1120186398,eb133c8a706c1c10d89f31c1692261e8:1223014714,b913b88ab46c1c10995637dff5a513bc:1704040213,d813b48a416c1c1028f4dedd6fc86be9:-408789891,ae03b48ae06c1c100bc82ce06c5b9fe0:-1525533803,bc03748a386c1c10dff3c0ab0795a50b:1596737436,97f2b08a4f6c1c103855804def08450c:1843756506,69f2b08ac86c1c10bdf099c7471eab03:571211569,ffe2fc4a396c1c10133ad14e5c2bec1c:-1005058688,c2e23c4a496c1c105ecb50f6d2d23c4f:-368771872,9ce2784a2b6c1c10158e60e14e12f88d:-416254363,72d2784a636c1c106c66604276a3cc85:-1995194720,89d2f44a7e6c1c10f98c4f8a49117ba3:1356997209,2fc2344a676c1c104de2a46a762e48ee:838276485,fdc2344a6e6c1c1036eb1bcf4c585de5:1687758224,18c2b04a686c1c10749b2745efa4773d:-202173310,2ab2fc0ac96c1c106357440ab16e14a1:1100214693,f4b23c0a526c1c107c69fde4c87ea9ae:-2002180736,8ba23c0ad06c1c10ffb4af93a8d61ea5:-502814871,15a2b80a196c1c10a90939975cc40392:-1939431096,1b92f40a706c1c1059ac64ee6498cdc4:663501130,f992f40a656c1c10fee8265de51b5abb:2022377439,4892740a306c1c1058dfdaa80b396f38:922943876,0a82f00ad96c1c104e73afc81bcbcc0c:1501099723,d882f00a886c1c10801e74a1b4916c03:1955299288,3e72fcc6c56c1c108746616cd7a077f7:-2114336709,c172bcc6106c1c10b8b03b4d29f88c2f:-1063039405,5362b8c6036c1c10992547749c56a0e5:1295567247,ad62b8c6b46c1c10227b06d1f03ff0db:-1551260289,ff52f4c6356c1c10f601c53cfd3d30cf:208343250,8e5234c6f56c1c10e7c2d99b2e8a98dc:-1995234106,505234c61d6c1c1020fff35b1c62a1d4:-1178394439,f242b0c6526c1c10a55549ee2b280c1f:539271795,894230c60a6c1c100d2af71ae8caaf56:1656911248,5b323c86196c1c10af5ac4a5c478d69c:-599989708,2d323c86ea6c1c108c2870652c1a2893:-1161576350,4432b8864b6c1c10c1518620fcdc3eb2:839237872,1622f4866e6c1c10d0b53007a994adbf:493036737,e422f486316c1c1062a470117712b6b6:-1610102501,7a127486476c1c102177e3bb8ba5ff01:-1348124329,9112b086566c1c10e59cf2fd8bc6c759:-631291423,6302fc466c6c1c103e55512c7a4e2666:-2101219563,0602fc46886c1c107e62eb53f82db95d:-805318178,90027c46b06c1c102c4b329b9742eda1:648674657,e6f1b846976c1c107ae8b33d11c1e563:-1812124418,b8f1b846496c1c108584bfb3247a165a:-1073523369,0be1f446076c1c1081926a99800244d7:-730468549,51e17446ff6c1c10284d36188bad032f:-366651410,77d1b0465b6c1c10820a904e2c892261:2058753897,0ad1b046e36c1c10a8e569f9f47a6258:-393677890,28d13046136c1c1005fb3ffa7df36883:1784261795,bec17c06686c1c1097178b0efe12199c:-501798752,41c17c06406c1c10000fd2b23638d894:-1423493209,9fb1b8064b6c1c10681e7d54032046b9:-1420991845,15b178064a6c1c109963d247f3c2d261:1816741931,f7a17806786c1c1056204272a10ed458:-988227105,1aa13806626c1c10b27ac96707818ca1:-68211784,8da13806486c1c103cf382f54c24440f:-1005702241,df9134064b6c1c10c80ded27b332533c:817989150,91913406096c1c10dab19d8568629234:1389893446,fb81b006a36c1c10c9a8883222dee152:-266165391,8681fcc2746c1c10063ef76e0e208f91:-1853309350,5881fcc2e96c1c101fb755547a16f088:-553410937,6e713cc28e6c1c10af69d02db9169aba:-586269935,bc7178c2d26c1c103132680e53c2d0ae:-932706076,0361fc82cc6c1c100e0b1919992926fb:1635499411,c161fc82fc6c1c10bdec94776d66f9f2:1533209952,835178826f6c1c10704901ed94f08b1c:783635121,dd513c42ee6c1c104262a51e6bbdfd26:1164283148,93413c42266c1c10158d47f9948a9c1e:1584745094,d941b042de6c1c10a4d4c0f47b048db4:-508267640,1f31f802d76c1c10a21f9ff3e517bdc5:-1665443138,a5317402576c1c108122bb529e218f91:-1048236101,6b2174026e6c1c10390c6edc2cb85e88:2041357191,ad213002346c1c1085c34a9fb5714bbc:2100164771,2b1178ce892c1c1042d22b795e2f93c1:-2138175544,e91178ce092c1c106c54f8ed19e042b8:540687551,6301f0cef82c1c1079a0b6eed95589b6:-641393388,5901788e5c2c1c10876f2abf8af8aab7:-815898354,6ef0788e082c1c107f78425c635f75ae:-1796610348,381b680e92a41c101b69639d6ad3023e:1729291107,fb0b680ed0a41c10dd3af94967a86a35:695963705,7a0b280e2da41c10d1dd55799e628340:958662649,8a0be40e2da41c10adcded8872bf6389:-1207405065,5d0be40eaaa41c1052b451f386271e80:987053366,a00b640e2ba41c10db2a4cead7ea68d1:261202241,bffa240eb8a41c10b279b3de588b08f4:302112765,43fa240eb2a41c1062a0af582345d4ec:-1030100411,12fa600e5ea41c10c594d772df17c8f9:-985965511,a5fa200efda41c10000a7f81d033eda0:-68702927,f0fa6cca4fa41c103bdee7162cad60c6:-1279614864,84fa6cca1da41c10b7457a4eb6dccebd:-641207182,1beae8ca3ca41c10c8aab55cb5b35ccf:-1360714803,daeaa8cab0a41c101a8b07f2efcce138:-968465951,adeaa8ca42a41c10f749771c1b35202f:1002424085,3ceae4ca71a41c1041495e596ba1c7ac:-241079250,54ea64ca45a41c10973d3ce9fdefc2cb:1296896509,53daa0ca86a41c10c0e65f1ae3ecc59a:-266087462,26daa0cadaa41c10ca1f5f80d0c86991:-1534511686,f5da20ca26a41c100c11b46889e5f8fa:1571248874,0ddaec8a25a41c10a063d42d9e1a034a:-692976446,ccdaec8a0ca41c1052f190e41dd86141:-1965942383,6fca2c8a80a41c10a1222b169bee31be:1836897920,f2cae88a63a41c10d3e350ec81b54166:-645915391,02ca288a09a41c10ac12cf8a6d0b818c:-683964257,d1ca288a0ba41c104958ecbbe5b28583:1030032829,a4caa48ac2a41c10af3aba6f2c56edec:-2059459395,33ba648a4ca41c101f52fb5c22bbd662:1804214658,03ba648a69a41c1013601f8fb9f5c059:-408949429,a2baa08a31a41c10b195ecb7198be5a4:1081271117,2dba608aeba41c1014923feee0e39f19:1261425712,89ba6c4a12a41c10393611fc5bad62cf:1555318073,3faa6c4a1ca41c1011c2eb1dddcb9bc6:-1202075144,4faaa84a5fa41c10bf47be7e882e28ba:1051528309,cdaa284ab2a41c107f48425cc1cf65b3:-1904494573,539a284aeea41c10093fcd599a4989ab:-1328189267,c69aa44affa41c10e5d8a321d0febe8b:-794042214,b09a244a7aa41c1019ef16514e070991:-731116168,678a244ae4a41c1010dabeead5988188:-319493395,4a8aa04ab7a41c10a37398ab29e4c72a:1228570502,2707ec4ef7e01c10992081e492023aeb:291345614,4f07ec4e33e01c10fb28e63da898830e:1617351516,1207ac4ea4e01c106e00a360fc92127d:604315354,e107ac4e4be01c10628474ead63f5b6b:524346134,1bf62c4e68e01c107e57ccdf24894196:1578850729,7532e08ae8e01c10e743c166826e8c16:-104850492,1932e08afbe01c10e47ea92f5882dc0d:1991104903,6032a08a9de01c10de3386b577f413ba:-1819112100,0c32a08ae9e01c103a0f72c509a2844d:-1780710661,ef22a08a8de01c102b34acd0049fe344:1132715715,0322608aaae01c10ab108e7cdc73088e:-29440145,de22208a63e01c10f7e6cd03eafe9aef:-139199763,f922208a44e01c10b23a99df69f8ae13:258162187,8d22208a25e01c10511bbe9bb7cc4e0a:1952177770,e422ec4a0ee01c10489c3ed02a1287b7:-1921228120,0422ec4ab8e01c1043d6311ece5f6932:-467686795,d712ec4acae01c106557f4104bff1829:1730139902,fe12ac4a32e01c10d1d683a7e7fd817e:963162455,de12ac4ae3e01c104decda181a64cf37:-844873374,2d126c4aa1e01c10cd512c067307dc5b:-1283950882,cd126c4a78e01c10b8f5380434dc6a52:1627234533,ec126c4a3ee01c1080cd59c4f0c1330b:-1381241852,c4122c4a79e01c1053dc0a587b722a9f:1964763871,9b022c4ad3e01c102c76622ba79dc896:-1638154678,3602e84a9ae01c103fab28763d6f0bba:1775651251,4202e84a54e01c10ed24f0963cdb7135:-1456748301,2502e84a00e01c10f7f2464b3050ff2c:566240272,bc02684a78e01c10b4edc99103db4c73:-1071325140,77f1284adae01c10710e823abf1950ae:-31998091,cbf1284a82e01c10ddabad9430ef2ea5:431770827,47cd2dd54ec4945033e8de2f452b7d3e:-8396962,d52d2d9d77849450161714b665f50336:2041362215</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_transform_map_4aa55235db81230084249235ca961908</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_transform_map"&gt;&lt;sys_transform_map action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;copy_empty_fields&gt;false&lt;/copy_empty_fields&gt;&lt;create_new_record_on_empty_coalesce_fields&gt;false&lt;/create_new_record_on_empty_coalesce_fields&gt;&lt;enforce_mandatory_fields&gt;No&lt;/enforce_mandatory_fields&gt;&lt;name&gt;Nutanix Transform Projects&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;run_business_rules&gt;false&lt;/run_business_rules&gt;&lt;run_script&gt;true&lt;/run_script&gt;&lt;script&gt;&lt;![CDATA[(function transformRow(source, target, map, log, isUpdate) {
	
	// Add your code here
	//log.info("source="+source);
	var logger = new Nutanix_Calm_Logger();
	var appUtil = new Nutanix_Calm_Utils();
	logger.info("Transform map ["+ map.name+"]. started.");
	if( source.owner_reference ){
		logger.info("Parsed owner reference.");
		var parsed = JSON.parse(source.owner_reference);
		//log.info("parsed.uuid="+parsed.uuid);
		target.owner_uuid = parsed.uuid;
		target.owner_name = parsed.name;
		//var user_id = parsed.uuid;
		/*var gr = new GlideRecord('sys_user');
		gr.addQuery('uuid', user_id);
		gr.query();
		if(gr.next())
			target.owner = gr.sys_id;
 		*/
	}
	if(source.environment_reference_list){
		logger.info("Parsed environment reference.");
		var parsed = JSON.parse(source.environment_reference_list);
		var env_list = "";
		for(var i in parsed){
			var env = parsed[i];
			env_list = env_list + env.uuid ;
			if(i != parsed.length-1) env_list = env_list + ",";
		}
		target.environment_uuid = env_list;
	}
	
	if(source.subnet_reference_list){
		logger.info("Parsed Subnet reference.");
		var parsed = JSON.parse(source.subnet_reference_list);
		var subnet_list = "";
		for(var i in parsed ){
			var subnet = parsed[i];
			var grSubnet = new GlideRecord(appUtil.configuration.table.subnet+'');
			grSubnet.addQuery('uuid',subnet.uuid);
			grSubnet.query();
			if(grSubnet.next()){
				subnet_list += grSubnet.sys_id;
				if(i != parsed.length-1) subnet_list = subnet_list + ",";
			}
			
		}
		target.subnet = subnet_list;
	}
	
	if(source.external_network_list){
		logger.info("Parsed External Subnet reference.");
		var parsed = JSON.parse(source.external_network_list);
		var external_subnet_list = "";
		for(var i in parsed ){
			var external_subnet = parsed[i];
			var grSubnet = new GlideRecord(appUtil.configuration.table.subnet+'');
			grSubnet.addQuery('uuid',external_subnet.uuid);
			grSubnet.query();
			if(grSubnet.next()){
				external_subnet_list += grSubnet.sys_id;
				if(i != parsed.length-1) external_subnet_list = external_subnet_list + ",";
			}
			
		}
		if(!external_subnet_list=='')
			target.subnet = external_subnet_list;
		
	}
	logger.info("Transform map ["+ map.name+"]. completed.");
	
})(source, target, map, log, action==="update");]]&gt;&lt;/script&gt;&lt;source_table&gt;x_nuta2_nutanix_ca_nutanix_staging_project&lt;/source_table&gt;&lt;sys_class_name&gt;sys_transform_map&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-10 09:03:49&lt;/sys_created_on&gt;&lt;sys_id&gt;4aa55235db81230084249235ca961908&lt;/sys_id&gt;&lt;sys_mod_count&gt;42&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix Transform Projects&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_transform_map_4aa55235db81230084249235ca961908&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-19 15:34:50&lt;/sys_updated_on&gt;&lt;target_table&gt;x_nuta2_nutanix_ca_nutanix_project&lt;/target_table&gt;&lt;/sys_transform_map&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1223630569</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>ba24eae4db711010eeb98087689619eb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171964300140000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix Transform Projects</target_name>
<type>Table Transform Map</type>
<update_domain>global</update_domain>
<update_guid>f81dc0957cdcd450ff65c39ce0ba6255</update_guid>
<update_guid_history>f81dc0957cdcd450ff65c39ce0ba6255:-1223630569,db97076701f30810460aa217d964158f:-1806716479,5c37c3630bf30810557c5d7489553431:-1855069457,80a64f23b3f30810fb50415a5422321c:1710793284,7d26cbef76b30810b30c4d8f132b4862:-1461929746,37c5cbef2db30810c40a44bd2f5a1eb7:-795492319,8a454f236ff30810ee60e98c5f212816:-177799523,3fd83663b1bfc4105852160f5f3810c7:2070835878,6270351fcd33c410b728fbc92a741a71:-782356623,fa956d1fa233c4108a504e375a8ee4c3:346142231,bcd4251f8833c410ae55d4cb4360cab5:12356907,bce3e19bea33c410af9117fbd39fce99:1277909195,ec03259b3d33c4101ff32035f2855bf4:2107031113,f7a1e51b1d33c41047f890b7e427dbd7:-370014471,1b11e51bd033c4107f0f7c8d6469b0d3:1507783323,e7802dd71d33c410d1acf281057bec12:270038981,379952b9e5ff4010fb99e5cf99dab5c6:1353976123,87481ab5e1ff40100cce2cbfe9ae38f5:1531492433,e62a0ac47936370074da9a98cf2ece99:-1884124105,8b3adbd1a5a23300a0adc0a685dfd6a9:351624344,3fd85bd1d4a2330054f86fc6b1b93cd7:-1964267031,f7381f51caa23300ffe5120f7b87ec5e:1055756306,f3a51b512ba2330087de4748fbd57990:-429988471,3c2fd7971579e30095481212e440b76d:-792595633,ee4dded664f92300524883ee9e838166:1114606849,36696282dfd1230042259c4e9a2deecf:916467442,4659a28205d12300107c172b88f8461b:1239040754,ca39628230d12300762afaea31c85035:180598386,d1f8e2424bd12300d8566d766c7cf18b:-822314752,a4c63434791d63007278cf68ff506d87:-2135076341,436a92c4b4912300d4da6341f82e7caf:54635049,760e09eb90452300c1297cc7ad9ffeb8:-1019450919,784ce3037fc563007ae930e03d2318ff:349714335,b8cd170bf78563008f6d0f46706780c8:409996191,ba8d530b79856300025f2d5d831fcab6:1921047120,41c9d5e6ba05230076e64604de203ad6:-1779566965,2219d9a6db05230090b527b32b3fdd20:371330636,989cfb52db01230066ada4ed1d4e80e6:-1558227917,045ceb4e338d2300bf9be39e84086fe7:1090171891,ea69e34e998d230041c4c552ff891237:-922102989,98096b0efd8d2300b1b882d9ed05c3a3:454349668,2565a38a6a8d230004f5b3590368f90b:930159110,5ca953f10545230035ff7f1ac5cfa651:1706137396,0dc7df717d4523001e4b613737d81837:-1768500373,9e061635cd81230068427a5b80a641de:-1518945053</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_script_38fc438137796300fdfc097973990e10</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description/&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Cred_Con&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

function showDropdown(checked){
	g_form.setValue('environment_mapping', checked);
	if(checked){
		document.getElementById("credShowHide").setAttribute('style', 'display:none');
		document.getElementById("envCredDropdown").setAttribute('style', 'display:block;width:70%;margin:4px');
	} else {
		document.getElementById("credShowHide").setAttribute('style', 'flex-basis: 33.3%;');
		document.getElementById("envCredDropdown").setAttribute('style', 'display:none');
	}
}

function getDropDownValue(){
	
	var credetialMap = g_form.getValue('environment_mapping');
	
	if(credetialMap &amp;&amp; credetialMap+''=='true'){
		$j('#credetialMap').attr('checked', true);//.click();
		showDropdown('true');
	}
	
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Mapping Credentials...'); 
	loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
	
	var project = g_form.getValue('project');
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'mappedCredentials');
	ga.addParam('sysparm_project', project);
	ga.getXML(dropDownOption);
}

function dropDownOption(response){
	
	var jsonData = response.responseXML.documentElement.getAttribute("answer");//'[{"label":"CENTOS","value":"3234"},{"label":"TestCENTOS","value":"123"},{"label":"Test","value":"1237899"}]';

	g_form.setValue('credentials_mapping', jsonData);

	fecthCredentials();
	
	new GlideModal().get("loader").destroy();
}
	
function selectedDropdown (id, text, value, parent) {
	$j("#"+id).text(text);
	var credential_data = JSON.parse(g_form.getValue('credentials_data'));
	credential_data[parent].credential_reference.label = text;
	credential_data[parent].credential_reference.value = value;
	g_form.setValue('credentials_data', JSON.stringify(credential_data));

}
	
function printRow(parent, value){
	var credential_data = JSON.parse(g_form.getValue('credentials_data'));
	credential_data[parent].runtime = value+'';
	g_form.setValue('credentials_data', JSON.stringify(credential_data));
}
	
function renderMappedCred(jsonStr){
	//console.log("insuide renderMappedCred:- "+jsonStr);
	var credHTML = '';
	//if(jsonStr){

		var idCount = 0;
		var jsonObj = JSON.parse(jsonStr);
		for(var i in jsonObj){
			var entity = jsonObj[i];

			var parsedJSON = JSON.parse(g_form.getValue('credentials_mapping'));

			var dropDownString = '';
			var parsedJSONLength = parsedJSON.length;
			for ( var n = 0; n &lt; parsedJSONLength; n++ ) {
				if(entity.secret_type.value == parsedJSON[n].type){
					var dropDownStr  = '&lt;div class="dropdown-container" onclick=\'selectedDropdown( "envCredOption'+idCount+'" , "'+parsedJSON[n].label+'", "'+parsedJSON[n].value+'", "'+entity.credential_name.value+'");\'&gt;&lt;div class="row"&gt;&lt;div class="col-md-6 credential-dropdown-menu-label"&gt;'+parsedJSON[n].label+'&lt;/div&gt;&lt;div class="col-md-6 credential-dropdown-type"&gt;'+parsedJSON[n].type+'&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;&lt;div class="credential-dropdown-secondrow"&gt;USERNAME:&amp;nbsp;'+parsedJSON[n].username+'&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;';
					dropDownString += dropDownStr;
				}
			}
			var checked = (entity.runtime === "true") ? "checked='true'" : "";

			var defaultMsg = (entity.credential_reference &amp;&amp; entity.credential_reference.label) ? entity.credential_reference.label+'' : 'Please select a Credential';

			var entityRow = '&lt;div class="row" style="margin-top:10px;margin-bottom:10px;"&gt;&lt;div class="col-md-3" style="padding-left:0px;"&gt;&lt;p style="margin-bottom:0px;"&gt;' + entity.credential_name.value + '&lt;/p&gt;&lt;p&gt;USERNAME:  ' + entity.username.value + '&lt;/p&gt;&lt;/div&gt;&lt;div class="col-md-7"&gt;&lt;div class="dropdown"&gt;&lt;button class="btn btn-default dropdown-toggle credential-dropdown" data-toggle="dropdown" &gt;&lt;span class="credential-dropdown-label" id="envCredOption'+idCount+'"&gt;'+defaultMsg+'&lt;/span&gt;&lt;span class="caret credential-caret"&gt;&lt;/span&gt;&lt;/button&gt;&lt;div class="dropdown-menu credential-dropdown-menu" style="padding: 5px;"&gt;'+dropDownString+'&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="col-md-2"&gt;&lt;input type="checkbox" name="" onchange="printRow(\''+entity.credential_name.value+'\',this.checked)" '+checked+' &gt;Runtime&lt;/input&gt;&lt;/div&gt;&lt;/div&gt;';
			credHTML = credHTML + entityRow;

			idCount++;
		}
	//}
	// 		else {

	// 			credHTML = "&lt;p&gt;No credentials are defined for this blueprint&lt;/p&gt;";
	// 		}
	$j(".mappedCredential").html('');
	$j(".mappedCredential").append(credHTML);
}

function dropDownOptionId(idCount, key){

	var jsonData = g_form.getValue('credentials_mapping');
	var payload = JSON.parse(jsonData);
	var select = document.getElementById("envCredOption"+idCount);

	for(var i=0; i &lt; payload.length ;i++){
		var entity = payload[i];
		if(key == entity.type){

			var dropDownStr = '&lt;div class="dropdown"&gt;&lt;button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"&gt;Dropdown button&lt;/button&gt;&lt;div class="dropdown-menu" aria-labelledby="dropdownMenuButton"&gt;&lt;div class="dropdown-item" style="border-bottom: 1px solid #d0d0d0;"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;CentOS&lt;p&gt;Username&lt;/p&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;PASSWORD&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;a class="dropdown-item" href="#"&gt;Another action&lt;/a&gt;&lt;a class="dropdown-item" href="#"&gt;Something else here&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;';
			select = document.getElementById("envCredOption"+idCount);

			$j('#envCredOption'+idCount).html('');
			$j('#envCredOption'+idCount).append(dropDownStr);
		}
	}

}

function printConsole(name, value, parent){
	alert(name+"\n"+value+"\n"+parent);
}

function fecthCredentials(){

	var type = g_form.getValue('type_of_blueprint');
	if(type == 'published'){
		document.getElementById('mappedCred').style.display = 'block';
	}else{
		document.getElementById('mappedCred').style.display = 'none';
	}

	var val = g_form.getValue('credentials_data');
	if(val){
		renderCredentials(val);
		renderMappedCred(val);
		return;
	}

	var type = g_form.getValue('type');
	var project = g_form.getValue('project');

	var blueprint = (g_form.getValue('cat_item'))?g_form.getValue('cat_item'):g_form.getValue('blueprint');
	var application_profile = g_form.getValue('application_profile');

	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Getting Credentials details...'); 
	loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'getCrendentialsDetails');
	ga.addParam('sysparm_project', project);
	ga.addParam('sysparm_blueprint', blueprint);
	ga.addParam('sysparm_application_profile', application_profile);
	ga.getXML(responseParse);
}

function responseParse(response) {
	var answer = response.responseXML.documentElement.getAttribute("answer");
	g_form.setValue('credentials_data', answer);
	renderCredentials(answer);
	renderMappedCred(answer);
	
	new GlideModal().get("loader").destroy();
}

function renderCredentials(jsonObjStr){

	var credHTML="";
	var isLaunch = "";
	//console.log("insuide renderCredentials:- "+jsonObjStr);

	if(jsonObjStr &amp;&amp; jsonObjStr!="{}"){

		var jsonObject = JSON.parse(jsonObjStr);
		var k = 0;
		for(var i in jsonObject){
			var headerArrSvg='&lt;a href="#" style="display:inline-block;padding-left:10px;"&gt;&lt;svg onclick="showRow('+k+')" xmlns="http://www.w3.org/2000/svg" version="1.1"  id="leftArrow'+ k +'" x="0px" y="0px" width="12px" height="12px" viewBox="0 -6 24.948 54.465" enable-background="new 0 0 24.948 43.572" xml:space="preserve"&gt;&lt;g&gt;&lt;path d=" M0.927,5.396c-1.235-1.235-1.235-3.235,0-4.471l0,0c1.233-1.233,3.235-1.234,4.47,0l0,0l18.625,18.625c1.234,1.233,1.233,3.235-0.001,4.47l0,0c-1.234,1.234-3.235,1.234-4.47,0.001l0,0L0.927,5.396L0.927,5.396z"&gt;&lt;/path&gt;&lt;/g&gt;&lt;g&gt;&lt;path d="M5.397,42.646c-1.234,1.234-3.236,1.234-4.471-0.001l0,0c-1.235-1.234-1.234-3.235,0.001-4.47l0,0L19.55,19.551c1.235-1.234,3.236-1.236,4.471-0.001l0,0c1.235,1.234,1.235,3.236,0,4.472l0,0L5.397,42.646L5.397,42.646z"&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#" style="display:inline-block;padding-left:0px;" onclick="hideRow('+k+')"  &gt;&lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="12px" height="12px" id="downArrow'+ k +'" viewBox="-25 -30 500 500" style="enable-background:new 0 0 451.847 451.847;display:none;" xml:space="preserve"&gt;&lt;g&gt;&lt;path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/a&gt;';
			var disabledVal = '';
			var usernameCheck = '';
			var readonly = '';
			var readonly2 = '';
			var readonly3 = '';
			var selectedSsh = '';
			var selectedPassword = '';
			var Checkfield = '';
			var fieldValue2 = '';
			var setDisplay = 'display:none';
			var setDisplay2 = 'display:none';
			var fieldValue = '';
			var setDisplayCheckbox = '';
			var credential = jsonObject[i];
			var header = headerArrSvg+'&lt;h1 class="header" style="padding-left:5px;display:inline-block;" &gt;' + i + '&lt;/h1&gt;';
			if(isLaunch){
				readonly = readonly2 = readonly3  = 'readonly';
				disabledVal = 'disabled';
				setDisplayCheckbox = 'display:none';
			}
			var onchangeField = 'onchange="changeValue(\''+i+'\',\''+credential.credential_name.name+'\',value)"';
			var onchangeCheckbox = '';
			var credetnialNameStr = '&lt;div style="padding: 10px;  width:100%;float:left;"&gt; &lt;div style="padding:1px 1px 12px 1px;"&gt; &lt;span class="nameField"&gt;Credential Name&lt;/span&gt; &lt;/div&gt; &lt;div style="padding-top:14px;"&gt; &lt;input '+ onchangeField +' class="inputText" type="text" '+readonly+' value=" ' + credential.credential_name.value + '" disabled&gt;&lt;/input&gt; &lt;/div&gt; &lt;/div&gt;';

			if(credential.username.runtime_config == true || credential.username.runtime_config == 'true'){
				usernameCheck = 'checked="true"';
				readonly2 = '';
			}

			var usernameisDisabled = (credential.username_isdisabled+''=='true')?'disabled':'';

			onchangeField = 'onchange="changeValue(\''+i+'\',\''+credential.username.name+'\',value)"';
			onchangeCheckbox = ' onchange="changeCheckboxValue(\''+i+'\',\''+credential.username.name+'\',\'runtime_config\', this.checked)"';
			var usernameStr = '&lt;div style="padding: 10px;  width:100%;float:left;"&gt; &lt;div style="padding:1px 1px 12px 1px;"&gt;  &lt;span class="nameField"&gt;Username&lt;/span&gt; &lt;span style="float:right;"&gt; &lt;input '+ readonly2 + onchangeCheckbox +' class="inputCheckbox" style="margin-right:2px;'+'" type="checkbox" '+usernameCheck +' '+usernameisDisabled+'&gt;&lt;span style="color: #9aa8b1; '+ '"&gt;Runtime&lt;/span&gt;&lt;/input&gt;&lt;/span&gt; &lt;/div&gt; &lt;div style="padding-top:14px;"&gt; &lt;input '+onchangeField+' class="inputText" '+ readonly2 +' type="text" value="'+ credential.username.value +'" '+usernameisDisabled+'&gt;&lt;/input&gt; &lt;/div&gt; &lt;/div&gt;';

			if(credential.secret_type.value == 'PASSWORD') selectedPassword = 'selected = "true"';
			if(credential.secret_type.value == 'KEY') selectedSsh = 'selected = "true"';
			onchangeField = 'onchange="changeValue(\''+i+'\',\''+credential.secret_type.name+'\',value)"';
			var secretTypeStr = '&lt;div style="padding: 10px; width:100% ;float:left;"&gt;&lt;div style="padding:1px 1px 12px 1px;"&gt;&lt;span class="nameField"&gt;Secret Type&lt;/span&gt;&lt;/div&gt;&lt;div style="padding-top:14px;"&gt;&lt;select disabled '+ disabledVal +' class="inputText" id="inputText" onchange="showSelectedKey(this.options[this.selectedIndex].value,\''+k+'\'); changeValue(\''+i+'\',\''+credential.secret_type.name+'\',value)" &gt;&lt;option value="KEY" '+ selectedSsh +'&gt;SSH Private Key&lt;/option&gt;&lt;option value="PASSWORD" '+ selectedPassword +'&gt;Password&lt;/option&gt;&lt;/select&gt;&lt;/div&gt;&lt;/div&gt;';

			usernameCheck='';

			readonly2 = (isLaunch) ? 'readonly' : '';
			onchangeField = '';
			onchangeCheckbox = '';
			if(credential.secret_type.value == 'PASSWORD') {
				if(credential.password.runtime_config == true || credential.password.runtime_config == 'true'){
					usernameCheck = 'checked="true"';
					readonly2 = '';
				}
				else
					readonly2 = 'disabled=""';
				
				fieldValue = credential.password.value;
				setDisplay = "display:block";

			}

			var usernameisDisabled = (credential.secret_isdisabled+''=='true')?'disabled':'';

			onchangeField = 'onchange="changeValue(\''+i+'\',\'password\',value)"';
			onchangeCheckbox = ' onchange="changeCheckboxValue(\''+i+'\',\'password\',\'runtime_config\', this.checked)"';
			var passwordStr = '&lt;div style="padding: 10px;  width:100%;float:left;'+ setDisplay +'" id="option2'+k+'" &gt;&lt;div style="padding:1px 1px 12px 1px;"&gt;&lt;span class="nameField"&gt;Password&lt;/span&gt;&lt;span style="float:right;"&gt;&lt;input  class="inputCheckbox" '+ readonly2 +'style="margin-right:2px;" '+ onchangeCheckbox + ' type="checkbox" '+ usernameCheck +' '+usernameisDisabled+'&gt;&lt;span style="color: #9aa8b1; '+ '"&gt;Runtime&lt;/span&gt;&lt;/input&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style="padding-top:14px;"&gt;&lt;input '+ onchangeField + readonly2 +' class="inputText field2" type="PASSWORD" '+usernameisDisabled+'&gt;&lt;/input&gt;&lt;/div&gt;&lt;span class="field-icon toggle-password glyphicon glyphicon-eye-open spanField2" onclick="tooglePassword(\'field2\', \'spanField2\')"&gt;&lt;/span&gt;&lt;/div&gt;';
			usernameCheck=''; fieldValue = ""; setDisplay = 'display:none';readonly2 = (isLaunch) ? 'readonly' : '';
			onchangeField = '';
			onchangeCheckbox = '';
			if(credential.secret_type.value == 'KEY'){

				setDisplay = 'display:block';
				fieldValue = credential.ssh_private_key.value;
				if(credential.ssh_private_key.runtime_config == true || credential.ssh_private_key.runtime_config == 'true'){
					usernameCheck = 'checked="true"';
					readonly2 = '';
				}
				else
					readonly2 = 'disabled';
				
				if(credential.passphrase){
					setDisplay2 = 'display:block';
					fieldValue2 = credential.passphrase.value;
					if(credential.passphrase.runtime_config == true || credential.passphrase.runtime_config == 'true'){
						Checkfield = 'checked="true"';
						readonly3 = '';
					}
					else
						readonly3 = 'disabled';
				}
			}

			var usernameisDisabled = (credential.ssh_private_key_isdisabled+''=='true')?'disabled':'';
			
			var private_key_option = '&lt;a href="#" onclick="showPara('+k+')"&gt;+ Add Passphrase&lt;/a&gt;';

			onchangeField = 'onchange="changeValue(\''+i+'\',\'ssh_private_key\',value)"';
			onchangeCheckbox = ' onchange="changeCheckboxValue(\''+i+'\',\'ssh_private_key\',\'runtime_config\', this.checked)"';
			var sshPrivateKeyStr = '&lt;div style="padding: 10px;width:100%;float:left;'+ setDisplay +'" id="option1'+k+'"&gt;&lt;div style="padding:1px 1px 12px 1px;"&gt;&lt;span class="nameField"&gt;SSH Private Key&lt;/span&gt;&lt;span style="float:right;"&gt;&lt;input '+onchangeCheckbox+ readonly2 +' class="inputCheckbox" style="margin-right:2px;'+ '" type="checkbox" '+ usernameCheck +' '+usernameisDisabled+'&gt;&lt;span style="color: #9aa8b1;'+ '"&gt;Runtime&lt;/span&gt;&lt;/input&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style="padding-top:14px;"&gt;&lt;textarea '+ onchangeField + readonly2 +' class="inputText " style="width:100%; height:32px;padding-top:12px;padding-bottom:12px;" id="txtID" '+usernameisDisabled+'&gt;'+ fieldValue +'&lt;/textarea&gt;&lt;p&gt;'+private_key_option+'&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;';

			var usernameisDisabled = (credential.passphrase_isdisabled+''=='true')?'disabled':'';

			onchangeField = 'onchange="changeValue(\''+i+'\',\'passphrase\',value)"';
			onchangeCheckbox = ' onchange="changeCheckboxValue(\''+i+'\',\'passphrase\',\'runtime_config\', this.checked)"';
			var passphraseStr = '&lt;div style="padding: 10px;  width:100%;float:left;'+ setDisplay2 +'" id="para'+k+'"&gt;&lt;div style="padding:1px 1px 12px 1px;"&gt;&lt;span class="nameField"&gt;Passphrase&lt;/span&gt;&lt;span style="float:right;"&gt;&lt;input class="inputCheckbox" '+readonly3+' style="margin-right:2px;" '+ onchangeCheckbox+' type="checkbox" '+ Checkfield +' '+usernameisDisabled+'&gt;&lt;span style="color: #9aa8b1; '+'"&gt;Runtime&lt;/span&gt;&lt;/input&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style="padding-top:14px;"&gt;&lt;input '+ onchangeField + readonly3 +' class="inputText field1" type="password"  '+usernameisDisabled+' &gt;&lt;/input&gt;&lt;span class="field-icon toggle-password glyphicon glyphicon-eye-open spanField1" onclick="tooglePassword(\'field1\', \'spanField1\')"&gt;&lt;/span&gt;&lt;p style="float:right"&gt;&lt;a href="#" onclick="delPara('+k+')"&gt;Delete&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;';
			var rowstr="";


			rowstr = header +'&lt;div id="rowId'+ k +'" style="display:none;"&gt;'+ credetnialNameStr + usernameStr + secretTypeStr +passwordStr+ sshPrivateKeyStr + passphraseStr+'&lt;/div&gt;';

			credHTML = credHTML + '&lt;div style="padding: 4px; flex-basis:33%"&gt;&lt;div style="display: flow-root; border: 1px solid #dfe5e6; border-radius: 3px;"&gt;' + rowstr + '&lt;/div&gt;&lt;/div&gt;';
			k++;
		}
	} else {

		//$j('#credetialMap').attr('disabled','disabled');
		document.getElementById('mappedCred').style.display = 'none';
		credHTML = "&lt;p style='padding-bottom:20px'&gt;No credentials are defined for this blueprint.&lt;/p&gt;";
	}
	$j(".bodyData").html('');
	$j(".bodyData").append(credHTML);
}

function changeValue(i, key, value){

	var fieldChange = 'credentials_data';
	var credentials_data = JSON.parse(g_form.getValue(fieldChange));

	if(!credentials_data[i][key]){
		credentials_data[i][key]={};
		credentials_data[i][key].name=key+'';
		credentials_data[i][key].question_text=key+'';
	}

	credentials_data[i][key].value = value;
	g_form.setValue(fieldChange, JSON.stringify(credentials_data));
}

function changeCheckboxValue(i,parent,key,value){

	var fieldChange = 'credentials_data';
	var credentials_data = JSON.parse(g_form.getValue(fieldChange));

	if(!credentials_data[i][parent]){
		credentials_data[i][parent]={};
		credentials_data[i][parent].name=parent+'';
		credentials_data[i][parent].question_text=parent+'';
	}

	credentials_data[i][parent].runtime_config = value;
	g_form.setValue(fieldChange, JSON.stringify(credentials_data));
}

function showSelectedKey(option,i) {

	if (option === "KEY") {
		document.getElementById("option1"+i).setAttribute('style', 'padding: 10px;  width:100%;float:left;');
		document.getElementById("option2"+i).setAttribute('style', 'display:none');

	} else {
		if(option === "PASSWORD") {

			document.getElementById("option2"+i).setAttribute('style', 'padding: 10px;  width:100%;float:left;');
			document.getElementById("option1"+i).setAttribute('style', 'display:none');
			document.getElementById("para"+i).setAttribute('style', 'display:none');
		}
	}
}

function showRow(i){

	$j('#downArrow'+i).css({'display': 'block'});
	$j('#rowId'+i).css({'display': 'block', 'height': '375px'});
	$j('#leftArrow'+i).css({'display': 'none'});
}

function hideRow(i){

	$j('#downArrow'+i).css({'display': 'none'});
	$j('#rowId'+i).css({'display': 'none'});
	$j('#leftArrow'+i).css({'display': 'block'});
}

function showPara(i) {
	document.getElementById("para"+i).setAttribute('style', 'padding: 10px;  width:100%;float:left;');
}

function delPara(i) {
	document.getElementById("para"+i).setAttribute('style', 'display:none');
}

function tooglePassword(field, fieldspan){
	var input = $j('.'+field);

	if (input.attr("type") == "password") {
		input.attr("type", "text");
	} else {
		input.attr("type", "password");
	}
}
]]&gt;&lt;/script&gt;&lt;script_name&gt;Calm_Catalog_Cred_Config_Script&lt;/script_name&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;nikita.kumari&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-14 14:29:24&lt;/sys_created_on&gt;&lt;sys_id&gt;38fc438137796300fdfc097973990e10&lt;/sys_id&gt;&lt;sys_mod_count&gt;417&lt;/sys_mod_count&gt;&lt;sys_name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Cred_Con&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_38fc438137796300fdfc097973990e10&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-20 05:04:53&lt;/sys_updated_on&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>1076109972</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>ba24eee4db711010eeb9808768961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171965b9c5c0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.Calm_Catalog_Cred_Con</target_name>
<type>UI Script</type>
<update_domain>global</update_domain>
<update_guid>2e7683d5675c90100115c0b777fa5f32</update_guid>
<update_guid_history>2e7683d5675c90100115c0b777fa5f32:1076109972,7674f374c50c5c10dc17c567ccb71278:-1370039706,fa447bb4d50c5c102a017290d1151251:1687584454,99e8d9a4bc3f4010c022b2f0b50d1cd2:-1299400360,4c9c9603e61f0010bb55bf0d991c2a6e:87289752,625d11c7da5b8010f765bd9573b5a151:2146914838,ca3ad143d75b8010af4e517944d6ffac:98805783,52b7918f2c1b8010ab629586266b06a4:-1074055319,1cd5bc4f229780103cf0c7f0f1a1bdc9:1970193768,13a4700f7f97801082e104e1b43d7c4f:-377229075,60a37487fc978010e3d5d67a966d6340:197112801,7780f00bcc978010aff3ef5a6f612f97:-82092383,32e43c36da110010fdfa88b8e660ea0e:-1408955288,9dfa91ac5595081024f9d311821b8ab9:1077249090,390415e0869508103ce41ce6b4300e14:1077249090,92287a485eff73005dc1721ae85e9879:-2045878461,6797fa4892ff730099a3978e155954ef:-457013461,f0485309998373007b6703ae2a9c92d0:-1778808467,975ea98441f33300016d673893311f7c:-1636437311,ee78550832b333004eb18337e86d20d1:-922132930,731380d1cba73300f0ea85b7202ecc9b:-512843079,90603bc19f27330066d4d32f579f5835:239253739,a17b0030434e7300e59fe481077208b2:-1021303833,13f140b0ff0e730049edac3b4aa138bd:266614407,7af6e4a0ba06730084355327ede52413:432037319,a423488d2c3623007c540c6ed2ff3231:-1281824155,6fef7bb8dd362300ac63fa53eb12a522:1056133889,196b7f783536230013a1eef51dd730a5:274887298,21fa7378f6362300960df66a455ce68a:-191883405,76b93b3886362300c693123cb29f66ca:-158755054,7ea933788636230067ddce91930cfa03:1980379600,e8a873b46c3623003ed2eeba418f45e2:1752564481,d3587338b13623001e6ea66fa9641bf9:1215446725,60287bb479362300eb4189ba418c94a6:-222710895,2ef7bbb4b8362300ac8ba87d9f8c628a:-437055759,a5e5ff34a7362300d0366185c17ccdb6:957749596,f695b3b4d13623004eba0ac60f702c1f:621030862,20553774ae362300c1e92cfeaa1f3c8f:192550520,d13eabfc27f22300a4ae1be05f7f4f0a:477151198,abbc137096f223001d9cfa660d1eac51:155946158,4ccad37857b22300252cb7f6a2a983ca:-5870387,e4f3427b674e2300e86125fc802acf76:-732035864,68c240f37c4a2300fd779fe024cb1531:1167878602,432200f3464a230097ff7f5de7aab901:714891336,d37f5f6ff8c62300c2cecf7bd488ca57:-224101786,bfee13afe6c62300e9bcd16ba5794ba0:-836107566,5b9e1b6fefc6230029a313f35b38c8ac:-1669386446,9e2e1f2fccc6230064065df5b9b79532:1556036847,bfed136fafc623001a34195208192e35:3974866,ebbd1b2f9dc62300bede0b7631b0d4a9:2004075895,479d1b2fa6c62300793378db82f18fa5:1095598458,736dd72f13c623004c58e35de626b9e9:-1498875494,f25dd72f77c6230015ecfad198bdfcba:-2104933916,c09c17eb1cc6230034c0bd5b069fcde3:-904346083,07bb97eb50c623006d5e95f7b9d62a20:1784980262,366bd76be6c62300916444a2b8244463:-1260726266,37fa5fab9fc62300be9ecf8cb1e4f576:-2058788581,53591f2ba6c62300403ad5af34641336:1083637263,e6f89b6b6ac623004c87b4c247a1cb91:-1368127998,bba8d76b67c6230004ac30a6baeaed5d:-497643543,296817e7a1c62300fa8963370a698066:-1257083707,07389be707c6230024f7154e4ae55d3e:1428067570,cd9713e793c623002f1abb901f37287d:1916692254,5b27d3e773c62300fbe235f721dc5ebd:-1024915586,a2c593e762c623003518782f49c5f1a6:1555719582,39759fa789c6230056a09980ca5556f9:239505831,8f45d3e7aac6230099493adad8d554b3:-1334664761,df2513e72cc6230073db60551c0d5c9a:1383070179,cae49fa76ac6230099f308eb3994c6f2:108713795,f77453a7a3c62300a565f11799d5781c:285062274,3ae3dfe3f7c62300ee1d0e30ebfe6f84:-1345363344,a8335fa325c623002938d338698af7c8:-169034691,fd525fa346c6230062c509eb975568c3:-4194155,6212d7a3dac6230088be2a606b623835:-1436702140,2c30dbe369c62300178cd09a7c523ba6:-2121731977,69dfcf6338c623003ed08bb2987b14e1:-2053826461,e15f03a32dc62300397ce04523ebe8e6:1916477735,7dee4fa35fc623005faf42fb0ef65917:-2037241278,618e4ba3efc62300e1543988030c91d3:-610019431,983ecf63e1c623009844a8d0580747da:964070914,ccfd87a34cc62300f739a7626be997bf:1514032774,d99d8f6355c623002926b3b6b514f4e3:-1960847550,b35d476326c6230018c4a356567c2e95:1163669145,96cc476357c623003f55cbbfda131b8f:830027521,1b0c8faf408623004d9e1e84d2d0ce53:-1293328176,86eb07ef908623002e7090ecf28380c8:-226590937,3219c3ef7c8623007dcaee0ce9bba1b1:-354644042,bca747af998623009227190d8e47391c:-298011147,5b474beb388623006a1c091e6b5d1f05:1237788917,41c6032fda862300d3afc46ac5a6e5b5:-1220139651,f845032f1d86230079959539b1ce7db0:1747027174,95050f6bc7862300c8a2e7fee21363b4:-127774680,e9140bebb1862300813fae230ee243d7:1369690037,ad218f6b9a862300a22b3e8e08f7c323:-1659333012,ade08f6bac862300618aa6f56c57b62e:2027417701,06b00b67798623003b857b1248fe505a:2104599422,038007e7428623004d62e21079371013:1615694272,4a500ba7568623004693e31b9d785d22:1998393533,8c4b72a71c8623003c2c8d4a12f63cb3:2138620016,f80b76a79a862300cdf3a4f7605d1118:-1756313596,fcaa3e67d7862300fcd6954a5336507f:-1814175081,ced9fa275e86230076428b1fb1193616:-1142542429,35787a232986230051b5d5d851b24f8a:-489580995,576672efbe462300123bc956e7bb968a:1978235852,a994f2a37786230005c6ee66ba4aa62a:22365577,d79372ef144623003d5a325494b4833f:774727905,03f13623cf8623000d9b12dae3d472e0:184990726,2a41b2ef34462300cec705d3dee41670:-1875979396,38207a6f72462300a5176553e3cf0c10:761839774,5bcfaeaf7946230041c59daa6d3e9f12:-2080207601,f6bd6a6f014623002bd7b124da0bec05:881653990,fa0d662f214623004a773c707c8b9680:618887900,9148ea6b9d462300f4cb908d208745c0:-1747953727,00662ea7c64623005eba3b17eb6a0172:-672941791,9363a6a7ff46230033b6dd3643c1cff8:-685234744,df23a6a7684623000240f4568b1ddc29:233219112,28fed6a3644623009766ab4f6094687a:1873976289,991d5aa3984623007255093ee4310eaa:-487613409,bcd85623264623005abfecefbf0e23eb:-1724497019,4638122be9062300749d24bdaf42eebf:-513352251,f4b75aefed062300c2e14b5c6502224b:839322543,b2271ee367062300670f25bdad6ad1c7:1305578265,c4acc6a322062300f152c5f182916179:728802205,a05ccaeb0cc223004e958c8497c3c6d3:2137276917,6b6bf92b6ac223000f7d215f66c4cf51:779321900,dd1bb92be0c2230056d11a592bf90d23:-1628469187,d29af9e77fc223007595a425195b3117:1318268723,ce5a3da75dc22300b7f55fa4d5ce0278:218130786,3aa9f92314c223007996973abbfc8ac4:1318268723,650931633cc223006c6648f7e37de468:-368841773,22303d23d3c2230022d518ea63fd1d7e:1359657523,3acfe963adc2230051cf290f924732c3:-2119583213,4a2f216318c22300eb5f2d71e20b4f1d:-596418384,c19dadebc98223000040828201a96ca5:1138922294,2a8c6d2fb482230048c258b232decad9:-1679945590,e4d9ad2f00822300a840f264d6fffb0f:-1202392116,3b186deb8c82230056870ed7c43124a9:-1881513508,a916a1e7e282230023472c5b444878de:-211094861,a5f05debe242230097d3b00433f16aba:348188684,a9e055eb7842230008b3187b0099090b:551432236,526f05ab7942230025880fadf69b3742:-501828166,be9ec56b5942230074074c43ec4dcdc5:16010389,661e81e7324223008dcb527620313d2d:-294592417,9bbab0a70d022300eb9ce700c7942256:679661811,b3e93027e00223007632b678f42edc7d:1370153101,7eb86d57ba46a300e272f12238d4d362:1645649220,9118a557a246a300eb15fc4378a6f6fe:519522020,bc77a9532246a3008a3650242379321b:1546910596,9d662913de46a30095d19273c9ae8f42:-1104260361,28d5addfa106a300cc00bdae3c6c2fe3:-1201666840,d752655f1306a30057f3fbee059af27a:1587356274,37a0e1db5506a30042a4e57e04c868b9:1152999890,37706d9b1106a30038c4b3ade05727da:1817389690,d33f959b0f06a3006fadcc7e0b5c61ef:1801565682,9459660739c263006eb000ac97c758a0:1123179876,d2986607a6c26300446605d82fb9b8d2:-1995708550,b5e8f107144263002e692ce5d77b0347:-1454110152,8d99b37e6f0e23007a477691d8ec2149:-350203897,0cd773bae00e2300ab853a4b40839c71:921260452,48b737bac80e23009bffc739dc413635:-1924717360,8737333ad90e230032c82a198da73010:1827441391,7bd4b3f2f90e23004515f6087dc3499a:1980811009,d89eafb2fb0e23007b27195ee5d03ec9:379504856,2368ab32500e2300633307f7d0c2974f:-1354419633,3148a3b23d0e2300b3098cd47eeef39f:936957281,45c9e51a378ea300910066303c2f6e3b:-1746860355,6d49691aac8ea300683f3d0149e35c86:-17530987,6d09e11a548ea30089564b167f6786eb:-294894138,5628a5d6ec8ea30059f91f738f26c9ca:-1746860355,d4a761d6fa8ea3006619d1a96c0b6da7:-4596221,417761d6188ea3003763de146455d3f3:1673656307,52442516ce8ea300b160f634d42b509c:431568241,9f53add2538ea300055c209e2837e370:-1756375167,3bf1a1d2c58ea300282340c5591ee259:-407582265,a8e121920e8ea3002fc4090aeb478bc4:-308020406,f58ef05e0b0ea3007906f7f8172490aa:-407582265,342c301a180ea300dec7a3d667f06ad3:-815966218,ed1b301a4b0ea300cebba927c86db32a:304848150,c05a7456630ea3002681a568f9877bf1:-815966218,c1383c565e0ea30099fc67e035ccfc9b:93865400,f3753092600ea30096ed71fe2c3f4525:666352174,eefda85eaacaa30020ccef83de53b80f:1641641328,87fd9945be866b00e2a8bba947d608e9:1439669580,ffe1443c35822b00a9213ac20ffc363e:293538834,0de0043ccd822b007af7166dc12d5c8e:-2142503284,9cc0803c3c822b001aec4b1b789a92f2:-1727462132,17500078de822b005bfbc8e79b6b6e7d:-532199454,c5ffbbe81d822b0030afcb5616c023b1:901804499,d33ff768f8822b0046b64fd76a15a882:836748453,ddae73e457822b0009c8741516471806:-1047059243,fabc7328ea822b0052045b386804dfde:1502813109,226cf72894822b00b8290d52101d6ca6:-173246751,f48bfb2887822b00a4e072b73c6f22de:-312037263,1b4bfbe44a822b00275cb2fff28fd90a:510826317,b31b33e492822b00c597a8144e68838a:856040465,f7da33e402822b0022a09c6949450abc:21957209,683e86546a06e70090c3fa93c4821879:-929656179,1f1586d8b4c2e7008427240b05f40e66:-238835998,a5f482d850c2e700fb5cb14771475fe2:-367240317,81e4c2d85dc2e700ef206844260154c6:-1836027984,0cadc45c860ea7006254f4c1d485aa14:1350803840,d348225bcc75e300c674c17a56eb7366:-1466065260,137fc95f1331e3000595cc58aabb4089:2105163974,78ee499f2231e300ec73671c5d58f85b:1483306702,3f2cc51fce31e30099327c10f780e84b:-2100662501,0eab851f5931e3007c7a93b4426278b7:912884667,41bac19b3131e30035bf2ea9863ec944:1338757410,809ac9db9031e300b10afc2650df5159:93166886,d408cd5ba731e3009e7a7d176b0eb601:-72237786,4a17411b6531e3009ae4ffc9332a2829:-957510007,738e5db2757d63007ba45b916e6865b4:655941206,b32e11b2017d6300eb11ade1304cac51:-1187582278,0d1577eaf039630005e2ba8e90e9cd59:-4895672,cbe3abae70f563002abe516b3c3d477b:517613964,1b03ebae5ef563007bde887488a0ab44:1687702676,31b2afee1af5630022c541075be9601f:-1730814019,a962afee46f5630065b129ffeb3be51a:-1826067906,215263223e3963005e724a1c9e0223e2:-1730814019,1ee1abae81f563007449694e7f2495ac:1538662568,88ffdf2e2cf563005f01984803a3f770:476389818,a67f9b6ef0f56300ae0b37c24c43bc9d:-1048269734,716edf2e68f5630004d525dbce7f5916:-132893854,4d3ed76e0bf563002c650941b21d8768:-1907698838,623d9beadaf5630076db6261ccc8860b:-1784154778,d82cd7ea3af5630076a3f32f4fc76221:-1903438987,66d79b6285f563003bff458ebc03b251:1947796108,7c9f375ac2fd23001f811a2d96e4a2b8:-1903438987,208e375a3afd2300a17c1c5827fa3c70:1827699026,cd5eb35af3fd2300d40a4e612cbf0605:1046585115,8d3eb35a97fd2300bb31869d5cde2221:-1903438987,91fd7b1a01fd2300656dd43e20def587:1750664792,fe4d771ab0fd23006a98bb8ae8a2d478:-1903438987,b4eb7b9640fd2300e22fde14deab923d:1923466171,5d9bbb9622fd2300f669f68ad1987e0f:-2026908357,3c8a7396f5fd2300c5e4958ea4c431c4:-410458565,45f9739647fd230096a28a1776856bc0:1828997478,f5e8331671fd2300a4c4b32a6742954c:1046585115,bfb7bb9266fd2300b8f463c7e65e3c00:1750664792,b906fb92edfd2300649cce579da3adad:1827699026,cf4ae71eb8bd2300ee8f52d17698c64c:-1903438987,9a39a31e25bd23008fcd1e9da39c7609:139944797,f407eb96babd2300981e2553171fea1c:-1673518856,e3f5a756acbd2300e134d92bd0bbfcd6:-748189876,2f106b9622bd230092d707ee6b088024:1274083184,0befd7d262bd2300ed0f59d373ea4402:2038927835,4eafdbd275bd2300effaae3d337edbe8:1576891000,6e1e975659bd2300249cf198ba05f1d1:1413648174,fa7bdf9246bd23001508177ba5155aba:170450586,8c3bdbd2ccbd23000fb8ef0dcd27b352:-1705624999,31ca9b9254bd2300e5d885e71d4d14e3:1171652018,e9e99b9284bd230063590e848d092dfc:-316430560,5f9957926ebd2300a69e2d6976f1a4a4:1643612863,ca49d3927dbd2300c51d3b05abc1bc6d:2102902911,fd19df5229bd2300a71fdae2deba3814:1643612863,a0e89f52a3bd23001954907e0ed061b9:882315775,9ae79b9e9a7d2300a8bb9bcccbf62b52:2102902911,55969b9e9d7d23005731896fcc644e4d:-1979720157,d026179e787d23002f8e9db9568fc3b8:-302996593,a8c417de647d230028a4076afd5c1bef:-561578066,cf64135edd7d230021e4d921e1920ac0:-515122668,fff3df1ee07d230035eb4bef23d9b7d7:1524258709,0c539b9e217d2300f0833099c6786e21:-1994950451,b9d2db5e3b7d23002a572887e080ea54:-85026899,6222575ee47d2300e6d7130e0cd3e15b:-2141171466,b761975e6c7d2300b08864ee50c120e5:-383190656,4e41175aca7d2300b7720933bb3329db:-534550712,20b0df1ec17d2300d519158b1cef289d:759492635,bc1cc31a887d2300cb1252208e9af7df:-1654079198,dbab031aef7d2300f172259f4a47793a:900990810,ad4bcfd6937d23006cfe0a734056f2ee:1424727408,4a0b8bd60e7d2300680c3ac49a9a591b:1381700700,e7b9c7964b7d23004cbfe4675380bdf1:1027916144,b3598b96827d2300cca9d7e10996d1fc:1979879440,d3090316e57d23003dc142d64a29559c:794447634,eea803169e7d23004db1627359fdd58b:-1215071598,bb15ba5a6e3d230004315260af0b0d3b:1947796108,66a3321a403d2300e4522f1c82d940fd:-1211396336,a722b61a1d3d2300fdd66807c1fcfc50:-1659679064,ae027696bd3d23004b8f781956106518:-460980006,33d1321a693d2300c2cc0f7ece0eeff8:1384447661,df81b2d63a3d2300cc3d3d635a370f82:-1658153378,e25eea565d3d230054d3f3a6f81b2a38:459739671,99dd22566a3d23002d93336e92c18f33:-2123486246,e15d2256da3d2300251678972dc5fd8d:6694639,a2cc2256c63d23003855dbeced85022e:587033420,295cea16ed3d2300d19ca84056e337c2:-221907222,73cb6edeeef92300d72013feaec08d30:780169454,277be69e4ef9230097241412588bb152:-1186245842,325b6216683d2300ccbb0b5444434cb4:1327844043,567aa6d2c33d2300cec48f3d425d6417:-450654694,f6512a5ed5f923002219ca80764b955b:103337329,788d978a18352300ee3f23369ec606e6:805683891,105ddb4a13352300a921145e0759a95c:-699623445,b9fc1b0a36352300e3d31606dc679052:1308913765,372cdb4af3352300242d364c16682f55:1993206487,057b9b0abe352300692d9c4afd001ecb:-1688257159,1d3b9786f4352300dca298e4eff06e2c:1648460540,75fa97069335230068cebedbfcb78fba:2121298030,3d7ad746253523009f75c91ba68a3110:1276764800,852ad70acc3523009f19b5b8e930e1b5:2123521829,f5e793c679352300d7f45dd86155c9d0:1276764800,1ce6d30615352300d148e749de081d9d:-765655777,7e8693467b35230022492af3d510eb52:2105401434,b3e41b06c635230076dc6fa836ab3c7a:1954106984,557417061e35230098ceafeef714cf4d:-765655777,24449f825a352300fe14aeeae2d0cd28:-172531283,4d83d7c219352300f9965db85d7047b7:1318615133,3b5353c25c3523009b3020cae2974f75:1614000396,8e13530609352300b980e3a9b9c66906:-1208573783,5703d3062135230024fac89174cc7541:1879403383,2cd19f02ab35230042a646385174dab6:2105401434,4c81d3820135230004764d0a57865876:2064204293,584153c20d35230006daf73d6aa97515:1127929260,66e05f82543523003261a3fbc397de87:-1831578052,20a0d3822e352300f2e797af3346a06f:-956583698,49cf4702c0352300e2933c32f774beba:1736909361,f3ad0302c5352300b2f7491b223379b3:-1441060339,e32dc78e8ef123000496e314914f9bfd:2023424223,33cc4fcee7f12300e0c3198d95cbd1fa:-2091099990,3c0c8b4e90f1230065e5d51bc0d1582c:-1144411214,1fe9cb4e98f1230024b499710a540d97:1135943463,6fb9074ec5f1230021839b171afd6e76:-1947708031,8168cb4e2af123006b67727d73fe1455:-1139969968,86384fca23f12300a4be8148765fba4f:1325710554,8e08c74eb1f123004a55cd1e22b2244b:500849990,9bb7074e1df123004dbe09549e539e48:-1092358895,3fa5cbca8bf123002718b0adf270623d:1990212733,b615478a7df12300df549eabd5963e26:850139349,5ec44f8a6df1230095e7df2c97c12293:409028565,5d94cf8a3ff123007d03dd16ae0a4b9d:-1907271597,16f34f8a19f123006754b94fca3017dd:-927782361,f9034f4aa7f12300beb52efc4cafe820:2088965925,94b0c70a35b12300ea92432bb4d4c99d:-1068367419,958fb2023cf12300d7b7947353d50439:-1367239999,21b4f6ce11b1230073e0fa8ce3dbb5c6:-1597746574,6cb4e20671b123007937acc4cd87cb11:666550359,2e9326061cb1230017c8a30113555975:1533568371,4843ee067db12300ce2915432d8e62f5:-35204461,5c03ae060ab12300bfb582a49db052f9:1657821962,b892220629b12300c732f5a3c35707de:1482949183,e23226c28ab123009b9b2e38e1213a3a:1958224151,465b928a917123006d9d34a878d92891:-789402377,d93a160a6a7123006722b299dd27383a:1020917484,6409de0ab9712300cddcb54804a4ca3e:-431071806,61b816c62d712300c827c62ed80adc26:-1971992819,a5371ec64c712300658d8815074d1f88:-678011911,0676da0a05712300cd55032ce8ccc6d3:735306242,acd516c64b712300fe520a23dc609f50:1788105228,95551e069d712300fa142544a34c59cc:1361367420,2174d2c6587123006b892fdacb94c6a8:1021417836,ee219ac29f71230014bb2cafe82c803c:-1061276228,f87e8ac240712300c09b46d729586a66:-679429543,6c8dce826e7123004519447a37b3eb97:-1771204722,602dc68205712300b5b631351f499090:-114721274,fb9c8e82b9712300b1f64080bc9334ce:-975147098,bb6c8e82dc71230032332fc8189db0e3:326921273,721cce8266712300cb35cd9c0f949491:-507962576,b0abc6820c712300220c1d9a0fdb63f3:291629077,5b4a8242fe712300b91e0cd65f83cd6b:1878744853,43b84a0239712300b6a034dd245e1457:1821531498,7ad7c2024e712300cb868082c932c08c:476761056,43178202e17123001bad134ac13b6747:1218940872,e856c6ce093123000fe1e88d85da87a5:-273833597,dca54a8ed83123007ec858734c7c0c9d:-708490540,595502ce30312300048e0a912ed5ad96:-1362991596,387ebd4a85312300b0ff878b990535f3:1566552837,338db98a55312300e78b76c6cab18365:-1884633200,83ecbd4a7b3123003b09893859d87ac5:-1338978608,195cbd4acb312300bdba88190e925488:-1893569381,d9cb354af93123001864e4389db058c9:-1661399781,17177d8604312300a06b4080345d30b5:275612609,c0af10ad4fb5a300faafa321ddb5b46e:-875516167,f3c450e55cb5a3009e77e8225e27b7cf:1099700587,2b749c65c1b5a30017f021925a735a4e:-1327742343,dfe390a593b5a300313b256d86bd38c9:-1415757282,ffb39425b3b5a3001800d3aae458f95d:345554061,88539c65b2b5a3009e8590f03003203b:-1535035911,9372906580b5a3009080de4a4c3bf5a0:1817364272,8612dce165b5a300727f09d93d75c642:-1606653993,735114e1afb5a300d0bfdcbb56365fe9:-2052038959,8fe0d4e1d0b5a300881494cf75fa03c2:-874307233,f71098a134b5a3002924ba48fd271add:754247825,59bfc8a1a7b5a30084d135209e311d22:243613157,082f88a1b1b5a300bb9ee0c40ebb9088:1188007693,863b4ced9575a3006ac1f64d4ec745ba:-1956706176,51d9886d3375a300f03ff1aaa0e49cd9:547866044,c08944ad4f75a300f263287a4b0886ce:-556304525,97584c2d8b75a3006fcf3a42017da0e1:-270387708,3918886d9975a3008a59f48a0a4b16d3:677571800,73474c2d7a75a300fc3b87a5bf3398dc:607485679,3786cc2d5675a30038856e28c54bdcbf:-1892012303,0c56042d4875a300fd3f258125aedb56:1486241939,3af5082d5f75a300f5d133bd25f540b0:744630758,7da5c02d9c75a300035e120f10c3bf94:1486241939,908544694075a300689207af4d91dde4:-1943208883,1455cc69d575a30020ba4f741b563013:1544716202,fa420c69a775a300a370ef1f03e72f49:-1106275614,0302cc69f675a3004517372ebe4fc40e:1736564624,8eb18469f775a300ac63205fa48b9793:-1517599020,775100691d75a300315ab257c1d92205:-568755690,c48044298675a300adeab23d69b2f15d:1359396006,d8ff7719d975a3008c235984c9f1c026:-392426942,11cf7bd59075a300bf4960255e31be4f:2003450104,714fbb958775a30089a1147a2bfa3022:-523384030,b89eb7958e75a3003c747e6c97fb3c48:463350696,6039f3918b75a3000f7108774b695cf7:-908635430,e6d8b3918d75a300d203a8849135bc0d:1004479454,78383b511175a30096f012de400915a0:-1484686432,28c7f3112075a300afb93fa01ffb16c5:-56423945,42977f114575a300e1b8c17105dbdfbe:-731176920,364737111b75a3004bbee5bfccf2a80d:784216898,5f763bddee35a3003459bcf46b7ee37b:68554741,d6443f5d9835a3004a1001c9b580a842:-37518571,fcf3bb5d9735a3000e0899296d6ea173:-1006135168,6cd2375d1635a30041a6c927fc721494:-1878394956,69b2b35d6135a300f841042f9484686d:-1831453418,1e82b35d1a35a300595008507454be38:-1878394956,3e7e6759b035a3001c235b1cfdb41464:-1957891718,7437dfd565f1a30023c7e0e8964d9f47:-366117462,419513d598f1a300b62194ed8af82133:-171345765,2ec057151bf1a3005a2eb25018d46abe:1333309765,b635089daff96300c2374ff2bdc2a71f:-1692572884,a5050c5db4f9630059336ad30e5b6cd8:2091827560,4304089daff96300bd1efbdf03ddd34b:-1248081669,9af3009d0af963008fbf8062bae001d1:-1253428428,c8f20c5d65f96300be1f39ba53e10eaa:912227295,27a2c45de1f963000f94a3695313993d:-1940966856,2c42005de2f96300ec7d30f2ac57a024:338339748,16024c1d74f9630090bfbf5796f09dc2:-332340156,9241ccd938f96300d2538a5b40d451ab:-1013357604,cfe088d930f96300fce644ba89f25890:1330372172,8d5008998df96300ac971dadc088d73c:1234583449,7d4f3789e2f96300ad3c2600784b05db:-625380958,4bde378967f963001b307bbea9ba4b68:-522528340,d94e3f49b7f963007f9d914417a016b1:878578679,53dc7fc5c8f96300ca2ce07955b74a94:-2076126439,30ac7b09b7f9630049ab7664719afc8a:-104848819,816b7fc5d7f96300416b5cd9261b7a8b:574706176,23c9f7852ff96300e1cb0acf4e825c73:1788961111,8a29bf05e0f9630079bb7ca1be0f32b0:706257316,57c6bb05a6f96300c89f1225d14e5019:600557594,dc75bfc1e4f96300c7a0ddbced5817df:-1868945767,732577c19ff96300182ff77ef654449d:-1702396475,8bd47b81a8f96300d3c1c6bfead2c36f:1606106205,d8647781caf96300211054b608e363c7:1740556707,00337b4197f9630039787d4848fbbbef:-1264882562,b0d27781d0f9630044573b6109b643c1:1089740794,1082bb41b4f96300437f940b3fe2de59:982541292,f4113741a9f96300f0d3c3ab7d869642:-1976406236,4cd073415af963002396edc6b3da65c6:1011298005,d8503fcddab9630092fd6ec869b08cb6:1730481123,f8303b8d20b96300d036a94735b65f22:-1108167421</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_documentation_x_nuta2_nutanix_ca_nutanix_staging_project_external_network_list_en</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update><sys_documentation element="external_network_list" label="External Network List" language="en" table="x_nuta2_nutanix_ca_nutanix_staging_project"><sys_documentation action="INSERT_OR_UPDATE"><element>external_network_list</element><help/><hint/><label>External Network List</label><language>en</language><name>x_nuta2_nutanix_ca_nutanix_staging_project</name><plural>External Network Lists</plural><sys_class_name>sys_documentation</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2020-03-27 18:00:04</sys_created_on><sys_id>40c112352fff40101fcade1a2799b68e</sys_id><sys_mod_count>0</sys_mod_count><sys_name>External Network List</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_documentation_x_nuta2_nutanix_ca_nutanix_staging_project_external_network_list_en</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-03-27 18:00:04</sys_updated_on><url/><url_target/></sys_documentation></sys_documentation></record_update>]]></payload>
<payload_hash>-2111280415</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>be24eae4db711010eeb98087689619e7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1719642fb1a0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_nutanix_staging_project</table>
<target_name>Nutanix Staging Project.external_network_list</target_name>
<type>Field Label</type>
<update_domain>global</update_domain>
<update_guid>84c11235e3ff4010b05f05dcd350e599</update_guid>
<update_guid_history>84c11235e3ff4010b05f05dcd350e599:-2111280415</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_cc07c62137412300d27b8cf6c3990e83</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_Calm_Utils&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_Calm_Utils&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_Calm_Utils = Class.create();
Nutanix_Calm_Utils.prototype = {
	initialize: function() {
		this.logger = new Nutanix_Calm_Logger();
		/*
		How to use alias in script
		1. Add new alias in either of table,api,property
		2. In respective script includes, instantiate Nutanix_Calm_Utils var apputil
		3. Referance specific value as apputil.configuration.&lt;api/table/property&gt;.&lt;key-name&gt;
 		*/
		this.version = gs.getProperty('x_nuta2_nutanix_ca.calm_version');
		this.configuration = {
			
			"api" :{
				"getProjectList": "/projects/list",
				"getBlueprintList": "/blueprints/list",
				"getBlueprintDetail": "/blueprints/",
				"getAppList": "/apps/list",
				"getAppDetail": "/apps/",
				"getMarketplaceItemDetail" : "/calm_marketplace_items/",
				"getCategories" : "/categories/AppFamily/list",
				"getIcon" : "/static/app_icons/",
				"getEnvironment" : "/environments/",
				"getUsersList" : "/users/list",
				"getRolesList" : "/roles/list",
				"projectInternal" : "/projects_internal",
				"directoryServices" : "/directory_services/list",
				"getMarketplaceItem" : "/calm_marketplace_items/list",
				"getGroupsList" : "/user_groups/list",
				"proxyLogin" : "/proxy_login",
				"getSubnets" : "/subnets/list"
			},
			"table":{
				"NutanixStagingApplication": "x_nuta2_nutanix_ca_nutanix_staging_application",
				"NutanixCalmAction": "x_nuta2_nutanix_ca_nutanix_calm_action",
				"NutanixCalmApplication": "x_nuta2_nutanix_ca_nutanix_calm_application",
				"ActionWorkflowStaging": "x_nuta2_nutanix_ca_app_action_workflow_trigger",
				"AppDeployment": "x_nuta2_nutanix_ca_application_deployment",
				"Blueprint": "x_nuta2_nutanix_ca_nutanix_blueprint",
				"Project": "x_nuta2_nutanix_ca_nutanix_project",
				"CalmPluginConfig": "x_nuta2_nutanix_ca_calm_plugin_configuration",
				"stagingProject": "x_nuta2_nutanix_ca_nutanix_staging_project",
				"stagingBlueprints": "x_nuta2_nutanix_ca_nutanix_staging_blueprints",
				"processQueue": "x_nuta2_nutanix_ca_nutanix_process_queue",
				"applicationProfiles": "x_nuta2_nutanix_ca_application_profile",
				"varaiblesTable": "item_option_new",
				"variableSetTable": "io_set_item",
				"stagingMarketplaceItem" : "x_nuta2_nutanix_ca_nutanix_staging_marketplace_items",
				"catalog": "sc_catalog",
				"category" : "sc_category",
				"sysUiAction" : "sys_ui_action",
				"catalogProfileRelation": "x_nuta2_nutanix_ca_catalog_item_and_application_profile_relation",
				"variablesProperties": "x_nuta2_nutanix_ca_catalog_variables_properties",
				"catalogUserCriteria": "sc_cat_item_user_criteria_mtom",
				"userCriteria": "user_criteria",
				"catalogProjectRelation":"x_nuta2_nutanix_ca_nutanix_calm_projects_blueprints_relationship",
				"Credentials": "x_nuta2_nutanix_ca_nutanix_calm_credential",
				"appRunlogs": "x_nuta2_nutanix_ca_nutanix_calm_app_runlogs",
				"stagingEnvironment" : "x_nuta2_nutanix_ca_nutanix_staging_environment",
				"runtimeConfig": "x_nuta2_nutanix_ca_nutanix_runtime_configuration",
				"catalogClientScript": "catalog_script_client",
				"catalogUIPolicy": "catalog_ui_policy",
				"catItem": "sc_cat_item",
				"awsStorage" : "x_nuta2_nutanix_ca_nutanix_storage",
				"awsTag" : "x_nuta2_nutanix_ca_nutanix_aws_tag_list",
				"StagingGCP" : "x_nuta2_nutanix_ca_staging_gcp",
				"blankDisks" : "x_nuta2_nutanix_ca_blank_disks",
				"networking" : "x_nuta2_nutanix_ca_networking",
				"disks"      : "x_nuta2_nutanix_ca_disks",
				"stagingAzure" : "x_nuta2_nutanix_ca_staging_azure",
				"security" : "x_nuta2_nutanix_ca_secret",
				"nw_profiles" : "x_nuta2_nutanix_ca_network_profiles",
				"dataDisk" : "x_nuta2_nutanix_ca_data_disk",
				"subnet" : "x_nuta2_nutanix_ca_subnet",
				"dropDownTable" : "x_nuta2_nutanix_ca_generic_table_for_dropdown",
                "recoveryPoints" : "x_nuta2_nutanix_ca_restore_points",
				"marketplaceItem": "x_nuta2_nutanix_ca_nutanix_marketplaceitems"
			},
		};
	},
	// Get credentials
	
	_getApiToken: function() {   //Orchestration api token call
		try {
			var credential_alias = "";
			var calmInstanceURL = "";
			var midApplication = "";
			var retries = 0;
		
			var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
			if (grConfig.get(gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id') + ""))
			{	
			grConfig.query();
			if(grConfig.next()) {
				credential_alias = grConfig.credential + "";
				calmInstanceURL = grConfig.calm_instance + "";
				midApplication = grConfig.mid_application + "";
				
			}	
			}

			while(retries &lt; 3) {
				
				var inputs = {};
				inputs['endpoint'] = calmInstanceURL + gs.getProperty('x_nuta2_nutanix_ca.API_Prefix') + '/users/me';
				inputs['midapplication'] = midApplication + "";
				inputs['credentialalias'] = credential_alias + "";
		
				var outputs = sn_fd.FlowAPI.executeAction('x_nuta2_nutanix_ca.nutanix_refresh_token', inputs, 10000);
		
				var response = outputs['response'] + "";
				var statuscode = outputs['statuscode'] + "";
				var headers = outputs['headers'];
				
				if(statuscode == '200' || statuscode == '201') {
					var parse_headers = JSON.parse(headers);
					var cookie = parse_headers["Set-Cookie"][0];
					gs.setProperty("x_nuta2_nutanix_ca.nuta_session_token", cookie + "");
					this.logger.info("Refreshing Nutanix session.");
					break;
					//return "200";
				}
				
				retries++;
			}
			//return "401";
		} catch(err) {
			this.logger.error("Failed getting token. Error: " + err);
		}
	},
	
	// Use this method to make Calm API client call to the Nutanix for JSON response
	makeCalmApiCall: function(httpMethod, endpoint, body){                           //Original makeCalmApiCall
		try {
			var credential_status = "";
			var cookie = "";
			
			var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
			grConfig.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id'));
			grConfig.query();
			if(grConfig.next()){
				//this.Catalog = grConfig.service_catalog;
				this.midServer = (grConfig.mid_server) ? grConfig.mid_server.getDisplayValue()+'' : "";
				this.midApplicationServer = (grConfig.mid_application) ? grConfig.mid_application.default_mid_server.name + "" : "";
				this.calmInstanceURL = grConfig.calm_instance+'';
				this.userName = grConfig.calm_admin_username + "";
				this.password = grConfig.calm_admin_password.getDecryptedValue() + "";
				cookie = gs.getProperty("x_nuta2_nutanix_ca.nuta_session_token")+ "";
			}
			
			var endpointURL = this.calmInstanceURL + gs.getProperty('x_nuta2_nutanix_ca.API_Prefix') + endpoint;
			
			var request = new sn_ws.RESTMessageV2();
			request.setEccParameter('skip_sensor', true);
			request.setRequestHeader("Accept","application/json");
			request.setRequestHeader("Content-Type","application/json");
			
			if(gs.getProperty("x_nuta2_nutanix_ca.use_external_credential_system") + "" == "false") {
				request.setBasicAuth(this.userName, this.password);
				request.setMIDServer(this.midServer + '');
			}
			else {
				request.setMIDServer(this.midApplicationServer + "");
				
				if(cookie + "" == "") {
					gs.eventQueue("x_nuta2_nutanix_ca.refresh_token", "", "","");
					request.setRequestHeader("Cookie", cookie);
				}
				else {
					var preset_cookie = cookie + "";
					request.setRequestHeader("Cookie", preset_cookie);
				}
			}
			
			request.setHttpMethod(httpMethod);
			request.setEndpoint(endpointURL);
			
			if(body)
				request.setRequestBody(body);
			
			request.disableForcedVariableSubstitution();
			
			//if(this.midServer.status =='Up' &amp;&amp; this.midServer.validated == 'true') {
				
			var response = request.execute();
			
			if(gs.getProperty("x_nuta2_nutanix_ca.use_external_credential_system") + "" == "true" &amp;&amp; response.getStatusCode() == "401") {
				this.logger.info("Nutanix session has expired.");
				//credential_status = this._getApiToken();
				gs.eventQueue("x_nuta2_nutanix_ca.refresh_token", "", "","");
				//if(credential_status != '401')
				return this.makeCalmApiCall(httpMethod, endpoint, body);
			}
				//this.logger.debug(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Up ');
			return response;
			//} else {
				//this.logger.error(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Down / Not Validated ');
				//return false;
			//}
		} catch(err){
			this.logger.error("Make Calm API Call [makeCalmApiCall] Error: " + err);
		}
	},
	
	//===========================API call to get CALM version=========================//
	makeCalmApiVersionCall: function(httpMethod, endpoint, body){
		try {
			var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
			grConfig.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id'));
			grConfig.query();
			if(grConfig.next()){
				//this.Catalog = grConfig.service_catalog;
				if(gs.getProperty("x_nuta2_nutanix_ca.use_external_credential_system") + "" == "false")
					this.midServer = grConfig.mid_server;
				else
					this.midServer = grConfig.mid_application.default_mid_server;
					
				this.calmInstanceURL = grConfig.calm_instance+'';
			}
			
			var endpointURL = this.calmInstanceURL + endpoint;
			
			var request = new sn_ws.RESTMessageV2();
			request.setEccParameter('skip_sensor', true);
			request.setRequestHeader("Accept","text/html");
			request.setHttpMethod(httpMethod);
			request.setMIDServer(this.midServer.getDisplayValue()+'');
			request.setEndpoint(endpointURL);
			if(body)
				request.setRequestBody(body);
			
			if(this.midServer.status =='Up' &amp;&amp; this.midServer.validated == 'true'){
				var response = request.execute();
				this.logger.debug(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Up ');
				return response;
			} else {
				this.logger.error(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Down / Not Validated ');
				return false;
			}
		} catch(err){
			this.logger.error("Make Calm API Version Call [makeCalmApiVersionCall] Error: " + err);
		}
	},
	//===========================End of API call to get CALM version==================//
	
	makeProxyCall: function(httpMethod, endpoint, body, userId) {                //API Proxy Call
		try {
			var userGr = new GlideRecord('sys_user');
			if (userGr.get(userId))
			{	
			var proxyURL = this.configuration.api.proxyLogin + '';
			var calmUserName = userGr.email + '';
			calmUserName = calmUserName.toLowerCase() + '';
			var proxyBody = {"proxy_for_username":calmUserName};
			var proxyResponse = this.makeCalmApiCall('POST', proxyURL, this.stringify(proxyBody));
			}	
			if(proxyResponse.getStatusCode() == '200' || proxyResponse.getStatusCode() == '201') {
				var parsedProxyResp = this.parse(proxyResponse.getBody());
				var sessionId = parsedProxyResp.ntnx_igw_session + '';
				var idExpiresIn = parsedProxyResp.expires + '';
				var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
				grConfig.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id'));
				grConfig.query();
				if(grConfig.next()) {
					this.midServer = (grConfig.mid_server) ? grConfig.mid_server : grConfig.mid_application.default_mid_server;
					this.calmInstanceURL = grConfig.calm_instance+'';
				}
			
				var domain = this.calmInstanceURL.replace('https://','').replace(':9440','');
				var cookie = 'NTNX_IGW_SESSION='+sessionId+'; path=/; domain='+domain+'; Secure; HttpOnly; Expires='+this.proxyUTCConverter(idExpiresIn)+';';
				var endpointURL = this.calmInstanceURL + gs.getProperty('x_nuta2_nutanix_ca.API_Prefix') + endpoint;
				
				var proxyRequest = new sn_ws.RESTMessageV2();
				proxyRequest.setEccParameter('skip_sensor', true);
				proxyRequest.setRequestHeader("Accept","application/json");
				proxyRequest.setRequestHeader("Content-Type","application/json");
				proxyRequest.setRequestHeader("Cookie", cookie);
				proxyRequest.setHttpMethod(httpMethod);
				proxyRequest.setMIDServer(this.midServer.getDisplayValue()+'');
				proxyRequest.setEndpoint(endpointURL);
				if(body)
					proxyRequest.setRequestBody(body);
				
				proxyRequest.disableForcedVariableSubstitution();
				
				if(this.midServer.status =='Up' &amp;&amp; this.midServer.validated == 'true') {
					proxyResponse = proxyRequest.execute();
					this.logger.debug(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Up ');
					return proxyResponse;
				} else {
					this.logger.error(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Down / Not Validated ');
					return false;
				}
				
			} else {
				this.logger.error("Error in makeProxyCall API Call [makeProxyCall] Error: " +proxyResponse.getBody());
			}
		} catch(err) {
			this.logger.error("Make Proxy API Call [makeProxyCall] Error: " + err);
		}	
	},
	
	makeIntermediateApiCall :function(httpMethod, endpoint, body, userId) {                //API intermediate Proxy Call
		
		var local_groups_flag = "";
		var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
		grConfig.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id'));
		grConfig.query();
		if(grConfig.next()){
			local_groups_flag = grConfig.use_local_groups + "";
		}
		
		if(!this.versionNewCheck() || local_groups_flag == "true") {
			return this.makeCalmApiCall(httpMethod, endpoint, body);
		}
		else {
			
			var grUser = new GlideRecord('sys_user_has_role');
			grUser.addEncodedQuery('role.name=x_nuta2_nutanix_ca.calm_admin^ORrole.name=admin^user='+userId);
						
			grUser.query();
			
			if(grUser.next())//user_name.hasRole("x_nuta2_nutanix_ca.calm_admin")) 
			{
				return this.makeCalmApiCall(httpMethod, endpoint, body);
			}
			else {
				return this.makeProxyCall(httpMethod, endpoint, body, userId);
			}
		}
	},
	
	makeCalmApiCallForIcon :function(httpMethod, endpoint, body , sysId){
		try {
			var grConfig = new GlideRecord(this.configuration.table.CalmPluginConfig);
			grConfig.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id'));
			grConfig.query();
			if(grConfig.next()){
				//this.Catalog = grConfig.service_catalog;
				this.midServer = grConfig.mid_server;
				this.calmInstanceURL = grConfig.calm_instance+'';
				this.userName = grConfig.calm_admin_username+'';
				this.password = grConfig.calm_admin_password.getDecryptedValue()+'';
			}
			
			var endpointURL = this.calmInstanceURL + gs.getProperty('x_nuta2_nutanix_ca.API_Prefix') + endpoint;
			var tablename   = 'sc_cat_item';
			var recordSysId =  sysId;
			var filename    = 'picture';
			var request = new sn_ws.RESTMessageV2();
			request.setEccParameter('skip_sensor', true); 
			request.setBasicAuth(this.userName, this.password);
			request.setHttpMethod(httpMethod);
			request.setMIDServer(this.midServer.getDisplayValue()+'');
			request.setEndpoint(endpointURL);
			request.saveResponseBodyAsAttachment(tablename, recordSysId, filename);
			if(body)
				request.setRequestBody(body);
			
			request.disableForcedVariableSubstitution();
			
			if(this.midServer.status =='Up' &amp;&amp; this.midServer.validated == 'true'){
				var response = request.execute();
				this.logger.debug(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Up ');
				return response;
			} else {
				this.logger.error(' MID Server '+this.midServer.getDisplayValue()+''+ ' is Down / Not Validated ');
				return false;
			}
		} catch(err){
			this.logger.error("Make API Call [makeCalmApiCallForIcon] Error: " + err);
		}
	},
	
	///changes
	
	generateRequestBody : function(name,version,presetOffset,pageBreaker){

		if(!this.versionNewCheck()){
			var responseBody = "";
			switch (name) {

			case "startImportMPI" : responseBody = {
										"kind": "marketplace_item",
										"offset": 0,
										"length": 1
									};
									return responseBody;

			case "importMPIData"  : responseBody = {
										"kind": "marketplace_item",
										"offset": presetOffset,
										"length": pageBreaker
									};
									return responseBody;

			default : 				this.logger.error("Inside Nutanix_Calm_Utils.generateRequestBody :: " +name +" not found");
			}
		}else{
			var responseBody = "";
			switch (name) {
		
				case "startImportMPI" : responseBody = {
											"kind": "marketplace_item",
											"offset": 0,
											"filter" : "app_state==PUBLISHED",
											"length": 1
										};
										return responseBody;

				case "importMPIData"  : responseBody = {
											"kind": "marketplace_item",
											"offset": presetOffset,
											"filter" : "app_state==PUBLISHED",
											"length": pageBreaker
										};
										return responseBody;

				default : 				this.logger.error("Inside Nutanix_Calm_Utils.generateRequestBody :: " +name +" not found");

			}
		}
	},
	
	///
	//Show/Hide 'Sync' ui action on authentication success or failure
	showHideSyncUiAction: function(SyncStatus){
		try {
			var grAction = new GlideRecord(this.configuration.table.sysUiAction);
			grAction.addQuery('action_name','nutanix_sync');
			grAction.query();
			if(grAction.next()){
				grAction.form_button = SyncStatus;
				grAction.update();
			}
		} catch(e){
			this.logger.error("Inside Nutanix_Calm_Utils.showHideSyncUiAction Error: " + e);
		}
		
	},
	
	//Show/Hide 'Save Properties' ui action on MID Server Down/not validated
	showHideSaveUiAction: function(SaveStatus){
		try {
			var grAction = new GlideRecord(this.configuration.table.sysUiAction);
			grAction.addQuery('action_name','save_properties');
			grAction.query();
			if(grAction.next()){
				grAction.form_button = SaveStatus;
				grAction.update();
			}
		} catch(e){
			this.logger.error("Inside Nutanix_Calm_Utils.showHideSaveUiAction Error: " + e);
		}
		
	},
	
	
	updateCatalogName: function(name){
		var gr = new GlideRecord(this.configuration.table.catalog);
		gr.addQuery('sys_id', gs.getProperty('x_nuta2_nutanix_ca.nutanix_catalog_sysId')+'' );
		gr.query();
		if(gr.next()){
			gr.title = name+'';
			gr.update();
		}else{
			gr.initialize();
			gr.title = name;
			//gr.desktop_image = '';   //Image needed to be added.
			gr.insert();
		}
	},
	
	//('importApplications', 'POST', '/apps/list', 'payload');
	insertIntoQueue: function(topic, method, parameter, payload, process, desc){
		var gr = new GlideRecord(this.configuration.table.processQueue);
		gr.initialize();
		gr.topic = topic+'';
		gr.method = method+'';
		gr.parameter = parameter+'';
		gr.payload = payload+'';
		gr.process_name = process+'';
		gr.description = desc+'';
		gr.state = "ready";
		gr.insert();
	},
	
	// Inserts app run logs into App Runlogs table
	insertAppRunlogs: function(parsedJson){
		try{
			var grRunlogs = new GlideRecord(this.configuration.table.appRunlogs);
			grRunlogs.initialize();
			
			//grRunlogs.name = parsedJson.status.action_reference.name;
			var action_name_vars = ['action_install_ngt','action_manage_ngt','action_uninstall_ngt','action_update'];
			var action_name = parsedJson.status.action_reference.name + '';
			if(action_name_vars.indexOf(action_name) != -1) {
				var action_name_json = {'action_install_ngt':'Install NGT',
										'action_manage_ngt':'Manage NGT',
										'action_uninstall_ngt':'Uninstall NGT',
										'action_update' : 'App Edit'};
				action_name = action_name_json[action_name];
			}
			else {
				var aname = action_name.replace('action_','').replace('_',' ');
				aname = aname.split(" ");
				for (var j = 0, x = aname.length; j &lt; x; j++) {
					aname[j] = aname[j][0].toUpperCase() + aname[j].substr(1);
				}
				action_name = aname.join(" ");
			}
			grRunlogs.name = action_name + '';
			
			grRunlogs.uuid = parsedJson.metadata.uuid;
			grRunlogs.description = parsedJson.status.description;
			grRunlogs.app_uuid = parsedJson.status.application_reference.uuid;
			grRunlogs.app_name = parsedJson.status.application_reference.name;
			grRunlogs.is_runlog_archived = parsedJson.status.is_runlog_archived;
			grRunlogs.is_critical = parsedJson.status.is_critical;
			grRunlogs.state = parsedJson.status.state;
			grRunlogs.type = parsedJson.status.type;
			grRunlogs.kind = parsedJson.metadata.kind;
			grRunlogs.last_update_time = this.calmDateConvertor(parsedJson.metadata.last_update_time);
			grRunlogs.creation_time = this.calmDateConvertor(parsedJson.metadata.creation_time);
			grRunlogs.insert();
			
		} catch(e) {
			this.logger.error("Error occured while inserting app run logs, Nutanix_Calm_Utils.insertAppRunlogs: "+e);
		}
	},
	
	// Calm "last_update_time", "creation_time" date convertor specific to SNOW datetime format
	calmDateConvertor: function(getdate){
		try{
			var date = new Date(getdate/1000);
			var year = date.getUTCFullYear();
			var month = date.getUTCMonth()+1; // getMonth() is zero-indexed, so we'll increment to get the correct month number
			var day = date.getUTCDate();
			var hours = date.getUTCHours();
			var minutes = date.getUTCMinutes();
			var seconds = date.getUTCSeconds();
			var lastUpdate = year + '-' + month + '-' + day + ' ' + hours + ':' + minutes+ ':' +seconds;
			return lastUpdate;
		} catch(e) {
			this.logger.error("Error occured inside Nutanix_Calm_Utils.calmDateConvertor: "+e);
		}
	},
	
	parse: function(str){
		if(str)
			return JSON.parse(str);
		
		return '';
	},
	
	stringify: function(str){
		if(str)
			return JSON.stringify(str);
		
		return '';
	},
	
	proxyUTCConverter: function(timeStamp) {
		var d = new Date(timeStamp*1000);
		return d.toGMTString();
	},
	
	markdown_renderer: function(markdown_string) {
		try {
			
			if(markdown_string == '')
				return '';
				
			x_nuta2_nutanix_ca.Markdown_lib;
			var converter = new showdown.Converter();
			var html_string = converter.makeHtml(markdown_string);
			var markdown_desc = (html_string+'').replace(/(&lt;h[1-9])/g, '&lt;strong').replace(/(&lt;\/h[1-9]&gt;)/g, '&lt;/strong&gt;').replace(/&lt;ul&gt;/g, '&lt;ul style="list-style-position: inside;"&gt;');
			
			return markdown_desc;
		} catch(e) {
			this.logger.error(e);
		}
	},
	
	versionNewCheck: function() {
		var old_version_array = ["2.4","2.5","2.6"];
		
		if(old_version_array.indexOf(this.version + "") == -1)
			return true;
		else
			return false;
			
	},

	type: 'Nutanix_Calm_Utils'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;mumtaz.ansari&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-09 13:20:11&lt;/sys_created_on&gt;&lt;sys_id&gt;cc07c62137412300d27b8cf6c3990e83&lt;/sys_id&gt;&lt;sys_mod_count&gt;193&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_Calm_Utils&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_cc07c62137412300d27b8cf6c3990e83&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 11:17:03&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>1841950767</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>be24eae4db711010eeb98087689619ea</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171ac34b1740000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_Calm_Utils</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>f7687716af14d010bcb3dc3d7f5255a5</update_guid>
<update_guid_history>f7687716af14d010bcb3dc3d7f5255a5:1841950767,46efa875b8985010ad2d948d2c50ce80:1917529601,fdfe6cb52b985010fc4c97c57e5f6696:391584771,0aef32028a5814103f20b1da6538f7c6:-1054649825,2d41f51d98c49450008c80112298fa8d:7024653,3a0fe119cb849450bf9a6f99acb82c9d:-2063652868,c9ad2dd567c494503668444ff5f39e39:-1926451537,91ce64110880945028378435b33559b4:-419128519,756e2cdd4d409450eb98f96c1242652a:-726268620,626b6cd5804094502b6fddbca3bbbe78:1350530146,00eaa0115c4094503f974a1e6ed0283c:1097110424,aeaaa4153a4094502a868a18349e1d89:1072866694,ca62a859c700945099506bcc27cf92e6:1105396883,1de9a07f4a3b8c1080924c17a1acccee:-1473050218,8df8683b8e3b8c10235d6d8d92e6a943:-416441710,cf9e33eb90378c1037ac6db56c02befa:-1224839798,bf76f32b08f38c10d10c1fc4af1a8b85:1156754090,11a373a3a8f38c105212ca069ab67dad:-674292436,e1d177ef9ab38c10e01bcb24eb3ca703:478526910,61ecb8edbef3c010e0eba1d4d19aa376:-1705682866,852311e6e2230010745fac29bfba6d75:1018307385,6081fb01ded34010e3fc2b3f1c8d3ac9:681981532,31e0ff4105d34010ccc3f135f620b248:16326279,24ef234193d340106aff90c439e2e0e9:-1988975767,27cfaf012ad340107a0c037c1e1b3f1a:-1528290642,e54fa78d3e934010cf980a60a5a432ff:-1261945501,0b7d2f4daf9340100679e7a4d7f62205:108306278,fadca78d55934010f8f5145b83a714fa:-1722235142,363ceb4dbe934010e3ad284585ebbafe:1730098361,ef4967890a93401099a2d34620d270bc:6821147,3ddfd64d71db0010122d2bf85192c8c1:-185829358,e1de9e0d26db00108957f9579c60326c:-101961738,10bf8e4da39b0010e908e837057801e3:154883992,50a9d4385fd3001045f360f74dc4020a:1372376674,a7d814f491d300104b0899e0e507aaa5:805872783,fbbb3360ed5f0410688e9d2e798e78d5:2063878629,f54cebda5d4fc010b8505077f002b494:-1354894918,e276d419e3c70010a0df446941e8e443:-1214763492,f6e7c88a2c7e4010868929a9593f346d:-37487785,5a1db85ae16000106ebce4d45ef5fe78:-468448675,d564843aadbbf3007a09a34adcf81312:2134306854,2ebc7fee6d3bf300f6047d8b9c4c2949:-463460632,2397eb6948b333001f5e9b426982e8db:-1430333070,9b9b87d1b077330020578a6fe81eceb9:404727060,be52f4c95f2b3300175a1fa3c5cd42a1:-1241190103,28b5c2b00e63330004a1081af9a80ae5:-1014061663,c906858573df330050af5efb86a6464f:1416748225,6dea86f75172330010ef5f8bdfa564bb:195597801,6d1bb84c35b2330004e67592b96aab81:2101651716,4dcafc4c50b23300beed94d3d4e67ae9:-1274462870,789ab44c12b233005466861233c15aa5:-1097618369,5be9344c0db2330091e3f5ff46a55667:-1861443188,4659fc0cf5b23300e198857bcdddf091:1441827055,bbe5879ae3a2330038043fee8bec790c:1967914857,8c85ba1ebe623300f603b202b20e4824:-1245825130,ebe0365e87623300913d753ed7d89702:344087215,e298a6db2acff3004c51d146d6331c19:-352558727,da6a86b3a6723300395edec4c356b718:601796858,e9c463b511b233008dcab6efdd042a05:1396697269,73709df76d7633006d6c9f987ad87b00:240563474,19690d73bc763300c270f630fe3c62a4:1062521728,1f35f887258233000aa19fe78028382b:1388854173,ea253cc71d82330023ba1a8cc933652c:327979110,02e4f44762823300e09356ead0fa5b48:-1811692405,dfb370c736823300e983ef303f01b514:1388854173,54b3b88767823300aba696f0ad315d42:-273468163,67833447c8823300897b2db4f67aaa99:-682300393,eb065d009f0e3300fa77911fa5c1599d:1388854173,7283d104120a33009647acb2516f24f8:-1520857,8f9800097d1f3300bf88a72f79e2bceb:1990703629,74c9e6270c893300fe19e1421a433a34:344087215,2b99eee3c48933000713f06a20c9a609:445303032,5978a6a3fe89330096387f43539eae04:1542210748,adf722a3838933008f241867543b31cd:320182338,b41766a36d893300e3e2fbc39b268382:245319624,17c5a66326893300578b9b715e31256a:2128763330,e86566ef6a4933006f22e2b300d58bae:1141746189,c615e623c889330066507d26488846c2:-888239665,b3f46a23d68933000353fce10a876dca:999585783,93d46a23aa893300ae8c3095c71b0adf:-156386778,495b9e674a4933004ed85a7b14019c65:-1075560250,268ade67f7493300813cf1768cd324ab:1468239795,ba5112af16093300dbecd05e833c5b61:2025756305,3a0f822fac0933004b135db2b3060e04:1525564970,1ced82eb87093300cbc203fcdf827bcc:-1595414578,f30cc26b4a0933004f07d83343fa1a3e:-1841920116,fb954667ab093300d3228e896106645f:139672442,89714263d10933002764995614ee778a:-2047818780,783947d7ccb073009f7b9a289d845243:1664189231,5f2ce15b78bc330019c1251dbce2db99:1344231297,8c8c626e5f7833005f146d29009880b8:2048893628,67cbf8783430b300e0cf6eb80848396e:-183637656,d92aa4bc39fc7300ddf50098b1044c46:756771976,79201cf083bc73006e6188847af07bab:683982105,ab890ce464b0730075b92922ba008d3b:1890913806,e87980e48db0730055d55c279ef362d2:-2055294049,240580ece1707300239bbdc475446560:-1897943010,12c783458438330042985007636a30b3:1890913806,e7da35386ef0f30045d878d6d2467b7e:-1322583702,048c3944163033007ce5954103de6f3a:-1281797981,ede97d00cb30330037db91f69e20a6d2:1554116198,af1695f7f0a03300d9aa26f55bbe36be:1960442693,63a91973e9e033008ca1ca8c349b9fd0:827788452,49296a23085033004c28815ffecaa6b6:-44464157,74c8a62380503300fbf7a8741f16ac35:-837492737,9d70e34bf76c33008cf942a5df7b8de9:1669009267,87d69b83a06c330042b12e79012e8ebf:1983010569,67c657c30a6c3300feba6e17aa99f4f1:-2063810673,52e1e28b4da83300414d69d7b5da69c2:-843339734,5ca42676536033006e1450d3c431cf38:-1379735095,972ef5fed3c033002f04b7fd660f11d6:916214372,2bad4a53c52e6300949200b0b467c7e0:1289926590,67eae517c7aa63008d5f4aabbfb0f8a2:-1564236883,358d0ecb49a26300d3aa690585619951:1065150832,de140e4731a26300acbb850ae0d66447:-504486437,cd0e4c03b0ae23003a38fa08f0800ebd:-2112665817,3c91b07a5ca62300c60ae243592de180:1885335981,b7a077261c2623009110b85c0d7e57f6:240199054,f6b0ebd00ce223002b72eb45598e3833:-587797936,2d4cd39cf8a22300f2f5de9d038ba596:1159552271,84535b90fb2663008e74faa51946d5c0:817947824,75916acc3a66230082d51178c6f97c03:1483891257,99fd6d003fe22300bafbde99866909ef:-484971044,4b3a6d005ce2230035ed8ec2cf47b0c4:-1052171364,18a78d8c262223003ffa7e78914b8197:-484971044,2b9926ff058223002c8bb8125f154ca5:796385693,211b5277db822300a3ee96183503e821:472942619,8f999af3028223003a4046a92220fb02:-503582359,b29ac6776b422300d71ace5fbd006d53:31732372,d0623de3230623002733c8bd4a177f8e:-372205656,c2a1495bd782a30086b29ba9c9cc7c4f:1912644188,e95cb8938082a300ab069bc1400f4dda:1985826361,a3e39c1bed02a300c11af68991e3ae4f:167991996,b2301817a502a3005838bf32b8a758b1:-990520716,637761a1628a2300ff8d0078b953da1c:1688517324,a8e2e0ad1f06230089145ac71a53bed7:-1776621505,d8976159ecc223004ad254ff2c79c981:-1842019564,ed8970d1f8422300321da662a2b968ce:-97848339,29dcfcc967066b009a3858610083f71e:-1042701577,b24f680110066b00185c500e1a19d4de:1951309313,60f5ec494cc26b00556b49d1edbb536d:1891592437,f5309950408e2300740ce55e25eef619:-2060227712,f63ec110f38e2300adafa9339b24e002:810742891,7ead89dc254e230068662e8043188a9c:1136719629,d6da815cfd4e23004ea3f265eddf7a2b:-776447500,c5e349d0924e2300b2f2673f7e59316d:-549523885,f82d0e8c56862300f9d646448cd53a9a:866126304,301d5283e87523003448ccb4b988e599:-666693685,afeb1e434d75230008806ce877096361:253922448,07c3864f1ef123004c8f82c95e4d1b3e:-607216006,b83382cb24f123001a04ed3380b83fa6:1939680493,106ab9c7bef1230009502141c93898a8:-1666048103,3dcee98fcab12300c5aed6fc3061b722:-58668486,937e218f1eb12300e623e9d74ce493a8:-607216006,86bc61cb06b12300a1d6ce1dbf58c88b:-569454194,d0a91e07f0b9a3005b4269817e7e18f9:-1104963394,d0b6e1c362f5a300466dd1b345efe6da:992225794,45f4a1039cf5a300fefa76ecc6920ca0:-1136790922,5bad9dcb82b5a30025783ef4baa2348f:873845548,677a7faec039630023d03a479bc97558:1438022542,3e6a7fae4c3963006bc70b2aeed3b951:1302355598,737f12da12f9230017cfd0f7cf2cec38:1438022542,fd0431f11f75e300819956b957d0c1d8:-1614843276,8f88c57519f1e30032cd16d5f949c3fe:-1708585935,97b749fd57fd2300e0fd7c565308b068:862696279,92974d715c3163001543d85471f42df9:-379608796,2e77cd71b43163002a19ecb73e54efde:854484825,b47ef7edc13d23005468f7f185ed4d9c:-1587995975,e51ef3edea3d230043db7e7fce3b797a:1161824316,a77dff6d2a3d2300a740b15b7e288747:-606199214,7a2c732dd73d2300b24c984b837ff56c:-1025347161,1adffb156ef1230075f7e851ee4ae3c6:1241088169,5fa5bc6dfff5a30086193c6125c8e866:-754602674,6018a8d5836d2300d957e536e5a08c64:1786128469,002f110187652300c3ccf79fd27c3ddc:244504230,bce4a48501e1230012691220b880aa0c:-676849501,e7464ae801212300ae40b489254314bb:-77708988,32406d14722963008c76d6a26c36ad92:-1015307147,117bb543eed12300947a461f60646cb0:-1801119527,4216fd4fd79123007b8c6f028117403f:-1093476056,60a4cdcf62112300552423ab2aecb411:376767278,4de530ba45912300a90b840b65fac61d:381494677,e1424b56a75123000bdde251181f97ef:1741981683,9cd8f054a42d23000bb4ac24e1c1baf7:1731031146,3e98f410242d2300b5cc05fdaac488e1:-1100326519,3952a5fa6e952300560b977d79c58e0b:1727849333,2d3ed03233152300ee301914f1975060:1093139738,69182b5efb9d230049dd02f69eeb675a:820698938,23d72b5e509d2300d8e45d9218844f40:-498397573,3f77eb1ec29d23007dac6230dabe50fb:1746460774,4a342f5ab99d2300789741e24ee9f4fc:1570937844,f15f1f56b19d23000c863cb1d50c1697:1878383819,13447ed6741d230090969f346b3610fb:583572587,f77e3fe61ad12300d526fe1ddd30df69:1783218942,59e4875264152300a67a293efd0bddbe:-85140564,3e6b6612eed123003af199fb13803785:-2052516138,32ac688eb61d2300fa8c57c23fcedd3f:1586355424,c86ca08e4f1d2300c50fdf92f108640d:-1564394133,86abe80e431d2300279dba1e95e70ddd:-1770319341,4a9a600e501d23000540f6502e3c43e9:-641103501,c9e9280ece1d230021e93ead6f92b6e1:-182189005,1e49acca5c1d23009febb302fc45abd6:-1199287213,503920ca7a1d2300f26521753167f4d7:-1384747517,2cb86c4a701d23007ac317fe2d05536b:-1036576009,83956c4ad41d2300a0627e1b1cb1f763:895067125,8705e80a351d230090244b7565da2d22:-1517002870,2d179f2547112300083bdec5aed8d716:619773215,ec868cf97c512300e4a968dbc749d045:339057694,46ddb938c4d12300fa0005d8527a01eb:-530584369,697cfdb453d1230053fe2423b1efbe8f:617939878,cee8f4b0e4dd23009e7d64cf60c3dca0:-754938354,4e073cfcf29d2300bf5149956108dac3:1186470154,a1a534fc1a9d2300add3f80cafd222f8:1368592038,7b6534fc259d2300fca491e5e0a25a6d:-1971579545,d663b87cb59d2300846ef2c70e22c27a:-663801934,0643f83c099d230071278aa97e645704:-173218921,7933b0b86d9d2300811dca0446bfb299:-267801899,691ee0783b9d230079028fdaccad2598:735034123,f46554786d5d230070d150bd261ef15e:1929433413,fe4358349f5d2300edc8abf7812e377d:-593066623,8c015434ea5d230092b3900f6bf0e241:-1163449663,86fd0830d75d23001d12b554d2ac2558:-1751284441,69757b60bc1d2300000eca5130f5d7c5:-1772029879,af29be58771123002e6424df3a6bba11:-316090238,41c33ed0901123006cceabb949f4c600:831224956,d6a6917795cd23005f104d772b853f86:268008152,4c5070771e4d2300ce01a17ffe33909c:151205789,dcd2a227c0c5a300193c273ededccea7:40333851,9ef0e2e326c5a300d472157d00e4ce1e:56452773,1f3f1e638bc5a3009eea9ea80ea96eff:-1893247731,25ac11a7e88523007642c4635d2b6001:-915065046,1b7cdd67c38523001d0a29181f8122de:1001649820,664cd967e5852300e24ba755b2e62f31:-1378107027,4dbb196799852300f425cd24d3bf51a7:1129056810,1f5bd16724852300ce3f1e4494124ad9:-683076092,04fa1d2714852300d936f10dae5456eb:301120033,714755a3ce852300b25327aa96e76d1b:810830716,5cd9c9a74f452300c4904d9f7cf0c98b:-683076092,e4c398a3f1c12300d81b41b84f862e49:1234535235,a95354a3d8c12300df0b56605532303e:1739961597,1652146300c1230040aa7ffcbbee26b2:-510357201,15e114639dc12300fe6a692e482357ad:-1593936654,4321d4efa78123008eff1be4b522d199:-151142886,58de44afaa8123006894176fbc006807:1039072466,d6a970efbc052300159fbad5d7aadee9:382554143,74897c6fa8052300d5c8bdb0279a5659:-2095677452,2569bcaf9e0523003137d910f11458e6:593806146,35d7fc2fad0523003985f6bcc680d7ba:-1921525184,6797346fb00523006adbc1637fc9a408:-1554795412,2537fc2faf05230049da6bf3c1a543b5:-754857388,8be634abcb0523002962446fea483e73:-617809692,2a56b0ab9e0523008e8d4ba31010995c:718925376,7eaba8e3c4052300d238013ffb647002:1003504369,02b23f9ffb412300f840e6c9a2eaae15:1471106428,0092fb9f704123002c128187d875e2e8:1312140642,78a0bf5fa9412300bbd493677413a326:-383440449,3b7eeb1ff0412300e9a4798c23f70661:-648995161,fa3ea75b8d412300edd20469b7ccbf1b:51835091,6bac635b50412300bdadf0aec5163f6a:1091477255,735f73930041a300f6f8bb46ff326fa3:249568305,568f201b3c49630074a0e400c0aa7fc0:-1931523059,83cf07cf33456300855103455ae8ded5:-2070930081,84bf8b4ffb056300fe7d0617901a628b:1842252555,fd3fcf8f83456300dcbcc8f160d7967b:911212182,a07545eae545e3004f0fed9a9bacec69:194890797,91f9f4e24e45e30013307843f71ca846:1772564359,11da6c2a5505e300ce82207ed852c857:1395583904,d27204ee3181e300acf5ec2d18f22301:1213373881,22af7bcec4c12300934e9e143c07bca8:1584108704,2cccc7b54bc12300bb1bb95e051751ff:-518467077,9eadb63969812300396736d5128f2c0d:2141133413,d4bcdfb13b4523009eb7a6ada0a68c1b:1323389742,91e3573d56052300eb43dab606537f0d:-2009685848,b053fab509c1230055576b7cd0d4b7fc:-850130911,13777239d38123005cd8a3aed83bb194:-531617724,7617b2f57f812300e7c8affd884b042c:759044228,5a93b275e4812300127d43fbf82ade3f:-2106764558,f2423eb1f5812300d97042cf31edb4f2:-839528526,677136710c812300c22744101ea8ae21:553052209,38cf2ab1a2812300d574fe40923f8a08:849427136,c74c62710b81230009dd5f4cafb18280:1582422541,ed25ae39d54123006c9b4e7c5da69c93:1810348366,1daf9e39784123003efc709984d6098d:2125162294,5f6fdef542412300dab2737dd8f7b3a3:1149931353,e71fda39604123004c31f089c66cf260:-797722392,a2fd96f5ed412300e059b6bd5776f2ad:-1410515181,89cf3571eb012300ecdabb5481ce084a:-1455467242,35b121f9ed092300b98578bf102bcbcf:-2132334686,f3178e21e94123004c8a087ac0e02461:-393435071</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_b9ba9d754f09230065e48020a310c717</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script/&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Calm_Support_Page.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;g:evaluate var="jvar_log_user" object="true"&gt;

     &lt;/g:evaluate&gt;
	 &lt;g:evaluate var="jvar_not" object="true"&gt;
		 
		 this.appUtil= new Nutanix_Calm_Utils();
		 
		 var not = new GlideRecordSecure(this.appUtil.configuration.table.CalmPluginConfig);
		 not.query();
		 
		 var supURL = '';
		 
		 if(not.next())
			 supURL = not.support_url+'';
		
		 supURL;
		 
	&lt;/g:evaluate&gt;
	
	
	&lt;body onload="onLoad()"&gt;
	&lt;style&gt;
		table {
              border-collapse: collapse;
              width: 100%;
		}
		th,tr{
		     padding: 2px;
             text-align: left;
             border-bottom: 1px solid #ddd;	
		}
		.details{
		font-size:14px;
		}
		.tabHead{
		 font-size:15px;
		 background-color: #dcdcdc;
		}
		
		.details:hover {background-color:#E6E6FA;}
		

	&lt;/style&gt;
	&lt;h2&gt;Contact Support ${jvar_support_url}&lt;/h2&gt;
	&lt;h4&gt;Nutanix&lt;/h4&gt;
	&lt;div style="color:#FF5733"&gt;&lt;h5&gt;Important:- Perform action mentioned against your role.&lt;/h5&gt;&lt;/div&gt;
	&lt;table&gt;	
		&lt;thead&gt;			
			&lt;th class="tabHead"&gt;&amp;#160;&amp;#160;Your Role&lt;/th&gt;		
			&lt;th class="tabHead"&gt;Action&lt;/th&gt;			
		&lt;/thead&gt;
		
		&lt;tr class="details"&gt;			
			&lt;td&gt;&lt;div id="username"&gt;&amp;#160;&amp;#160;Non-Admin Users&lt;/div&gt;&lt;/td&gt;
			&lt;td&gt;&lt;div id="targetuser"&gt;Report to Admin Users.&lt;/div&gt;&lt;/td&gt;
		&lt;/tr&gt;
		&lt;tr class="details"&gt;			
			&lt;td&gt;&lt;div style="color:#FFFFFF"&gt;&amp;#160;&lt;/div&gt;&lt;/td&gt;
			&lt;td&gt;&lt;/td&gt;
		&lt;/tr&gt;
		&lt;tr class="details"&gt;
			&lt;td&gt;&amp;#160;&amp;#160;Admin Users&lt;/td&gt;
			&lt;td colspan="2" &gt;&lt;div id="Portal" style="width: 50em;word-wrap: break-word;"&gt;Check The Error Logs and Consult The Documentation. If issue is not Resolved or not mentioned in the Document&lt;/div&gt;&lt;/td&gt;		
		&lt;/tr&gt;				
		&lt;j:if test="${jvar_not != ''}"&gt;
		&lt;tr class="details"&gt;
			&lt;td&gt;&lt;/td&gt;
			&lt;td&gt;&lt;div id="email"&gt;Contact us by visiting The Portal at&amp;#160;&lt;a href="${jvar_not}" target="_blank" rel="noopener noreferrer nofollow"&gt;Nutanix ServiceNow Plugin support website &lt;/a&gt;&lt;/div&gt;&lt;/td&gt;			
		&lt;/tr&gt;
		&lt;/j:if&gt;
	&lt;/table&gt;
	
	&lt;br /&gt;
	&lt;div style="color:#FF5733"&gt;Note:- Use This Option Only When Required.&lt;/div&gt;
	&lt;/body&gt;
	
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Calm_Support_Page&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;nitin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-10 04:45:14&lt;/sys_created_on&gt;&lt;sys_id&gt;b9ba9d754f09230065e48020a310c717&lt;/sys_id&gt;&lt;sys_mod_count&gt;107&lt;/sys_mod_count&gt;&lt;sys_name&gt;Calm_Support_Page&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_b9ba9d754f09230065e48020a310c717&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:07:59&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>1211305144</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>be24eee4db711010eeb9808768961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b345270000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Calm_Support_Page</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>3f98a7564b909410c18ac9ac3c90b07c</update_guid>
<update_guid_history>3f98a7564b909410c18ac9ac3c90b07c:1211305144,8154f2e7738e4490135d3275d36a397a:-379564241,53f1d3738a61041010b0333bd7ce06aa:-379564241,26fa473b5821041003387b7f6c799805:-520496327,5e9987ffc5edc010e5f75f5fcc4055a3:-741012764,31e8473fb1edc01058fb2bc0c00e4cc4:2059692796,b9524b7b3cedc010ba8c539db6f21fd5:-1419176340,9cb67abffdadc010e59647821265cb18:-931984176,bf163ebfe2adc0104b5676e011e91108:-498801582,76d003d95e373300bc89735b5c1355d5:935968090,2b31c441ff1f330083fcaa3cb4455872:935968090,638c3d144fc2e700815502656ca86574:-1357233048,995e275370b9e300ea08530360349c81:-219284242,322727bcd821230014c4c990f7628df1:67616014,06a22b089d912300100fcb6f59d3924c:-2023532766,90cfdb44c9912300e78e464e82bfaa2a:-1025237131,1265fd73ee016300e6b2e15c3355b57b:975291845,68d43d73100163003c95e4d6a66ce6fb:-1850557051,6cc43573870163009512bb9ca642fbd6:-1186303513,38a435737e016300923be38605de57ca:767020182,9ae3fd3315016300685fba078297514e:-917432473,be127dbf98cd2300ff4a534a795e590f:-1610725476,365e6d7f2dcd2300fa321958ea400f8b:-952026560,823ee97fe3cd23003b33cf712b25d8d6:1619675471,ab1ca17b18cd2300158d464f4b28d6a6:-781075581,b9fb21bb86cd2300ac673fac1bc5422c:-52332013,346b6d3b9acd23003be9876cd74ad6e4:-1073652395,684ba17b3ecd2300e64c55617d4cc8d3:1018339573,2c9aa17b90cd230049199df50200ceea:-149437812,ebf9a17b27cd230052c1bd403358899d:1949956900,07d92d3bf0cd2300dfb7e85a375c3104:-371375505,fda969f7a0cd2300edfb51a2cb29b1ac:68648535,9f79e53b15cd23008cd5d7f27e55678c:1278515223,195969f729cd2300d10bd7428c7abbc5:-1925600162,c4582df776cd23000ec5cbd187203c70:-1709723439,6fc72df726cd2300ca17d7522e521652:-2103801663,5ab72df79dcd2300a49eefd45749f76a:1916957140,75a7adb7decd2300d11e3c65916d1cb2:-974675056,3d6765f76bcd23008eb4db90de75190b:-418555631,525765f7c6cd2300b3188a1f3e238108:1845785975,aee6a5b7decd23003aa973e53fff1eed:830043307,33c62db7a8cd230055ed2874b5a62741:902106903,77262db76ecd2300fb1cf6ac5b84303d:-475407168,7ef52d77a5cd23000efa6fb399394d93:-107874741,1ba565b76fcd230028b5502cb764cb64:-475407168,6635a5777dcd2300105204da66917363:-1537970932,11e42d7700cd23005558f8ce1cfebeef:-226896259,f8842937a3cd2300e7fd8938ad8ac93f:-1832456314,16542937cfcd23009253443401737066:725721418,c6d3a577cdcd2300312f70f4ff75ee52:2069769716,04c36577d7cd2300dae0b43c388abb58:1456852940,6f42e137c3cd2300a2b9aadbc19a8864:1536893154,96126537f0cd230029f1b8a1ad73a4fe:-875254349,0cd1a9b3b4cd23002e6d36f08c6389b9:609200765,89e029b3b0cd23002e93ac397f575460:1160874962,303f99b317cd2300fcc9242a99cb05bf:-858527262,de1f59b3b3cd2300cc1c351585b37473:-425817615,6bfe19b3bdcd230045b3357f6347cf6a:-858527262,c5ee55b36acd2300428602345565d699:859893218,26ce51b324cd23002cb7bf718cfba1b0:-858527262,0b9e55b369cd23003e0b165f2ad74166:-1943321906,2b7e15b345cd2300893a79a7cc6d7a14:-1498536717,aa5e51b390cd23000943dba04851a685:-1781225812,2e4e51b3a1cd230042dfd20406c39381:320769772,5c8d5dffaa8d2300d205caddd88b79a2:2122691511,94cc5d338bcd2300d07a3926943088be:1414132041,8c3c5d3322cd2300b4a90f214e6b0eaf:-1943321906,9aba5d7fab8d2300615c30bd5621b1eb:812238339,735a5dff158d230005b702d74c641c6a:-1228014141,34e9ddbf118d230029a530174a9f8c19:299977707,3699957f9a8d23008250dca62d10ead4:94937087,dbb75d7ff08d2300cff6b203a561b1c9:-64873182,c517953f9b8d2300d1a85edc97140ca3:1914926174,dcf6953fa88d23001a3b78b14d136a66:22672342,bf26953f488d2300c9ccb9a4a8b72c60:-1315677170,9c05953f4f8d2300130d47edd4e0077b:-878189482,34f4913f2b8d23007721830e7272f35f:1960093323,f394953f1b8d23004891f89d3656c13f:608924308,3374d13ffd8d230034da9b5bae0a1e62:412203869,ec649dfbf98d2300964feb56ac80aad8:-522767974,3b34d13ffa8d2300e5f3cab3d8c85d5a:265439393,b71455fb868d23006abaa663bfc63c73:-634667929,89c355fb6c8d2300b54e080d2339c56c:1994715574,64f255fbc78d2300d74dde8efc8a3430:-369153325,bcc255fb668d230096c693413b9b6b42:-305412934,78b259bb7c8d23008988a7b9452eb8f9:853767042,075251fb518d230054fa76a285defe15:-305412934,06129dbbe08d2300a6841a11f11e6e39:-467866053,60a1d1bbcb8d230088d2a8ab592b5fdd:742931232,1aa0513b368d2300177e55151d0d2c34:-1798530432,403fc5f7098d23002b761281d8945640:-598838507,15fec93b758d230029714f8d13906a66:1854685589,44eec5f7e58d2300c1f9a1d18fc6eb4b:-514309601,c32d01f7118d2300d089f9662c21ffb4:1573361321,af1dc9f7c78d230031e588fbd3f50301:1837575628,920dc1f78f8d23009bec1bc32dc39ecc:1682089899,09cccd77328d230052cbc3ffe71c3e2a:186390073,c37cc1f7858d2300f7ed2de2a4b013c6:1372299454,d42c89b7a08d23005536474604062d60:-1093435121,527bc977128d2300d7d5673e1a99346c:2032206533,5aba0d77d18d2300560f76ba67ddc64b:1296082785,982ac977b08d23006560c90689793e4f:2032206533,6689cdf34a8d2300758d34666b56f5ae:1789633329,9e19c9379f8d2300740ad67daacb8047:1451222118,dfb80df3b58d2300f2e8b02f4740d027:-779574722,5c784137f08d230070e072cbd095cb1b:954897714,6257c9f3638d23006eb0f79e5d1189fd:-963047161,ff37c9b3a28d23009f14f682acc709be:-659628122,6d2781f3f48d23003ff749aef87a25e6:-963047161,b81781f30b8d230048c32485294580e2:25259480,36d6c9f3d58d23008017d2bedec0aff4:2037117375,64602b46ca8563000dd33814231b9a6b:148593692,08136df990092300210bddafc56180e4:-80338956,0bf2a5399a0923004cf43397590e23df:1027654826,c86c95f5a909230007f01856de8833aa:2007134444,42db55f5a8092300ccd9dda980d54253:-1388950324,e2da55b5570923001b8662565e503f76:-467832874</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_12f60d3f37112300fdfc097973990e53</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Configure Calm Settings"&gt;6ddd772a37112300fdfc097973990e01&lt;/cat_item&gt;&lt;cat_variable&gt;IO:4cc4707a37912300fdfc097973990e6d&lt;/cat_variable&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Fetch Blueprints on Project Change&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onChange(control, oldValue, newValue, isLoading) {
   if (isLoading || newValue == '') {
      return;
   }
	var performAction = getParameterValue('performAction')+'';
	if( performAction == 'update' || performAction == 'addProfile')
		return;

	var project = newValue;// g_form.getValue('project');
	var blueprintType = g_form.getValue('type_of_blueprint');
	
	var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
	var loadingDialog = new GlideModal("loader", true);
	loadingDialog.setTitle('Fetching Blueprints...'); //Set the loading dialog title here...
	loadingDialog.renderWithContent(''+loadingHTML);

	
	var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
	ga.addParam('sysparm_name', 'fetchBlueprints');
	ga.addParam('sysparm_project', project);
	ga.addParam('sysparm_blueprintType', blueprintType);
	ga.getXML(processProject, null, loadingDialog);

	function processProject(response, loadingDialog) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		var blueprintsList = JSON.parse(answer);
		g_form.clearOptions('blueprint');  
		g_form.clearOptions('application_profile'); // clear options of application profile  
		for(var i in blueprintsList){
			var blueprint = blueprintsList[i];
			g_form.addOption('blueprint', blueprint.sys_id, blueprint.name);
		}
		
		var data = getParameterValue('data');

		if(data){

			data = JSON.parse(decodeURIComponent(data));
			g_form.setValue('blueprint', data.blueprint);
		}
		new GlideModal().get("loader").destroy();
	}
	
   //Type appropriate comment here, and begin script below
   
}

function getParameterValue(name) {  
    name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");  
    var regexS = "[\\?&amp;]" + name + "=([^&amp;#]*)";  
    var regex = new RegExp(regexS);  
    var results = regex.exec(self.location);  
    if (results == null) {  
        return "";  
    } else {  
        return unescape(results[1]);  
    }  
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-28 19:12:26&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;12f60d3f37112300fdfc097973990e53&lt;/sys_id&gt;&lt;sys_mod_count&gt;47&lt;/sys_mod_count&gt;&lt;sys_name&gt;Fetch Blueprints on Project Change&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_12f60d3f37112300fdfc097973990e53&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:31:05&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onChange&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1966601340</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f224eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c4960000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Fetch Blueprints on Project Change</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>bfa1a3f8a8885c1085273e1e2ee8a505</update_guid>
<update_guid_history>bfa1a3f8a8885c1085273e1e2ee8a505:-1966601340,86922dfac3bfc41007e298b6470dca21:-387182390,90e401686efb4010b961ff696e8ad4ee:2048005059,3a88f1003d373300a89477e7b490ac78:1421952566,81bbef41112733007d30ba2a47dc2789:1678808959,a5332389fbe33300c00f7877b7fc0e55:1039264474,d2604f980997330057fd8f1286965f3c:-90283911,6f83d072138333004ef58e079ba79135:-1300542074,6dff539ac94f3300fd168d24d3cc6e55:944930176,ff99835e7f0f3300238cc3908f0ef90b:-442565664,e7d3174d9cc33300d4eca1f07c30381f:944930176,67da8030174e730031028dee7f5426b7:1812837121,5c1100789e0e730093d8783f2ef15579:-984206164,4181fbdcc1427300ef83849f8c665d6d:949625782,cb43810545b72300e72e6aae1d49b15d:-300188713,b53dbc8df97723009aefae9349b90433:639329622,699bb08d1a77230086b91e42424d5040:-300188713,971b784d71772300b5fd14dfb537f68e:1772830489,b4be53979b79e300e6649707a7992d17:608354207,18d91b7a5c71a3006de5bd2f53ed6df5:1980646271,d1507eb812bd2300bc23b0c698ba3186:434276099,29dfeeb8d8bd230056d3726b8455ffe0:-1503905421,1dbee2b8bdbd23003f5fb6a976d26c55:1215348627,39a76bbc83212300008692ecabd4fbc6:-2043762342,5756ca7737d123007a921f2c535e4223:-261781919,d3b5c277c3d12300728c5afe83383acd:-906659438,ec858277ead12300a08d34448a22fe61:-261781919,4255ce3760d12300578f5ce0f0b06782:-1274537070,f0b4823782d12300eb2b5b987dd1cbf3:875243259,b3a44637c1d123000838368933a5b28f:336194622,6b64c23746d12300cdeec360bb194d17:160110932,63144af366d123006b781336114545aa:830562743,699d3dbfea912300ccf742a1185e1338:-261781919,249d75bf7a912300dabf4b1be3255fb9:-1274537070,b0ec35bfed9123007740ea23a9364c1a:61418816,ffdcf1bf2f912300a87cdbc4df804325:-1274537070,96c7ed33c59123006b5da6c4fd31b01c:-261781919,99cfd13fa9512300bfe0ae4f15076d7e:1040132575,a48fd57bf6512300899c7b16f2566834:-1804817428,582f15fbe9512300c1c3eeb394643be1:1196659304,be4edd7b7b5123009c3b573c3c770739:405931359,aa2b513b1f51230022835fd2fb360b56:-1642739750,87fa953b13512300bc237129fb5c2e99:272466114,01aa117b5c512300bfb202853a4560a2:124502759,2e4a1df74c5123008325eaf7b90e627d:405931359,c7f991f7b8512300950499c8225d1f7a:-415577673,441f0d737f5123002896b7e3018a4450:748779206,85fd8d33d35123003af5606eb0c9649e:-340221701</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_2f2b341e37f52300fdfc097973990e10</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_CreateCatalogVariables&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_CreateCatalogVariables&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_CreateCatalogVariables = Class.create();
Nutanix_CreateCatalogVariables.prototype = {
	initialize: function() {
		this.start = 110;
		this.end = 500;
		this.order = 111;
		this.subContainerEnd = 160;

		this.fieldLabels = JSON.parse(gs.getProperty('x_nuta2_nutanix_ca.nutanix.fields.labels.mapping'));

		this.exclusionList = gs.getProperty('x_nuta2_nutanix_ca.exclusion.list')+'';
		this.disabledFields = gs.getProperty('x_nuta2_nutanix_ca.disabled.fields')+'';
		
		this.integerValidation = gs.getProperty('x_nuta2_nutanix_ca.integerValidationList')+'';
		this.boolValidation = gs.getProperty('x_nuta2_nutanix_ca.booleanValidationList')+'';

		this.profileUUIDSysIDRel = {};
		this.appUtil = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		this.diffVar = new Nutanix_ImportApplicationProfiles();
	},
	
	_invalidateCatalogItem: function(CatSysId) {
		var grCat = new GlideRecord("x_nuta2_nutanix_ca_nutanix_runtime_configuration");
		grCat.addQuery("blueprint", CatSysId);
		grCat.query();
		while(grCat.next()) {
			grCat.state = "inactive";
			grCat.update();
		}
	},
	
	_checkServiceVarSync: function(cat_sysID, variableList, serviceName, profileUUID, serviceSysId) {
		
		var arr_var_current = {};
		var arr_var_updated = {};
		
		var grCatVar = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
		grCatVar.addQuery('service_name', serviceSysId + "");
		grCatVar.addQuery('type', 'Service');
		grCatVar.addQuery('catalog_item', cat_sysID + "");
		grCatVar.query();
		while(grCatVar.next())
			arr_var_current[grCatVar.uuid] = {"variable": grCatVar.variable + "", "var_name": grCatVar.variable.question_text + ""};
		
		for(var i in variableList)
			arr_var_updated[variableList[i].uuid] = {"var_name":((variableList[i].label+'').trim() != "") ? variableList[i].label+''  : variableList[i].name+'', "var_value": variableList[i].value + ""};
		
		for(var uuid in arr_var_current) {
			
			if(!(uuid in arr_var_updated) || (uuid in arr_var_updated &amp;&amp; (arr_var_current[uuid].var_name + "" != arr_var_updated[uuid].var_name + ""))) {
				
				this._invalidateCatalogItem(cat_sysID);
				
				var fieldGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
				if (fieldGR.get(arr_var_current[uuid].variable + ""))
				{	
				fieldGR.cat_item = "";
				fieldGR.update();
				}
				var grCatVarDel = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
				grCatVarDel.addQuery('catalog_item', cat_sysID + "");
				grCatVarDel.addQuery('uuid', uuid + "");
				grCatVarDel.query();
				while(grCatVarDel.next())
					grCatVarDel.deleteRecord();
			}
		}
		
	},

	processCatalogVariables: function(current){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables.processCatalogVariables");
			this.logger.info("Catalog Variable creation started.");
			var cat_sysID = current.parameter+'';

			var profileGR = new GlideRecord(this.appUtil.configuration.table.catalogProfileRelation+'');
			profileGR.addQuery('catalog_item', cat_sysID);
			profileGR.query();
			while(profileGR.next()){
				this.profileUUIDSysIDRel[profileGR.application_profile.uuid+''] = profileGR.application_profile+'';
			}

			this.logger.debug("Mapping for profile uuid and sys_id created. Relation:- "+JSON.stringify(this.profileUUIDSysIDRel));

			var parsed = JSON.parse(current.payload+'');
			this._createDefaultVariables(cat_sysID);

			this.logger.debug("Created default project, appName and profile variables on catalog item.");

			var filterJSON = this._filterJSONDatatoService(parsed);
			this.logger.debug("FilteredJson received for parsing:- "+JSON.stringify(filterJSON));

			
// 			var createSrvcVarScpt = new Nutanix_CreateServiceVariables();
// 			createSrvcVarScpt.createServiceVariables(filterJSON, cat_sysID);

			
			this._createContainerStartandEnd('Service Configuration', cat_sysID, 100, 50000, 'normal');

			this.logger.debug("Created Service Configuration Container.");

			this.start = 110;
			this.end = 500;
			this.order = this.start+1;
			this.subContainerEnd = 160;

			//var projectDetail = parsed.project_list;
			
			for(var i in filterJSON){

				var service = filterJSON[i];
				var serviceSysId = this._createContainerStartandEnd(service.name, cat_sysID, this.start, this.end, 'normal');

				this.logger.debug("Created Container for "+service.name);

				this.start = this.end+10;
				this.end = this.end+500;

				var service_name = service.name.toLowerCase().replace(/ /g, '_'	);

				this._parseSubstrate(service.substrate, cat_sysID, service_name, serviceSysId);
				this._parseProfile(service.profile, cat_sysID, service_name, serviceSysId);
				if(parsed.service_definition_list[0].uuid+"" != "singleVm-default-service-uuid")
					this._parseVariables(service['service'], (service.profile)?Object.keys(service.profile):Object.keys(service.substrate), cat_sysID, service_name, serviceSysId);

				this.order = this.start+1;
				this.subContainerEnd = this.order+50;
			}

			this.logger.info("Variables creatios completed.");
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables.processCatalogVariables :- Exception caught during processing catalog variables. Error :- "+e);
			this.logger.error("Exception caught during processing catalog variables. Error :- "+e);
		}
	},

	_parseSubstrate: function(substrateList, cat_sysID, service_name, serviceSysId){

		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._parseSubstrate. Parsing substrate fields.");
			
// 			var tmpOrder = this.order;
			
			for(var k in substrateList){

				var substrate = substrateList[k];

// 				this.order = tmpOrder;
				
				this._createSubstrateFieldCreateSpec(substrate.create_spec, cat_sysID, k, service_name, serviceSysId, substrate.editables.create_spec);

				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.block_device_map){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.block_device_map)?substrate.editables.create_spec.resources.block_device_map:'';

					this._createSubstrateFieldStorage(substrate.create_spec.resources.block_device_map, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.disks){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.disks)?substrate.editables.create_spec.resources.disks:{};

					this._createSubstrateFieldDisks(substrate.create_spec.resources.disks, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.blankDisks){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.blankDisks)?substrate.editables.create_spec.resources.blankDisks:{};

					this._createSubstrateFieldBlankDisks(substrate.create_spec.resources.blankDisks, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.networkInterfaces){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.networkInterfaces)?substrate.editables.create_spec.resources.networkInterfaces:{};

					this._createSubstrateFieldNetworkInterfaces(substrate.create_spec.resources.networkInterfaces, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.disk_list){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.disk_list)?substrate.editables.create_spec.resources.disk_list:{};

					this._createSubstrateFieldDiskList(substrate.create_spec.resources.disk_list, cat_sysID, k, service_name, serviceSysId, edit);
					
					
					if(substrate.create_spec.resources.disk_list[0] &amp;&amp; Object.keys(substrate.create_spec.resources.disk_list[0]).toString().includes('data_source_reference')){
						var bootIndex = (substrate.create_spec.resources.boot_config &amp;&amp; substrate.create_spec.resources.boot_config.boot_device &amp;&amp; substrate.create_spec.resources.boot_config.boot_device.disk_address &amp;&amp; substrate.create_spec.resources.boot_config.boot_device.disk_address.device_index+'') ? substrate.create_spec.resources.boot_config.boot_device.disk_address.device_index : -1;

						this._createSubstrateCreateImage(substrate.create_spec.resources.disk_list, cat_sysID, k, service_name, serviceSysId, edit, bootIndex);	
					}
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.nic_list){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.nic_list)?substrate.editables.create_spec.resources.nic_list:{};

					this._createSubstrateFieldNicList(substrate.create_spec.resources.nic_list, cat_sysID, k, service_name, serviceSysId, edit );
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.nw_profile){
					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.nw_profile)?substrate.editables.create_spec.resources.nw_profile:{};

					this._createSubstrateFieldNwProfile(substrate.create_spec.resources.nw_profile, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.categories){

				//	var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.categories)?substrate.editables.create_spec.categories:{};
					
				//	this._createSubstrateFieldCategories(substrate.create_spec.categories, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; (substrate.create_spec.resources.guest_customization || substrate.create_spec.resources.guest_customization+''=='null')){

					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.guest_customization)?substrate.editables.create_spec.resources.guest_customization:{};
					
					this._createSubstrateFieldGuestCustomization(substrate.create_spec.resources.guest_customization, cat_sysID, k, service_name, serviceSysId, edit, substrate.create_spec.type+'');
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.guestCustomization){

					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.guestCustomization)?substrate.editables.create_spec.resources.guestCustomization:{};
					
					this._createSubstrateFieldGuestCustomizationGCP(substrate.create_spec.resources.guestCustomization, cat_sysID, k, service_name, serviceSysId, edit, substrate.create_spec.type+'', substrate.create_spec.resources.tags);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.os_profile){

					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.os_profile)?substrate.editables.create_spec.resources.os_profile:{};
					
					this._createSubstrateFieldOsProfile(substrate.create_spec.resources.os_profile, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.storage_profile){

					var edit = (substrate.editables &amp;&amp; substrate.editables.create_spec &amp;&amp; substrate.editables.create_spec.resources &amp;&amp; substrate.editables.create_spec.resources.storage_profile)?substrate.editables.create_spec.resources.storage_profile:{};
					
					this._createSubstrateFieldStorageProfile(substrate.create_spec.resources.storage_profile, cat_sysID, k, service_name, serviceSysId, edit);
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.sshKeys){	
					
					this.order = this.subContainerEnd+2;
					this.subContainerEnd = this.subContainerEnd + 2 + 5;
					var categorySysId = this._createContainerStartandEnd('SSH Keys', cat_sysID, this.order, this.subContainerEnd, 'normal', service_name);
					this.order = this.order+1;
					
					var metaData = substrate.create_spec.resources.metadata.items;
					var blockValue = false;
					
					
					for(var data in metaData)
						if(metaData[data].key+'' == 'block-project-ssh-keys')
							blockValue = metaData[data].value+'';
					
					this._createField('block_project_wide_ssh_key', blockValue, cat_sysID, this.order, service_name, k, serviceSysId, categorySysId, true);		
					
					
					this.order = this.order+1;
					
					var editable = substrate.editables.create_spec;
					
					var sshKeys = substrate.create_spec.resources.sshKeys;
					
					for(var key in sshKeys)
						this._createField('key_'+key, sshKeys[key], cat_sysID, this.order, service_name, k, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources &amp;&amp; editable.resources.sshKeys)?editable.resources.sshKeys[key]:'');		
				
				}
				
				if(substrate.create_spec &amp;&amp; substrate.create_spec.resources &amp;&amp; substrate.create_spec.resources.serviceAccounts &amp;&amp; substrate.create_spec.resources.serviceAccounts[0]){	

					this.order = this.subContainerEnd+2;
					this.subContainerEnd = this.subContainerEnd + 2 + 5;
					var categorySysId = this._createContainerStartandEnd('API ACCESS', cat_sysID, this.order, this.subContainerEnd, 'normal', service_name);
					this.order = this.order+1;

					var editable = (substrate.editables &amp;&amp; substrate.editables.create_spec)?substrate.editables.create_spec.resources:'';

					this._createField('service_account', substrate.create_spec.resources.serviceAccounts[0].email, cat_sysID, this.order, service_name, k, serviceSysId, categorySysId, (editable &amp;&amp; editable.serviceAccounts &amp;&amp; editable.serviceAccounts[0])?editable.serviceAccounts[0].email:'');
					
					this._createField('scopes', (substrate.create_spec.resources.serviceAccounts[0].scopes.length==10)?'Full Access':'Default Access', cat_sysID, this.order, service_name, k, serviceSysId, categorySysId, '');
				}
	
				
				this._createSubstrateFieldReadinessProbe(substrate.readiness_probe, cat_sysID, k, service_name, serviceSysId, substrate.editables.readiness_probe);
			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._parseSubstrate :- Exception caught during parsing substrate. Error :- "+e);
			this.logger.error("Exception caught during parsing substrate. Error :- "+e);
		}
	},

	_createSubstrateCreateImage: function(diskList, cat_sysID, profileUUID, serviceName, serviceSysId, editables, bootIndex){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateCreateImage. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Images', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			var i = 0 ;
			
			for(var k in diskList){
				
				if(diskList[k].data_source_reference){
					
					this.order = this.order+3;

					this._createContainerStartandEnd('Image Device '+i, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

					this._createOnlyField('image', diskList[k].data_source_reference.name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('device_type', diskList[k].device_properties.device_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('device_bus', diskList[k].device_properties.disk_address.adapter_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('bootable', (diskList[k].device_properties.disk_address.device_index+''==bootIndex+'')+'', cat_sysID, this.order+1, serviceName+'_'+k, 7);

					diskList[k].runtime = (editables[k])?editables[k]:{};	
					diskList[k].disabled = (editables[k])?editables[k]:{};	
					diskList[k].bootable = (diskList[k].device_properties.disk_address.device_index+''==bootIndex+'')+'';

				}
				
				i++;
			}
			
			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(diskList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateCreateImage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Image. Error :- "+e);
		}

	},
	
	_createSubstrateFieldDiskList: function(diskList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldDiskList. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('VDisks', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var k in diskList){
				this.order = this.order+3;

				this._createContainerStartandEnd('vdisk', cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);
				
				if(diskList[k].adapter_type){

					this._createOnlyField('adapter_type', diskList[k].adapter_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('device_type', diskList[k].disk_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('size', diskList[k].disk_size_mb, cat_sysID, this.order+1, serviceName+'_'+k, 6);	
					
				}else if(diskList[k] &amp;&amp; diskList[k].data_source_reference &amp;&amp; diskList[k].data_source_reference.kind=='image'){
					
					continue;
					
				}else{		
					
					this._createOnlyField('device_type', diskList[k].device_properties.device_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('device_bus', diskList[k].device_properties.disk_address.adapter_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('size', diskList[k].disk_size_mib, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				}

				if(!diskList[k])
					diskList[k] = {};
				
				diskList[k].runtime = (editables[k])?editables[k]:{};	
				diskList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(diskList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldDiskList :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldStorageProfile: function(storageProfileList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldStorageProfile. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Storage Profile', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			
			this._createField('use_custom_image', (storageProfileList.image_details.use_custom_image+''=='true')?'true':'false', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editables.image_details)?editables.image_details.use_custom_image:'');
			
			this._createContainerStartandEnd('VM Image Details', cat_sysID, this.order+1, this.order+3, 'normal', serviceName+'_'+k);

			this._createField('publisher', storageProfileList.image_details.publisher, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.image_details)?editables.image_details.publisher:'');
			this._createField('offer', storageProfileList.image_details.offer, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.image_details)?editables.image_details.offer:'');
			this._createField('sku', storageProfileList.image_details.sku, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.image_details)?editables.image_details.sku:'');
			this._createField('version', storageProfileList.image_details.version, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.image_details)?editables.image_details.version:'');
			
			
			
			this._createField('use_managed_disks', storageProfileList.is_managed, cat_sysID, this.order+4, serviceName, profileUUID, serviceSysId, categorySysId, (editables.is_managed)?editables.is_managed:'');
			
			this._createContainerStartandEnd('OS Disk Details', cat_sysID, this.order+5, this.order+7, 'normal', serviceName+'_'+k);

			this._createField('disk_name', storageProfileList.os_disk_details.name, cat_sysID, this.order+6, serviceName, profileUUID, serviceSysId, categorySysId, (editables.os_disk_details)?editables.os_disk_details.name:'');
			this._createField('storage_type', storageProfileList.os_disk_details.storage_type, cat_sysID, this.order+6, serviceName, profileUUID, serviceSysId, categorySysId, (editables.os_disk_details)?editables.os_disk_details.storage_type:'');
			this._createField('disk_caching_type', storageProfileList.os_disk_details.caching_type, cat_sysID, this.order+6, serviceName, profileUUID, serviceSysId, categorySysId, (editables.os_disk_details)?editables.os_disk_details.caching_type:'');
			this._createField('disk_create_options', storageProfileList.os_disk_details.create_option, cat_sysID, this.order+6, serviceName, profileUUID, serviceSysId, categorySysId, (editables.os_disk_details)?editables.os_disk_details.create_option:'');
			
			
			var categorySysId = this._createContainerStartandEnd('Storage Profile Data Disks', cat_sysID, this.order+8, this.order+50, 'normal', serviceName+'');
			
			this.order = this.order+9;
			
			var dataList = storageProfileList.data_disk_list;
			
			for(var k in dataList){
				this.order = this.order+3;
				
				this._createContainerStartandEnd('disk_config_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('disk_name', dataList[k].name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('storage_type', dataList[k].storage_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('disk_caching_type', dataList[k].caching_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('size_gb', dataList[k].size_in_gb, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('disk_lun', dataList[k].lun, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				
				dataList[k].runtime = (editables.data_disk_list)?editables.data_disk_list[k]:{};
				dataList[k].disabled = (editables.data_disk_list)?editables.data_disk_list[k]:{};
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(dataList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);
						
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldStorageProfile :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate _createSubstrateFieldStorageProfile. Error :- "+e);
		}
	},
	
	_createSubstrateFieldOsProfile: function(osProfileList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldOsProfile. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			
			if(osProfileList.linux_config){
				var categorySysId = this._createContainerStartandEnd('OS Profile Script', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
				this.order = this.order+1;	
				
				this._createField('cloud_init_script', (osProfileList.linux_config.custom_data)?osProfileList.linux_config.custom_data+'':'', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, true);
			
			
			
			
			
			}else if(osProfileList.windows_config){
				
				
				var categorySysId = this._createContainerStartandEnd('OS Profiles', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
				this.order = this.order+1;	
				
				this._createField('provision_windows_guest_agent', osProfileList.windows_config.provision_vm_agent, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_config)?editables.windows_config.provision_vm_agent:'');
				this._createField('automatic_os_upgrade', osProfileList.windows_config.auto_updates, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_config)?editables.windows_config.auto_updates:'');
				
				this._createField('setting_name', (osProfileList.windows_config.additional_unattend_content &amp;&amp; osProfileList.windows_config.additional_unattend_content[0] &amp;&amp; osProfileList.windows_config.additional_unattend_content[0].setting_name)?osProfileList.windows_config.additional_unattend_content[0].setting_name:'', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_config &amp;&amp; editables.windows_config.additional_unattend_content &amp;&amp; editables.windows_config.additional_unattend_content[0] &amp;&amp; editables.windows_config.additional_unattend_content[0].setting_name)?editables.windows_config.additional_unattend_content[0].setting_name:'');
				
				this._createField('xml_content', (osProfileList.windows_config.additional_unattend_content &amp;&amp; osProfileList.windows_config.additional_unattend_content[0] &amp;&amp; osProfileList.windows_config.additional_unattend_content[0].xml_content)?osProfileList.windows_config.additional_unattend_content[0].xml_content:'', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_config &amp;&amp; editables.windows_config.additional_unattend_content &amp;&amp; editables.windows_config.additional_unattend_content[0] &amp;&amp; editables.windows_config.additional_unattend_content[0].xml_content)?editables.windows_config.additional_unattend_content[0].xml_content:'');
				
				var windList = (osProfileList.windows_config.winrm_listeners &amp;&amp; osProfileList.windows_config.winrm_listeners[0])?osProfileList.windows_config.winrm_listeners[0].protocol:'';
				
				for(var win=1; win&lt; osProfileList.windows_config.winrm_listeners.length; win++)
					windList = "," + osProfileList.windows_config.winrm_listeners[win].protocol;
				
				this._createField('protocol', windList, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, '');
				
			}			
			
			
			
			
			
			
			
			var categorySysId = this._createContainerStartandEnd('OS Profile', cat_sysID, this.order+1, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+2;

			osProfileList = osProfileList.secrets;
			
			for(var k in osProfileList){
				this.order = this.order+4;

				this._createContainerStartandEnd('secrets_'+k, cat_sysID, this.order, this.order+3, 'normal', serviceName+'_'+k);

				this._createOnlyField('valut_id', (osProfileList[k])?osProfileList[k].source_vault_id:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				
				if(osProfileList[k] &amp;&amp; osProfileList[k].vault_certificates){
					for(var w in osProfileList[k].vault_certificates){

						this._createOnlyField('certificate_config_url_'+w, osProfileList[k].vault_certificates[w].certificate_url, cat_sysID, this.order+2, serviceName+'_'+k, 6);
					}	
					
					if(!osProfileList[k])
						osProfileList[k] = {};

					osProfileList[k].runtime = (editables[k])?editables[k]:{};
					osProfileList[k].disabled = (editables[k])?editables[k]:{};
					
				}	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(osProfileList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldOsProfile :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate _createSubstrateFieldOsProfile. Error :- "+e);
		}
	},

	_createSubstrateFieldGuestCustomization: function(guestCustomization, cat_sysID, profileUUID, serviceName, serviceSysId, editables, providerType){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldGuestCustomization. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;

			if((providerType+'').includes('vmware') || (providerType+'').includes('VMWARE') ){//} guestCustomization.linux_data){
				
				var categorySysId = this._createContainerStartandEnd('Guest Customization', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
				this.order = this.order+1;

				this.order = this.order+3;
				
				if(guestCustomization.linux_data){
					
					this._createField('hostname', guestCustomization.linux_data.hostname, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.hostname:'');
					this._createField('domain', guestCustomization.linux_data.domain, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.domain:'');
					this._createField('timezone', guestCustomization.linux_data.timezone, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.timezone:'');
					this._createField('hardware_clock_utc', guestCustomization.linux_data.hw_utc_clock, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.hw_utc_clock:'');


					this._createField('dns_primary', guestCustomization.linux_data.dns_primary, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.dns_primary:'');
					this._createField('dns_secondary', guestCustomization.linux_data.dns_secondary, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.dns_secondary:'');
					this._createField('dns_tertiary', guestCustomization.linux_data.dns_tertiary, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data)?editables.linux_data.dns_tertiary:'');
					this._createField('dns_search_path', guestCustomization.linux_data.dns_search_path[0], cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, (editables.linux_data &amp;&amp; editables.linux_data.dns_search_path)?editables.linux_data.dns_search_path[0]:'');


					this.order = this.subContainerEnd+2;
					this.subContainerEnd = this.subContainerEnd + 2 + 50;
					var categorySysId = this._createContainerStartandEnd('Guest Customization DHCP', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
					this.order = this.order+1;

					for(var k in guestCustomization.linux_data.network_settings){

						this._createOnlyField('use_dhcp', guestCustomization.linux_data.network_settings[k].is_dhcp, cat_sysID, this.order+1, serviceName+'_'+k, 6);

						guestCustomization.linux_data.network_settings[k].runtime = (editables.linux_data &amp;&amp; editables.linux_data.network_settings &amp;&amp; editables.linux_data.network_settings[k])?editables.linux_data.network_settings[k]:{};
						guestCustomization.linux_data.network_settings[k].disabled = (editables.linux_data &amp;&amp; editables.linux_data.network_settings &amp;&amp; editables.linux_data.network_settings[k])?editables.linux_data.network_settings[k]:{};

					}

					this._insertCatalogVariableProperties(profileUUID, JSON.stringify(guestCustomization.linux_data.network_settings), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);
				
				}else if(guestCustomization.windows_data){
					
					
					this._createField('predefined_guest_customization', '', cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, '');
					this._createField('computer_name', guestCustomization.windows_data.computer_name, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.computer_name:'');
					this._createField('full_name', guestCustomization.windows_data.full_name, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.full_name:'');
					this._createField('organization_name', guestCustomization.windows_data.organization_name, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.organization_name:'');
					this._createField('product_id', guestCustomization.windows_data.product_id, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.product_id:'');
					this._createField('timezone', guestCustomization.windows_data.timezone, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.timezone:'');
					this._createField('admin_password', guestCustomization.windows_data.domain_password, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.domain_password:'');
					this._createField('automatically_logon_as_admin', guestCustomization.windows_data.auto_logon, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.auto_logon:'');
					this._createField('num_of_times_to_logon_automatically', guestCustomization.windows_data.login_count, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.login_count:'');
					this._createField('command_list', guestCustomization.windows_data.command_list[0], cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data &amp;&amp; editables.windows_data.command_list)?editables.windows_data.command_list[0]:'');
					this._createField('join_a_domain', guestCustomization.windows_data.is_domain, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.is_domain:'');
					this._createField('workgroup', guestCustomization.windows_data.workgroup, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.windows_data)?editables.windows_data.workgroup:'');
					

					this.order = this.subContainerEnd+2;
					this.subContainerEnd = this.subContainerEnd + 2 + 50;
					var categorySysId = this._createContainerStartandEnd('Guest Customization DHCP', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
					this.order = this.order+1;

					for(var k in guestCustomization.windows_data.network_settings){

						this._createOnlyField('use_dhcp', guestCustomization.windows_data.network_settings[k].is_dhcp, cat_sysID, this.order+1, serviceName+'_'+k, 6);

						guestCustomization.windows_data.network_settings[k].runtime = (editables.windows_data &amp;&amp; editables.windows_data.network_settings &amp;&amp; editables.windows_data.network_settings[k])?editables.windows_data.network_settings[k]:{};
						guestCustomization.windows_data.network_settings[k].disabled = (editables.windows_data &amp;&amp; editables.windows_data.network_settings &amp;&amp; editables.windows_data.network_settings[k])?editables.windows_data.network_settings[k]:{};

					}

					this._insertCatalogVariableProperties(profileUUID, JSON.stringify(guestCustomization.windows_data.network_settings), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);
				}else{
					
					var guestType = (guestCustomization.cloud_init)?'Cloud-init':'Custom Spec';

					this._createField('type', guestType, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, 'false');

					if(guestType == 'Cloud-init'){

						this._createField('predefined_guest_customization', guestCustomization.customization_name, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, editables.customization_name);								
						if( !guestCustomization.customization_name)
							this._createField('script', guestCustomization.cloud_init, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, editables.cloud_init);							
						
					}
					
				}
				
				

			}else{
				
				var categorySysId = this._createContainerStartandEnd('Guest Customization', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
				this.order = this.order+1;

				this.order = this.order+3;

				if(guestCustomization){
					var guestType = (guestCustomization.sysprep)?'Sysprep':'Cloud-init';

					this._createField('type', guestType, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, 'false');

					if(guestType == 'Sysprep'){

						this._createField('install_type', guestCustomization.sysprep.install_type, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, 'false');		
						this._createField('script', guestCustomization.sysprep.unattend_xml, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables)?editables:'');		

					}else{

						this._createField('script', guestCustomization.cloud_init.user_data, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables)?editables:'');		
						
					}	
				}else{
					
					this._createField('type', '', cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, 'false');
					this._createField('install_type', '', cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, 'false');		
					this._createField('script', '', cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables)?editables:'');		
				}
				
				
			}
			
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldGuestCustomization :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},

	_createSubstrateFieldGuestCustomizationGCP: function(guestCustomization, cat_sysID, profileUUID, serviceName, serviceSysId, editables, providerType, tags){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldGuestCustomizationGCP. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;

			var categorySysId = this._createContainerStartandEnd('Management Optional', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			this.order = this.order+3;

			this._createField('startup_script', guestCustomization.startupScript, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editables.startupScript)?editables.startupScript:'');

			var groups = (tags.items &amp;&amp; tags.items[0])?tags.items[0]:'';

			if(tags.items)
				for(var i=1; i&lt;tags.items.length; i++)
					groups = groups + ',' + tags.items[i];


			this._createField('network_tags', groups, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, true);
				
			
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldGuestCustomizationGCP :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldCategories: function(categories, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldCategories. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Categories', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var k in categories){

				this._createField((k+'').toLowerCase(), categories[k], cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, editables);	
				
			//	this._createOnlyField((k+'').toLowerCase(), categories[k], cat_sysID, this.order+1, serviceName+'_'+k, 6);
			}

			//this._insertCatalogVariableProperties(profileUUID, JSON.stringify(categories), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldCategories :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldDisks: function(diskList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldDisks. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Disks', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var k in diskList){
				this.order = this.order+3;

				this._createContainerStartandEnd('disks_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('use_existing', (diskList[k].source)?true:false, cat_sysID, this.order+1, serviceName+'_'+k, 7);
				this._createOnlyField('storage_type', diskList[k].initializeParams.diskType, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('source_image', diskList[k].initializeParams.sourceImage, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('size_in_gb', diskList[k].initializeParams.diskSizeGb, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('delete_when_instance_is_deleted', diskList[k].autoDelete, cat_sysID, this.order+1, serviceName+'_'+k, 7);
				this._createOnlyField('disk', diskList[k].source, cat_sysID, this.order+1, serviceName+'_'+k, 6);

				if(!diskList[k])
					diskList[k] = {};
				
				diskList[k].runtime = (editables[k])?editables[k]:{};	
				diskList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(diskList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldDisks :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldBlankDisks: function(diskList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldBlankDisks. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Blank Disks', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var k in diskList){
				this.order = this.order+3;

				this._createContainerStartandEnd('blank_disks_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('disk_type', diskList[k].disk_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('disk_name', diskList[k].name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('size_in_gb', diskList[k].sizeGb, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('delete_when_instance_is_deleted', diskList[k].autoDelete, cat_sysID, this.order+1, serviceName+'_'+k, 7);

				if(!diskList[k])
					diskList[k] = {};
				
				diskList[k].runtime = (editables[k])?editables[k]:{};	
				diskList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(diskList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldBlankDisks :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldNetworkInterfaces: function(nicList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldNetworkInterfaces.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Networking', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var k in nicList){
				this.order = this.order+3;

				this._createContainerStartandEnd('network_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('associate_public_ip_address', nicList[k].associatePublicIP, cat_sysID, this.order+1, serviceName+'_'+k, 7);
				this._createOnlyField('network', nicList[k].network, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('subnetwork', nicList[k].subnetwork, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('access_configuration_name', (nicList[k].accessConfigs &amp;&amp; nicList[k].accessConfigs[0])?nicList[k].accessConfigs[0].name:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('access_configuration_type', (nicList[k].accessConfigs &amp;&amp; nicList[k].accessConfigs[0])?nicList[k].accessConfigs[0].config_type:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);

				if(!nicList[k])
					nicList[k] = {};
				
				nicList[k].runtime = (editables[k])?editables[k]:{};	
				nicList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(nicList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldNetworkInterfaces. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldNicList: function(nicList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldNicList.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Network Adapters', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;
			var clusterPosition = '';
			var clusterName ='';
			var grSubnet;
			for(var k in nicList){
				this.order = this.order+3;

				if(nicList[k].net_name){
					
					this._createContainerStartandEnd('network_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);
					
					this._createOnlyField('adapter_type', nicList[k].nic_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
					this._createOnlyField('network_type', nicList[k].net_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				}else{
					
					if(k==0){
						clusterPosition = this.order+1;
						this.order += 1; 
					}
					if(nicList[k].subnet_reference.uuid){
						grSubnet = new GlideRecord(this.appUtil.configuration.table.subnet+'');
						grSubnet.addQuery('uuid',nicList[k].subnet_reference.uuid);
						grSubnet.query();
						if(grSubnet.next())
							clusterName = grSubnet.cluster_name ; //
						
					}
					var subnetRegex = '@@{.*}@@';
					var reg = new RegExp(subnetRegex);
					var nicVal = (!reg.test(nicList[k].subnet_reference.uuid+'')) ?  nicList[k].subnet_reference.uuid : "";
					this._createOnlyField('nic_'+(parseInt(k)+1), nicVal , cat_sysID, this.order+1, serviceName+'_'+k, 18 );
					if(k == nicList.length-1){
						this._createOnlyField('cluster_name' ,  clusterName , cat_sysID,clusterPosition, serviceName+'', 6);
						
					}
						
				}
					
				
				if(!nicList[k])
					nicList[k] = {};
				
				nicList[k].runtime = (editables[k])?editables[k]:{};	
				nicList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(nicList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldNicList. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_createSubstrateFieldNwProfile: function(nicList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldNwProfile.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Network Profiles', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			nicList = nicList.nic_list;
			
			for(var k in nicList){
				this.order = this.order+3;

				this._createContainerStartandEnd('nic_'+k, cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('nic_name', nicList[k].nic_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('security_group', nicList[k].nsg_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('virtual_network', nicList[k].vnet_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('subnet', nicList[k].subnet_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('public_ip_config_name', (nicList[k] &amp;&amp; nicList[k].public_ip_info)?nicList[k].public_ip_info.ip_name:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('public_ip_config_adapter_method', (nicList[k] &amp;&amp; nicList[k].public_ip_info)?nicList[k].public_ip_info.ip_allocation_method:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('public_ip_config_dns_label', (nicList[k] &amp;&amp; nicList[k].public_ip_info)?nicList[k].public_ip_info.dns_label:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('private_ip_config_allocation_method', (nicList[k] &amp;&amp; nicList[k].public_ip_info)?nicList[k].private_ip_info.ip_allocation_method:'', cat_sysID, this.order+1, serviceName+'_'+k, 6);
				
				if(!nicList[k])
					nicList[k] = {};
				
				nicList[k].runtime = (editables[k])?editables[k]:{};	
				nicList[k].disabled = (editables[k])?editables[k]:{};	
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(nicList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldNwProfile. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},
	
	_parseProfile: function(profileList, cat_sysID, service_name, serviceSysId){

		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._parseProfile. Parsing profile/deployment varaibles.");
			for(var k in profileList){
				var prof = profileList[k];

				this._createProfileField(prof, cat_sysID, k, service_name, serviceSysId, prof.editables);
			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._parseProfile :- Exception caught during parsing profile. Error :- "+e);
			this.logger.error("Exception caught during parsing profiles. Error :- "+e);
		}
	},

	_parseVariables: function(serviceVar, profilesUUIDArray, cat_sysID, service_name, serviceSysId){

		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._parseVariables");
			for(var k in profilesUUIDArray){
				this._createServiceFieldVariableList(serviceVar.variable_list, cat_sysID, profilesUUIDArray[k], service_name, serviceSysId);
				//this._createServiceFieldPortList(serviceVar.port_list, cat_sysID, profilesUUIDArray[k], service_name, serviceSysId);
			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._parseVariables :- Exception caught during parsing variables. Error :- "+e);
			this.logger.error("Exception caught during parsing variables. Error :- "+e);
		}
	},

	_createSubstrateFieldCreateSpec: function(specs, cat_sysID, profileUUID, serviceName, serviceSysId, editable){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldCreateSpec. Parsing and creating substrate field variables.");
			var categorySysId = this._createContainerStartandEnd('VM Configuration', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			if(specs){
				
				if(specs.name || (specs.resources &amp;&amp; specs.resources.name) || (specs.resources &amp;&amp; specs.resources.vm_name) ){
					
					var edit = '';
					
					if(editable){
						if(editable.name)
							edit = editable.name;
						else if(editable.resources)
							edit = (editable.resources.name)?editable.resources.name:editable.resources.vm_name;
					}
					
					this._createField('name', (specs.name)?specs.name:(specs.resources.name)?specs.resources.name:specs.resources.vm_name, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, edit);
				}
					
				if(specs.host)
					this._createField('host', specs.host, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.host)?editable.host:'');

				if(specs.template)
					this._createField('template', specs.template, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.template)?editable.template:'');

				if(specs.datastore)
					this._createField('datastore', specs.datastore, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.datastore)?editable.datastore:'');
				
				if(specs.storage_pod)
					this._createField('storage_pod', specs.storage_pod, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.storage_pod)?editable.storage_pod:'');
				
				if(specs.cluster)
					this._createField('cluster', specs.cluster, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.cluster)?editable.cluster:'');

				if(specs.address)
					this._createField('ip_address', specs.address, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.address)?editable.address:'');
				


				
				
// 				if(specs.drs_mode)
// 					this._createField('drs_mode', specs.drs_mode, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.drs_mode)?editable.drs_mode:'');
				
// 				if(/* (specs.drs_mode &amp;&amp; specs.drs_mode+''=='true') || */specs.cluster || specs.storage_pod)
// 					this._createField('drs_mode', true, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.datastore)?editable.datastore:'');
// 				else if(/* (specs.drs_mode &amp;&amp; specs.drs_mode+''=='false') ||*/ specs.datastore || specs.host)
// 					this._createField('drs_mode', false, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.datastore)?editable.datastore:'');
				

				
				if(specs.cluster || specs.storage_pod || specs.datastore || specs.host || specs.template){
					
					var drsVal = (specs.cluster || specs.storage_pod)?true:false;
					
					this._createField('drs_mode', drsVal, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.drs_mode)?editable.drs_mode:'');
// 					this._createField('host', specs.host, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.host)?editable.host:'');
// 					this._createField('template', specs.template, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.template)?editable.template:'');
// 					this._createField('datastore', specs.datastore, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.datastore)?editable.datastore:'');
// 					this._createField('cluster', specs.cluster, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.cluster)?editable.cluster:'');
// 					this._createField('storage_pod', specs.storage_pod, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.storage_pod)?editable.storage_pod:'');
				}
					
				
				
				
				
				
				

				this.order++;

				var resource = specs.resources;

				for(var i in resource){

					if( i == 'security_group_list'){
						var secStr = (resource[i][0])?resource[i][0].security_group_id+'':'';

						for(var k=1; k&lt;resource[i].length; k++)
							secStr = secStr + ',' + resource[i][k].security_group_id+'';

						this._createField(i, secStr, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources)?editable.resources[i]:'');
					}else if( i == 'block_device_map' || i == 'guest_customization' || i == 'guestCustomization'){
						continue;
					}else if( i == 'tag_list'){
						
						continue;
						
// 						for(var k in resource[i]){
// 							this._createField(resource[i][k].key+'', resource[i][k].value+'', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources &amp;&amp; editable.resources[i] &amp;&amp; editable.resources[i])?editable.resources[i]:'');
// 						}

					}

					else if(i == 'hw_profile'){

						this._createField('hardware_profile', resource[i].vm_size, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources &amp;&amp; editable.resources[i])?editable.resources[i].vm_size:'');

					}

					else if (resource[i] &amp;&amp; (resource[i].constructor === Object || resource[i].constructor === Array)){

						continue;

					}else if(i == 'zone'){
						
						this._createField(i, resource[i], cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources)?editable.resources[i]:'');
					}else if(this.exclusionList.includes(i) || i=='vm_name'){
						continue;
						
					}else{
						this._createField(i, resource[i], cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.resources)?editable.resources[i]:'');
					}

				}
			}
			
			
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldCreateSpec :- Exception caught during creation of Substrate Field Specs. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Specs. Error :- "+e);
		}

	},

	_createSubstrateFieldStorage: function(diskList, cat_sysID, profileUUID, serviceName, serviceSysId, editables){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldStorage. Parsing Substrate Field Disk/Storage Data.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Storage', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			diskList.root_disk.runtime = (editables &amp;&amp; editables.root_disk &amp;&amp; editables.root_disk.size_gb)?editables.root_disk.size_gb+'':'false';
			diskList.root_disk.disabled = (editables &amp;&amp; editables.root_disk &amp;&amp; editables.root_disk.size_gb)?editables.root_disk.size_gb+'':'false';
			
			this._createContainerStartandEnd('Root Disk', cat_sysID, this.order, this.order+2, 'normal', serviceName);

			this._createOnlyField('device_name', diskList.root_disk.device_name, cat_sysID, this.order+1, serviceName, 6);
			this._createOnlyField('size_gb', diskList.root_disk.size_gb, cat_sysID, this.order+1, serviceName, 6);
			this._createOnlyField('volume_type', diskList.root_disk.volume_type, cat_sysID, this.order+1, serviceName, 6);
			this._createOnlyField('delete_on_termination', diskList.root_disk.delete_on_termination, cat_sysID, this.order+1, serviceName, 7);

			var dataDiskList = diskList.data_disk_list;

			for(var k in dataDiskList){
				this.order = this.order+3;

				this._createContainerStartandEnd('ebs', cat_sysID, this.order, this.order+2, 'normal', serviceName+'_'+k);

				this._createOnlyField('device_name', dataDiskList[k].device_name, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('size_gb', dataDiskList[k].size_gb, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('volume_type', dataDiskList[k].volume_type, cat_sysID, this.order+1, serviceName+'_'+k, 6);
				this._createOnlyField('delete_on_termination', dataDiskList[k].delete_on_termination, cat_sysID, this.order+1, serviceName+'_'+k, 7);

				if(!dataDiskList[k])
					dataDiskList[k] = {};
				
				dataDiskList[k].runtime = (editables &amp;&amp; editables.data_disk_list &amp;&amp; editables.data_disk_list[k] &amp;&amp; editables.data_disk_list[k].size_gb)?editables.data_disk_list[k].size_gb+'':'false';
				dataDiskList[k].disabled = (editables &amp;&amp; editables.data_disk_list &amp;&amp; editables.data_disk_list[k] &amp;&amp; editables.data_disk_list[k].size_gb)?editables.data_disk_list[k].size_gb+'':'false';
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(diskList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldStorage :- Exception caught during creation of Substrate Field Storage. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Storage. Error :- "+e);
		}

	},

	_createSubstrateFieldReadinessProbe: function(connectionList, cat_sysID, profileUUID, serviceName, serviceSysId, editable){
		try{

			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createSubstrateFieldReadinessProbe. Parsing Connection Probe variables.");
			this.order = this.subContainerEnd + 2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Connection', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			for(var i in connectionList){

				var connection = connectionList[i];

				if( i == 'login_credential_local_reference'){

					this._createField('credential', connection.name+'', cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, (editable &amp;&amp; editable.login_credential_local_reference)?editable.login_credential_local_reference.name:'');

				}else{
					
					if(i == 'disable_readiness_probe'){
						
						this._createField(i, (connection+''=='true')?false:true, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editable)?editable[i]:'');
					}else{
						
						this._createField(i, connection+'', cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, (editable)?editable[i]:'');	
					}
					
				}

			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createSubstrateFieldReadinessProbe :- Exception caught during creation of Substrate Field Readiness Probe. Error :- "+e);
			this.logger.error("Exception caught during creation of Substrate Field Readiness Probe. Error :- "+e);
		}
	},

	_createProfileField: function(profile, cat_sysID, profileUUID, serviceName, serviceSysId, editable){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createProfileField. Parsing profile deployment vairables.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Deployment Config', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;

			this._createField('min_number_of_replicas', profile.min_replicas, cat_sysID, this.order+1, serviceName, profileUUID, serviceSysId, categorySysId, editable.min_replicas);
			this._createField('max_number_of_replicas', profile.max_replicas, cat_sysID, this.order+2, serviceName, profileUUID, serviceSysId, categorySysId, editable.max_replicas);
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createProfileField :- Exception caught during creation of profile field. Error :- "+e);
			this.logger.error("Exception caught during creation of profile field. Error :- "+e);
		}
	},

	_createServiceFieldPortList: function(portList, cat_sysID, profileUUID, serviceName, serviceSysId){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createServiceFieldPortList. Parsing Service Field Configuration variables.");

			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;
			var categorySysId = this._createContainerStartandEnd('Port List', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);

			for(var i in portList){
				this.order = this.order+1;
				this._createOnlyField('protocol', portList[i].protocol, cat_sysID, this.order+1, serviceName+'_'+i, 6);
				this._createOnlyField('target_port', portList[i].target_port, cat_sysID, this.order+1, serviceName+'_'+i, 6);
				this._createOnlyField('endpoint_name', portList[i].endpoint_name, cat_sysID, this.order+1, serviceName+'_'+i, 6);
			}

			this._insertCatalogVariableProperties(profileUUID, JSON.stringify(portList), 'false', categorySysId, cat_sysID, serviceSysId, categorySysId);

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createServiceFieldPortList :- Exception caught during creation of service field port list. Error :- "+e);
			this.logger.error("Exception caught during creation of service field port list. Error :- "+e);
		}
	},

	_createOnlyField: function( name, value, catSysID, order, serviceName, type){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createOnlyField");
			var variable = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variable.addEncodedQuery('cat_item='+catSysID+'^name='+serviceName+'_'+name+'');
			variable.query();

			if(variable.next()){
				variable.variable_width = 50;
				
				variable.type = type;
				
				variable.default_value = (value)?value:'';
				
				if(type+''==18){
					
					variable.lookup_table = 'x_nuta2_nutanix_ca_subnet';
					variable.lookup_value = 'uuid';
					variable.lookup_label = 'name,cluster_name';
					variable.include_none = true;

				}
				variable.question_text = (this.fieldLabels[name] &amp;&amp; this.fieldLabels[name].label)?this.fieldLabels[name].label+'':this._toTitleCase(name.replace(/_/g, ' '));//'profile_configuration';
				
				variable.update();

			}else{
				variable.initialize();
				variable.type = type;
				
				if(type+''==18){
					
					variable.lookup_table = 'x_nuta2_nutanix_ca_subnet';
					variable.lookup_value = 'uuid';
					variable.lookup_label = 'name,cluster_name';
					variable.include_none = true;
					
				}
				
				variable.cat_item = catSysID;
				variable.active = true;
				variable.question_text = (this.fieldLabels[name] &amp;&amp; this.fieldLabels[name].label)?this.fieldLabels[name].label+'':this._toTitleCase(name.replace(/_/g, ' '));//'profile_configuration';
				variable.name = serviceName+'_'+name+'';
				variable.default_value = (value)?value:'';
				variable.order = order;
				variable.variable_width = 50;
				var fieldSysd = variable.insert();
				
				this.logger.debug("Created a new field "+ name +" on Catalog Item "+variable.cat_item.name);
				
			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createOnlyField :- Exception caught while adding field in item_option_new table. Error :- "+e);
			this.logger.error("Exception caught wjile adding field in variables table. Error :- "+e);
		}
	},

	_createServiceFieldVariableList: function(variableList, cat_sysID, profileUUID, serviceName, serviceSysId, editable){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createServiceFieldVariableList. Parsing Service variable list.");
			this.order = this.subContainerEnd+2;
			this.subContainerEnd = this.subContainerEnd + 2 + 50;

			if(variableList.length==0){
				this.order = this.order+1;
				return;
			}

			var categorySysId = this._createContainerStartandEnd('Variables', cat_sysID, this.order, this.subContainerEnd, 'normal', serviceName);
			this.order = this.order+1;
			
			this._checkServiceVarSync(cat_sysID, variableList, serviceName, profileUUID, serviceSysId);
			
			for(var index = 0; index &lt; variableList.length; index++){
				
				var edit = (variableList[index].editables &amp;&amp; variableList[index].editables.value == true &amp;&amp; variableList[index].is_hidden == false) ? true : false;
				this._createField(variableList[index].name, variableList[index].value, cat_sysID, this.order, serviceName, profileUUID, serviceSysId, categorySysId, edit , 'serviceVariables',true,variableList[index]);
				this.order = this.order+1;
			}
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createServiceFieldVariableList :- Exception caught during creation of service field variables. Error :- "+e);
			this.logger.error("Exception caught during creation of service field variables. Error :- "+e);
		}

	},

	_createField: function( name, value, catSysID, order, serviceName, profileUUID, serviceSysId, categorySysId, editable, isServiceVariable, serviceVar, field){
		try{
			
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createField");
			var variable = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variable.addEncodedQuery('cat_item='+catSysID+'^name='+serviceName+'_'+name+'');
			variable.query();
			
			var fieldSysd = '';
			var varType = (serviceVar) ? this.diffVar._returnVarType(field) : '';

			if(variable.next()){
				
				variable.variable_width = 50;
				
				if(this.boolValidation.includes(','+name+','))
					variable.type = 7;
				
				if(name === 'drs_mode' &amp;&amp; variable.question_text != 'DRS mode')
					variable.question_text = 'DRS mode';
				
				if(serviceVar){
					
					variable.question_text = (serviceVar &amp;&amp; (field.label+'').trim() != "") ? field.label+''  : field.name+'';
					
					variable.show_help = true;
					variable.type = varType.type+'';
					variable.tooltip = field.description+'';
					variable.help_text = (field.description+'') ? field.description+'' : '';
					variable.mandatory = (field.is_mandatory+'') ? field.is_mandatory : '';
					if(varType.type == 21){
						variable.list_table = this.appUtil.configuration.table.dropDownTable+'';
						variable.attributes = "glide_list";
					}
				}
				
				
				fieldSysd = variable.update();

				if(serviceVar &amp;&amp; (varType.type+'' == '5' || varType.type+'' == '21')){
					this.diffVar._updateOtions(fieldSysd ,varType.opt ,varType.type );
				}
				
			}else {
				
				variable.initialize();
				variable.type = (serviceVar) ? varType.type+'' : this.boolValidation.includes(','+name+',') ? 7 :  ((name=='user_data' || name=='script' || name=='startup_script' || name=='cloud_init_script' || name=='command_list' || name=='xml_content')?2:6); //
				variable.cat_item = catSysID+'';
				variable.active = true;
				variable.question_text = (serviceVar &amp;&amp; (field.label+'').trim() != "") ? field.label+''  : (this.fieldLabels[name] &amp;&amp; this.fieldLabels[name].label)?this.fieldLabels[name].label+'':this._toTitleCase(name.replace(/_/g, ' '));//'profile_configuration';
				variable.name = serviceName+'_'+name+'';
				variable.default_value = (value)?value+'':'';
				variable.variable_width = 50;
				variable.tooltip = (serviceVar) ?  field.description+'' : '';
				variable.order = order;
				
				if(this.boolValidation.includes(','+name+','))
					variable.type = 7;
				
				if(name === 'drs_mode' &amp;&amp; variable.question_text != 'DRS mode')
					variable.question_text = 'DRS mode';
				
				if(serviceVar){
					
					variable.question_text = (serviceVar &amp;&amp; (field.label+'').trim() != "") ? field.label+''  : field.name+'';
					
					variable.show_help = true;
					variable.type = varType.type+'';
					variable.tooltip = field.description+'';
					variable.help_text = (field.description+'') ? field.description+'' : '';
					variable.mandatory = (field.is_mandatory+'') ? field.is_mandatory : '';
					if(varType.type == 21){
						variable.list_table = this.appUtil.configuration.table.dropDownTable+'';
						variable.attributes = "glide_list";
					}
				}
				//field.uuid;
				
				
				fieldSysd = variable.insert();
				
				if(serviceVar &amp;&amp; (varType.type+'' == '5' || varType.type+'' == '21')){
					this.diffVar._updateOtions(fieldSysd ,varType.opt ,varType.type );
				}
				
				this.logger.debug("Created a new field "+ name +" on Catalog Item "+variable.cat_item.name);
			}

			this._insertCatalogVariableProperties(profileUUID, value, editable, fieldSysd, catSysID, serviceSysId, categorySysId, isServiceVariable, name, field);
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createField :- Exception caught wjile adding field in item_option_new table. Error :- "+e);
			this.logger.error("Exception caught wjile adding field in variables table. Error :- "+e);
		}
	},

	_insertCatalogVariableProperties: function(profileUUID, default_value, runtime_config, fieldSysd, catalogSysId, serviceSysId, categorySysId, isServiceVariable, fieldName, field){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._insertCatalogVariableProperties");
			var gr = new GlideRecord(this.appUtil.configuration.table.variablesProperties+'');
			gr.addQuery('application_profile', this.profileUUIDSysIDRel[profileUUID]+'');
			gr.addQuery('catalog_item', catalogSysId+'');
			gr.addQuery('variable', fieldSysd+'');
			gr.query();

			if(gr.next()){
				
				var notSupported = (default_value+''=='Cloud-init' || default_value+''=='Sysprep' || (fieldName+'').startsWith('key_') || (this.disabledFields.includes(","+fieldName+",") &amp;&amp; fieldName+''!='name')) ? false : true;
				
				if(isServiceVariable == "serviceVariables" &amp;&amp; field.is_hidden &amp;&amp; (field.is_hidden+'' != gr.is_hidden + "")) {
					this._invalidateCatalogItem(catalogSysId);
					this.logger.info("Deactivated catalog due to private variable change!");
				}
				
				if(isServiceVariable == "serviceVariables" &amp;&amp; gr.runtime_config + "" != runtime_config + "") {
					this._invalidateCatalogItem(catalogSysId);
					this.logger.info("Deactivated catalog due to private variable change!");
				}
				
				if(isServiceVariable == "serviceVariables" &amp;&amp; field.val_type+"" != gr.value_type + "") {
					this._invalidateCatalogItem(catalogSysId);
					this.logger.info("Deactivated catalog due to private variable change!");
				}

				gr.application_profile = this.profileUUIDSysIDRel[profileUUID]+'';
				gr.catalog_item = catalogSysId+'';
				gr.default_value = (field &amp;&amp; (field.val_type+'' == 'DATE'|| field.val_type+'' == 'DATE_TIME')) ? this.diffVar._formttedDateTime(field.value+'', field.val_type+'') : (default_value)?default_value+'':'';//(this.disabledFields.includes(","+fieldName+","))?'Use Calm to set/edit this field':(default_value)?default_value+'':'';
				gr.runtime_config = ((default_value+'').indexOf('@@') != -1 || notSupported+''=='false') ? false : runtime_config+'';
				gr.variable = fieldSysd+'';
				gr.isprofilevariable = false;
				
				gr.isservicevariable = (isServiceVariable == "serviceVariables") ? true : false;
				
				gr.type = (isServiceVariable == "serviceVariables") ? "Service" : "";
				gr.service_name = serviceSysId+'';
				gr.category_name = categorySysId+'';
				
				gr.isdisabled = ( (default_value+'').indexOf('@@') != -1 || notSupported+''=='false') ? true : (runtime_config+'' == 'true') ? false : true;//(runtime_config+'' == 'true') ? false : true;
				
				gr.issupported = notSupported;
				
				/**advanced var**/
				
				gr.value_type = (field) ? field.val_type+'' : this.integerValidation.includes(','+fieldName+',') ? 'INT': "";
				gr.data_type = (field) ? (field.type+'' == "LOCAL" &amp;&amp; field.options &amp;&amp; field.options.type+'' == "PREDEFINED" &amp;&amp; field.options.choices &amp;&amp; (field.options.choices).length &gt; 0) ? "PREDEFINED" : field.type+'' : '' ;
				
				/*regex validation*/
				
				var validation = (field) ? ((field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this.diffVar._fieldRegex(field) ) :  this.integerValidation.includes(','+fieldName+',') ? '^[\\d]*$' : "";
				if(field &amp;&amp; gr.data_type+'' == "LOCAL" &amp;&amp; (field.val_type+'' == "DATE" || field.val_type+'' == "DATE_TIME") )
					validation = this.diffVar._fieldRegex(field);
				gr.field_regex = validation;
				
				/* End regex Validation */
				
				
				//gr.field_regex = (field) ? ((field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this.diffVar._fieldRegex(field) ) :  this.integerValidation.includes(','+fieldName+',') ? '^[\\d]*$' : "";
				gr.uuid = (field) ? field.uuid+'' : '' ;
				gr.is_hidden = ((field) &amp;&amp; field.is_hidden+'' == 'true') ? true : false;
				/**advanced var**/
				
				gr.update();

				this.logger.debug("Updated the entry of variable "+gr.variable.name+" with default value and runtime in "+gr.catalog_item.name);
				
			}else{
				
				var notSupported = (default_value+''=='Cloud-init' || default_value+''=='Sysprep' || (fieldName+'').startsWith('key_') || (this.disabledFields.includes(","+fieldName+",") &amp;&amp; fieldName+''!='name')) ? false : true;
				
				gr.initialize();
				gr.application_profile = this.profileUUIDSysIDRel[profileUUID]+'';
				gr.catalog_item = catalogSysId+'';
				gr.default_value =  (field &amp;&amp; (field.val_type+'' == 'DATE'|| field.val_type+'' == 'DATE_TIME')) ? this.diffVar._formttedDateTime(field.value+'', field.val_type+'') : (default_value)?default_value+'':'';//(this.disabledFields.includes(","+fieldName+","))?'Use Calm to set/edit this field':(default_value)?default_value+'':'';
				gr.runtime_config = ((default_value+'').indexOf('@@') != -1 || notSupported+''=='false') ? false : runtime_config+'';
				gr.variable = fieldSysd+'';
				gr.isprofilevariable = false;
				
				gr.isservicevariable = (isServiceVariable == "serviceVariables") ? true : false;
				gr.type = (isServiceVariable == "serviceVariables") ? "Service" : "";
				gr.service_name = serviceSysId+'';
				gr.category_name = categorySysId+'';
				gr.isdisabled = ( (default_value+'').indexOf('@@') != -1 || notSupported+''=='false') ? true : (runtime_config+'' == 'true') ? false : true;//(runtime_config+'' == 'true') ? false : true;
				
				gr.issupported = notSupported;
				
				/**advanced var**/
				
				gr.value_type = (field) ? field.val_type+'' : this.integerValidation.includes(','+fieldName+',') ? 'INT': "" ;
				gr.data_type = (field) ? (field.type+'' == "LOCAL" &amp;&amp; field.options &amp;&amp; field.options.type+'' == "PREDEFINED" &amp;&amp; field.options.choices &amp;&amp; (field.options.choices).length &gt; 0) ? "PREDEFINED" : field.type+'' : '' ;
				
				/*regex validation*/
				
				var validation = (field) ? ((field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this.diffVar._fieldRegex(field) ) :  this.integerValidation.includes(','+fieldName+',') ? '^[\\d]*$' : "";
				if(field &amp;&amp; gr.data_type+'' == "LOCAL" &amp;&amp; (field.val_type+'' == "DATE" || field.val_type+'' == "DATE_TIME") )
					validation = this.diffVar._fieldRegex(field);
				gr.field_regex = validation;
				
				/* End regex Validation */
				
				//gr.field_regex = (field) ? ((field.regex &amp;&amp; field.regex.should_validate) ? field.regex.value+'' : this.diffVar._fieldRegex(field) ) : this.integerValidation.includes(','+fieldName+',') ? '^[\\d]*$' : "" ;
				gr.uuid =  (field) ?  field.uuid+'' : '';
				gr.is_hidden = ((field) &amp;&amp; field.is_hidden+'' == 'true') ? true : false;
				/**advanced var**/
				
				gr.insert();

				this.logger.debug("Created a entry of variable "+gr.variable.name+" with default value and runtime in "+gr.catalog_item.name);
			}

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._insertCatalogVariableProperties :- Exception caught while adding field in catalog variables properties table. Error :- "+e);
			this.logger.error("Exception caught while adding field in catalog variables properties table. Error :- "+e);
		}

	},

	_createContainerStartandEnd: function( name, catSysID, start, end, type, serviceName ){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._createContainerStartandEnd");
			serviceName = (serviceName)?serviceName+'_':'';

			var startSysId = '';

			var variable = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variable.addQuery('name', (serviceName+name).toLowerCase().replace(/ /g, '_'	));
			variable.addQuery('cat_item', catSysID+'');
			//variable.addQuery('order', start);
			variable.query();

			if(variable.next()){
				startSysId = variable.sys_id+'';
			}else{
				variable.initialize();
				variable.type = '19';
				variable.display_title = 'true';
				variable.cat_item = catSysID;
				variable.active = 'true';
				variable.order = start;
				variable.question_text = name;
				variable.name = (serviceName+name).toLowerCase().replace(/ /g, '_'	); //(name+((serviceName)?serviceName:'')).toLowerCase().replace(/ /g, '_'	);//'profile_configuration';
				variable.layout = (type)?type:'2across';
				startSysId = variable.insert();

				variable.initialize();
				variable.type = '20';
				variable.cat_item = catSysID;
				variable.active = 'true';
				variable.order = end;
				variable.insert();
			}

			return startSysId;

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createContainerStartandEnd :- Exception caught while creating start and end containers. Error :- "+e);
			this.logger.error("Exception caught while creating start and end containers. Error :- "+e);
		}
	},

	_filterJSONDatatoService: function(parsed){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._filterJSONDatatoService");
			var sub_deploy_rel = {};
			var deploy_pack_rel = {};
			var app_profile_list = parsed.app_profile_list;

			for(var i=0; i&lt;app_profile_list.length; i++){
				var appProfile = app_profile_list[i];
				var deployment_create_list = appProfile.deployment_create_list;

				for(var j=0; j&lt;deployment_create_list.length; j++ ){

					var deployemnt = deployment_create_list[j];
					sub_deploy_rel[deployemnt.substrate_local_reference.uuid] = {
						"name": deployemnt.substrate_local_reference.name,
						"deployemnt_uuid": deployemnt.uuid,
						"deployemnt_name": deployemnt.name,
						"profile_uuid": appProfile.uuid
					};

					var package_local_reference_list = deployemnt.package_local_reference_list;
					for(k=0; k&lt;package_local_reference_list.length; k++){
						var pack = package_local_reference_list[k];
						if(!deploy_pack_rel[deployemnt.uuid])
							deploy_pack_rel[deployemnt.uuid] = [];

						deploy_pack_rel[deployemnt.uuid].push({
							"name": deployemnt.name,
							"package_uuid": pack.uuid,
							"package_name": pack.name
						});
					}
				}
			}

			this.logger.debug("Substrate and Deployment mapping created:- "+JSON.stringify(sub_deploy_rel));
			this.logger.debug("Deployment and Package mapping created:- "+JSON.stringify(deploy_pack_rel));

			var packageList = parsed.package_definition_list;
			var pack_serv_rel = {};
			for(var i=0; i&lt;packageList.length; i++){

				var pack = packageList[i];
				var uuid = pack.uuid;
				var serviceList = pack.service_local_reference_list;

				for(var j=0; j&lt;serviceList.length; j++){
					var service = serviceList[j];
					if(!pack_serv_rel[uuid])
						pack_serv_rel[uuid]=[];

					pack_serv_rel[uuid].push({
						"name": pack.name,
						"serv_name": service.name,
						"serv_uuid": service.uuid
					});
				}
			}

			this.logger.debug("Package and Service mapping created:- "+JSON.stringify(pack_serv_rel));

			var variablesJson = {};

			var serviceList = parsed.service_definition_list;
			for(var i=0; i&lt;serviceList.length; i++){

				var service = serviceList[i];

				variablesJson[service.uuid] = {};
				variablesJson[service.uuid].service = {};

				variablesJson[service.uuid].service.port_list = service.port_list;
				variablesJson[service.uuid].service.editables = service.editables;
				variablesJson[service.uuid].service.variable_list = service.variable_list;
				variablesJson[service.uuid].name = service.name;
			}

			var profileList = parsed.app_profile_list;
			for(var i=0; i&lt;profileList.length; i++){
				var profile = profileList[i];
				var deploymentList = profile.deployment_create_list;

				for(var j=0; j&lt;deployment_create_list.length; j++ ){

					var deployment = deploymentList[j];
					var servUUID = "";
					if(parsed.service_definition_list[0].uuid == "singleVm-default-service-uuid"){
						servUUID = "singleVm-default-service-uuid";
					}else{
						var packUUID = deploy_pack_rel[deployment.uuid][0].package_uuid;
						servUUID = pack_serv_rel[packUUID][0].serv_uuid;
					}

					if(!variablesJson[servUUID].profile)
						variablesJson[servUUID].profile = {};

					if(!variablesJson[servUUID].profile[profile.uuid])
						variablesJson[servUUID].profile[profile.uuid]={};


					variablesJson[servUUID].profile[profile.uuid].min_replicas = deployment.min_replicas;
					variablesJson[servUUID].profile[profile.uuid].max_replicas = deployment.max_replicas;
					variablesJson[servUUID].profile[profile.uuid].editables = deployment.editables;
					variablesJson[servUUID].profile[profile.uuid].variable_list = deployment.variable_list;
					variablesJson[servUUID].profile[profile.uuid].uuid = profile.uuid;
					variablesJson[servUUID].profile[profile.uuid].name = profile.name;
				}
			}

			var substrateList = parsed.substrate_definition_list;
			for(var i=0; i&lt;substrateList.length; i++){

				var substrate = substrateList[i];

				var deployUUID = sub_deploy_rel[substrate.uuid].deployemnt_uuid;
				
				var servUUID = "";

				if(parsed.service_definition_list[0].uuid == "singleVm-default-service-uuid"){
					
					servUUID = "singleVm-default-service-uuid";
				}else{
					
					var packUUID = deploy_pack_rel[deployUUID][0].package_uuid;
					servUUID = pack_serv_rel[packUUID][0].serv_uuid;
				}

				if(!variablesJson[servUUID].substrate)
					variablesJson[servUUID].substrate = {};

				if(!variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid])
					variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid]={};

				variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid].readiness_probe = substrate.readiness_probe;
				variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid].editables = substrate.editables;
				variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid].create_spec = substrate.create_spec;
				variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid].variable_list = substrate.variable_list;
				variablesJson[servUUID].substrate[sub_deploy_rel[substrate.uuid].profile_uuid].name = substrate.name;

			}

			return variablesJson;
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._filterJSONDatatoService :- Exception caught while filtering JSON data for variables creation. Error :- "+e);
			this.logger.error("Exception caught while filtering JSON data for variables creation. Error :- "+e);
		}
	},

	_createDefaultVariables: function(cat_sysID){
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables.proc_createDefaultVariablesessCatalogVariables");
			var variableGR = new GlideRecord(this.appUtil.configuration.table.varaiblesTable+'');
			variableGR.addEncodedQuery('cat_item=' + cat_sysID + '^nameINdefault_project,default_app_name,default_profile');
			variableGR.query();

			if(!variableGR.hasNext()){
				
				variableGR.initialize();
				variableGR.type = 15;
				variableGR.cat_item = cat_sysID + '';
				variableGR.active = true;
				variableGR.question_text = 'Providers';
				variableGR.name = 'provider_icons';
				variableGR.ui_page = gs.getProperty('x_nuta2_nutanix_ca.variableGR.ui_page')+'';
				variableGR.order = 0;
				variableGR.insert();

				variableGR.initialize();
				variableGR.type = 5;
				variableGR.cat_item = cat_sysID+'';
				variableGR.active = true;
				variableGR.question_text = 'Project';
				variableGR.name = 'default_project';
				variableGR.order = 1;
				variableGR.insert();

				variableGR.initialize();
				variableGR.type = 6;
				variableGR.cat_item = cat_sysID+'';
				variableGR.active = true;
				variableGR.question_text = 'Name of the Application';
				variableGR.name = 'default_app_name';
				variableGR.mandatory = 'true';
				variableGR.order = 2;
				variableGR.insert();

				variableGR.initialize();
				variableGR.type = 5;
				variableGR.cat_item = cat_sysID+'';
				variableGR.active = true;
				variableGR.question_text = 'Profile';
				variableGR.name = 'default_profile';
				variableGR.order = 3;
				variableGR.insert();

			}

		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._createDefaultVariables :- Exception caught while creating default variables of blueprint. Error :- "+e);
			this.logger.error("Exception caught while creating default variables of blueprint. Error :- "+e);
		}
	},

	_toTitleCase: function (str) {
		try{
			this.logger.debug("Inside Nutanix_CreateCatalogVariables._toTitleCase");
			str = str.toLowerCase().split(' ');
			for (var i = 0; i &lt; str.length; i++) {
				str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1);
			}
			return str.join(' ');
			return str;
		}catch(e){
			this.logger.debug("Nutanix_CreateCatalogVariables._toTitleCase :- Exception caught while changing case of string to title case. Error :- "+e);
			this.logger.error("Exception caught while changing case of string to title case. Error :- "+e);
		}
	},
	type: 'Nutanix_CreateCatalogVariables'
};
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-17 22:31:26&lt;/sys_created_on&gt;&lt;sys_id&gt;2f2b341e37f52300fdfc097973990e10&lt;/sys_id&gt;&lt;sys_mod_count&gt;395&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_CreateCatalogVariables&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_2f2b341e37f52300fdfc097973990e10&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 12:49:52&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>249537967</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f224eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217b8560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_CreateCatalogVariables</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>2114c3c2be58141051d05d9668a09af8</update_guid>
<update_guid_history>2114c3c2be58141051d05d9668a09af8:249537967,b1654e0f191f80100e1388cfd2c1c3d5:1860593000,9c2ffd07501f8010d527f37344f91190:-55650950,2f9efd07c81f801075faf09f9fb7aa8a:-1167299967,2d5b710f0bdb8010c8ecb2ad188afb78:-248646205,fa88b187fadb80105018f7eff326dd53:1247398386,96a67547a2db80102b40d78aa522b98e:1360944827,c843398fa09b8010acb68e180a7b6d86:-2055529982,85e27da3a60b0810871c1e7eb1afcf50:1485319167,02303da3960b0810280af53e9fa34b6c:-1354628397,62f6e9a7aac70810d961de0adb313de6:109744573,088565a755c70810e7436e6626b5ac20:124184791,284a3c63c7070810566e0216e64f1d6d:-808262693,49d17463c0c30810fd7130abd53313ce:1266360391,1f0d28a7118308102735a63c64056edc:-1976361752,e2cb2ce716830810b41883c0185f8a24:-1556237187,09c8886b978fc4107205e525315ddfdb:1388761890,5ae6c867cc8fc4104b1f8548b339c0fb:1727062746,bbe58c2b1d8fc41024c26a9ff0ede6dd:-935194465,13b3c0a7488fc41018e9d335ed9de27d:-1570088606,39d28ce3d88fc41028e96fa33aedaa08:-880228356,f2d0c863a08fc410a42a86b1c9abd9ea:203092107,74aff7dbea4fc4107c57d93d6300b2c3:1883816050,37ce7b1ffc4fc410f6bae46f974caeb6:1033952913,6e7c3717d94fc410b45a6dcf489688a2:2044067657,d45b33d3d44fc4109e72d3ddfbb5e391:-1117331717,ecb9b353ea4fc410924a40431e37b701:1593036483,14e6f3dfae0fc41063316c2d4ae2c360:-1508145389,c4f4bf5fc70fc4108d46a4b31bf55793:-426317592,eef2f75b660fc410a62d986c6de424da:-2040145992,02e2bb1b920fc4103a730952b7668540:1002871698,2da13f1ba20fc4101440872969696fb0:-1093912136,49da2f539f0fc41049ab7f10ab20e99a:212694224,db936f57a5cbc4102ae788f67c31a6a9:-1317475934,6ea0a353eacbc410039ce80661ae3c54:1839979819,69f1652ea447441065ee403b3f0d7adf:593775857,d441adaaa0474410d90158bfdc779744:-1274928192,b7702d2672474410288a9a87b30e6910:-2090422090,671f912a4c47441065a9394c41fc164e:1237171595,6f9d9d26764744107d7d13d0f29c0b30:1294412829,3989d12aa407441035a045ea7c8156c1:-507840334,0358d1629347441026776e8c4b7783df:80345685,050bb86e3a83441067d5ade8bb91a3b2:-1748406936,bdb6770a7e470410e0d36806863ddae3:1213799268,a8a2b30ae34704100789669b2f59df92:-1493163526,dae1fb4e16070410d8225ac70bac7bb5:1244932399,3180b782a44704105607432d44aa8558:-1979239442,ac9ea7822f4704107bd5dac3c3ec1c83:418039507,ce24a3cae90704104f935e1f8789a097:325416816,08a2eb0a9e070410a22a27bad9d5bb31:-1059702461,d13d07c6bdc304108cccaee81097f649:699437883,90cb07ce3e830410183f9bc1311f9368:935290312,140837b817cf001012917351e7fa68df:940552476,3e13db70668f0010e0e3947c51198e7c:-1316725787,8fe80b38c04f00104a0342199cce321e:1914071995,043990135dfe4850d6c1a0506691dcf7:-369022853,1874d4ca12b68450bab3d23ac78376a6:-2066996611,cde020b20f1180104f942f62c94e8def:674672493,363b5fba25410410d33ac99ba8481044:-2032387635,d32e04f2fc33f300ff8fc685704277dd:-1644686549,ded8ff8a8bf7730067f4cd6774b275d7:-15774702,c0cc57ca66777300d69b3c60de656f44:-1578549838,bbcb570e0a777300ca52d4818452e6db:-1497867136,7ede7886e1bf3300f9bca113259193ef:-46600300,52afbed9d23733007c7fb13204f33882:-1448961741,9f9a0c9d8d3b3300968529403c2712cf:-1067278893,da5ec64046337300fd807010a51c0d87:1497686986,5b30f2004fff730073806f98d4c5d50b:-647715151,b8bdeac856bf7300fc77f95d3194d475:-1001859175,e30894fbf06f3300e694061d7e52e0ca:624332517,23125c737d6f33004c2009f919e3e46f:-921817607,052766c2a223f300070c58e4c6058cef:-1756341959,6a4d8935cfe3b300e0d3d0ed4c36bf0c:2034910071,6d8b09e11fab7300b1d906a6f33f6a9d:-659092863,ed06d3cd2d2373008cdd01e4a1f9ae13:-28674904,9ce5170d30237300fffda04a46379d9f:-595332612,59b2f58d57eb33007f79de712ef3073a:1310690930,510fe5c1a6eb330011d42ab8e8c60706:-451322510,844dad0d29ab33000113fbea43e93376:-2019305767,748ba50db5ab3300604f79afdb040891:-211786583,e75ab167dd9f33006ebf16b189bf5d67:-1126371746,738726aaf813330002b02da73f17cc70:1272246158,59ae7764ef537300aa33ac6c4b471c9a:-718917716,5f6ffe60051373000a06ee2fb37d12ee:-1800549916,7e5e32a08f137300016c3be9aa102198:-638627137,257cb2a03713730049376be0378eb36b:-1061016966,7f32aeb776477700901df62dcd387100:-478945160,027e06b7b00777008a60493be778f7f3:923603928,bbbc9adf078ff30039dccbb7d1012918:1177106262,132612175e8ff3000650bc62cb255f28:-248146828,802bd30791c7f300ce7c90c2ade3ff48:800291110,5399db839487f3003cc28188d91080f1:32423580,08217ac76b83f300534c5eda61942171:1634133382,6e9dea039d43f30086594137cc4df904:1588255286,6dd726c78303f30051c9f8b9138e9611:-51971455,a48c92cb728fb3008c72cc7aec4570a2:-1610204381,0caab54fcd0fb300f183a729e694bd0a:1443684141,968f49cf124bb30012fe3160922bc828:1325782911,b9ed0183988bb300f312572de7679494:-753487674,43a29af6f283b30032c67145f9bc3ff4:-685547464,414ecaf63d83b3003e740edf63afbcf5:-2004027367,d398c9f6d9cf7300fc077a7f3bd644ac:1826992435,a8e345b22dcf73008d011a682f9f8d7d:1827732143,f9a2c5b21acf7300474f95899d86f4f6:-1144303559,edf32cfa5a4f73003030e1acc9608848:1092351172,ec981f1212cf33005c7f26492e2254a3:-1474359090,d2189f12b3cf3300caff3fcdb9cf9794:-1890638253,d7c9d6c5538f3300d9ced15530f02431:1947959447,294cce782007330097d6d0378f859bfb:583327819,db5b112824873300f7a78c6c59a9edde:1654997300,def591e4ea4733009f94e5fff14a9289:-1838532822,1405916442473300edfb93fd6252a3e5:649427590,f0b45ce4014333002a94758e240f4717:-792922562,73b26b84f78333007d6593cb9e052fec:-511507830,64569f8433433300b39202a544cfc064:-783101979,5886db36567e7300485a598b41f9d071:248968354,7c90cbf290fa73003561df6aa7795559:759515182,e2ce7e36a5fa7300c79375e665fbc729:1094158057,8589faf2f8fa730020f003336f3a5c69:1915723317,d495f63223fa7300955bcd71ecf32406:-968511430,8654727255fa73005376038926256b1a:297574901,4c4332feb8ba730042081802571afb84:-1654952302,d6b08e4c8df23700d62f1f1661116b4b:1464584101,1f5d490cec7237004fbd4efcb4fcee44:1554921448,af1f594b69aa73004ba20b97cbc64ad1:-818725870,07fed903ceea7300045c1c2fe56219b2:2027168081,7c7c6212afa233002b68742609874926:1250510481,f599e29ab8623300b9b7c5fcd279a914:-318469664,5549e2da0b623300e6498995259d506c:-1013072295,26972a9aff6233008acf12d92b003610:-1432248807,12fc4656e02233009efd1287bead6049:-1740063368,eb412a8a27227300905ca2c27a646327:82485929,0a006606d52273005cdb7631d17ad1bc:-565109757,752b82b23c123300d1341dd23097d6e8:-1017446154,511abe35341a3300fbcef412f67cfe33:-526220996,e9d9f2f1b41a3300a3aaf9ad3941ab80:2143219659,9e7532b17d1a33004c9e11e82e7dc322:1628879179,0ff3f27d87d63300d7f8478735a09f0b:95839231,723fa6b565d63300947c0c58abe44cd1:-995715943,36e009034ac23300c7074e7b15278922:694784765,e764fe99ae82b300d64e75ec5f63eb0f:81300591,6a6fa2198982b300a1375feb5ea90605:-1902648625,262f0181624233008cb190a2540bc8d3:-2022745629,4d7fe9fa92b1330005bbbb5b4bf6a406:1064574211,ee54e9fa423133004b1567d356291fb7:682222495,cb6185ba8931330007c736626c8ccbdb:1573300148,86fee2aae9d7b3002aadad6f3081ac1d:-183109857,11bc7770fc1f330078758dcecb9052b3:480412876,35abe9594f697300152a8ebdbbb2e67c:1864499135,b25be51d5669730005352b860e602e18:446087309,dfc6e959c9697300576f782e6dcf30a6:-297147040,ed16ed19f4697300d45a81333556c23d:792894267,04062159c96973004571d9a7bcf5be0a:1489629144,849cea08b925730091b3e24744f88dc8:1672129779,9069f9c4c6a17300cc6d21e9ac67db63:1799896047,1b12744001ed33004bfa1d4ff1620c17:-1382347329,8a8920c475ad33009d64ebe732a7e183:1385076243,dcbf3b9323d573006d0615e02609d92e:1558341906,da7c3fd74f957300a8dcb5900b9f8e10:1796721394,6f893bd74a957300ee2065a0dc41585c:461203270,6411ff9355557300aedb41f681876a8c:-362641508,b6a22f575ad173000b2f9332625fecc6:1317756272,7dd6571f9611730019f2ab7b012474a6:316703778,35697c881f1d3300df99c02aa80ec955:-1174557968,ebe8f488db1d3300f9cf54eb3c81aeb4:70124202,a848b884581d33000b93f3fdfd84f1b1:-1403747481,efd5f884501d3300d74f66a6f9b6cb36:-1879378283,f9737c4ca7d93300bf4813d365abfe4d:-1216986235,ca5227bb19c53300a9c7780f2651f7ea:1585583877,78bf9ff7efc53300411a764ea1102034:-750712504,bf5fd3f735c53300896a2b68a9334e22:-1308217063,b31f17b7dac533008d2b1c782eef1d47:906693158,22ee93772fc533002a100fd9c5247f13:154585901,5e7a13ffdd85330078dc1f2a4e5f7e23:1502757199,f9641b3b4485330085688b94ca3b6a01:-1383371483,035c03ff9a45330047d3757b4661a4e1:599780029,9db0a9efd0053300cfc9a53f7f55f399:606905571,7781647a4bc533006712350adca04612:-1909784081,025bd07a70c53300a39d4b94ea34b9d9:847672115,26833ee1a9c57300caf9f827cec48f3a:1651808006,9d533aa188c57300b998cf2d39eea90e:-127881047,cfcdaa6171857300058286d3506cdd59:1651808006,69adeaedef45730025ca10b8309a09fe:-1133813385,8e8b26e96b457300e1d862c16aa5c7b0:-714227305,b05ab5ed1f817300c8e986f029546cda:62887065,1725e9ad7341730081b3bf39da9ddcef:190375097,969461a9d94173008c072beb4d4d9bba:1826801305,33ea9d65ed4173000455bc1e1aa88923:801149037,0da2cd9512853300dcbc55a13ea456f2:1359836781,73a1cc191dc133002fba7ca8d63e662d:1457211342,920503d34eb0730086a44ddb35028bc8:1300973562,65ecae1bf5307300f1a5625a77170f32:1853418951,57aad6535e3073000fb61022f33a8092:-1018612615,9efe551f117c330023f616849b9f8420:423423026,f6dd159b357c33007fc7a39a070ec5b4:-1038215413,b8b9b64fd6f43300f472852c87f2876e:646474162,3f95350307743300a4873be91637c9fb:1365821127,0e72698b8ff0330000e0c929161f8437:-1277351851,75322d8b74f0330071ebdd4a6642d684:-191464227,c81c510703f0330005bca05e338b93c3:-1864320739,ffe851c3d5f03300d421fa19279c2a41:475898245,470ac1c7b1b0330053549cbdd83468fb:1980234984,31bd8043b5303300d07fd7a35c25e20e:1668930170,016e79f636b833008a150dce168fbef7:-916227237,718b31bad1783300b069e467e9d70296:1733731160,1466b17a867833006a404c0f3e7b7135:75792814,ecb5757afe783300bc864a7ee385ea84:-1709040123,1235793a937833007b59f2771dc6113c:-327716744,37b4fd3adf7833007c0fe2543df487c4:1593078290,1f747d3ab97833006fec64210b4e5e6d:1473845200,1f14b1f6107833001249db60a6ad8812:2013168675,5ad3713a10783300b3059a02d181e3de:9240563,1f93b1f6887833002f2b778c24aadff0:456108736,c142b1f6d7783300c38f5ac39fbf6b08:991181415,6021b976a5783300f318691216124cdd:-986115342,bf1fa176557833006b3d84be3d59875b:886194977,8e71d9725e383300e5e521d30a1bac3c:646474920,193051b22f3833008f5625466e4f06df:-1919543182,a35f01fe9ff433005138c5a6ebdd8e8a:227081092,e8d634f2eef433008ab554c9988cab65:-2087987388,c42570b2fff433006723402c2d7ef725:899571811,1a63687ebc743300cac58b6c5c83be32:1304424216,0040ac727a7433001617253c0575f18d:1941835462,177e18724974330068a9dc91dcc16b8a:-1863367580,7ce284f27ef03300ad71cba4c4385f2f:175095074,adcb376e72b03300b93fb944cadf80ca:-596355144,c6642d11bfbc3300fdbd9b953f7fcbdf:-1261720651,11188745563833008e404330739f4959:1244983755,77ea56cdcb743300d2fd678d874b1cb6:-166661235,3f9d8e85f1743300a27b8b25604f58ab:1128305616,ae2c8e052174330035dd26dde0d9f9f6:1633935052,480c424554743300b4f660d90d2e5410:1764032283,10144a4dd8343300ab0cc3afdfeccc18:1848800031,1629f581d83433007392803e3c715dde:-2022401835,f83e15386a70f3005c593a879279e291:1288664481,fa9d11381e70f300aee6368562007c8f:1195100062,01dc59b4b070f30020543ae155fca1db:-1689842223,fd1c5db4cf70f30073aa42febbf16a18:-1262055311,b1fb5db4ed70f3004bcf088381335913:982825751,9787d9344e30f300c7373ea2bd601e3f:948538085,230a0d785ffcb300e28828c27ff4898c:1245124349,f5bdb870fdfcb300e22baca779c20a25:-2085567940,a53f8834617cb300370033eb3d621bbe:-1820183070,61f96bacc2f8b3006d9dc4adff246105:-2135527418,de9378646434b3008516475491111cd7:-1103384180,8b97a7d0c770b3003fc14041b6811d96:-1887595433,dd2f549c333873001c26d61752a99186:2045996868,6a00ef8cc6347300671532e575c8dbc7:1045586461,2ffed3cc9d347300d92c47a4b843e9fa:-1540737005,6d7953c8983473003586a2079e5df987:-1854365219,3e145f48c93473003472a2fedccfe8fa:-1447708498,4265c30ceff07300bb1308409d3940bb:-2102727131,206ff284c3f07300186e00b9bbc9c34d:1696642819,75d6aa880470730000309642973df73a:-1002004347,af06ea4c8c707300d8ae0d4a929c2fc6:-516821481,39f4a2481a707300083beab6a1a72c9f:778575037,f99d1e04e0707300e14776074e8b69d3:1011058803,90cb164853307300d3e281081fb8f106:497308439,54eada08b23073007aa9d17a0d8dc6c1:689277193,c03a5604a23073003a47586ecf538367:469458611,5b775e4c77fc3300986665b941091bf3:-1383554195,c376528ca0fc33008b6720ab4fd7215a:1235008212,0a36964cbbfc330055d73c8eb24e1d3b:415317186,55851e88affc33002169f62f25f4aa23:-1702446416,11045a0cd1fc330016441398582621da:-1908986280,7dbb0acc85bc330091955d43ae95ce5f:1348083141,ec98c6cc17bc3300a6e388bb63652e39:1511075157,71305dc81dfcb30083d53d22c3eb375a:-554187662,279b414876fcb30091029f0393a27056:-516689868,815bcdc4c0bcb3002418ad3724af384e:1216894669,0c34cdc801bcb3002e5b10cd0c89f183:500379543,3fb5fcc87abcb300be79028a88733e69:1304293644,37b3748c107cb300cb70bb3a9d0523b7:-1551324743,7973bc886278b3006059738aafe67de3:7227247,0231b8448ff8b3000a404e521f2cb2cd:1592483640,898f24c4e33cb30096a8499929d3d36d:2131008149,318dac04f37cb30034effa39a2ed3c28:426201532,8eb2debb7c28b300632ac2ed6b2a4f1a:-637079506,e3fd2223a820b30031b9a3eb59fd4130:-410241832,09d981677c64730027d49e02a3f20e43:1856738640,0d15d3c3b5ac330076bca3123be1ff1b:-2093402587,2d1397476e6c3300a46fb351cef5d307:305833485,abe2d78ba16c3300a5f822b3cb5c1967:319804519,49dccfcb076c3300ff4968c687a92070:-1033478098,882d7a07e86c3300ae7f812a81760a53:-846911904,83dabe833a6c3300bd3070a0aa87b332:876547571,a647d1ff8aa03300f96d01ade4308d26:1796134333,9ee890a3932073004d621ea5a73a769c:1377423975,ff78982fd9ec3300d6f084970674d0f5:536184839,25a3d0eba0ec3300d17d200e8093cfba:1892062005,938190e71dec33003216296892e9a791:993443511,326190e79cec3300c20839e6b02f37e6:1892062005,3f5e046304ec3300a353c05dc599f2cb:-615265483,717140ef316c3300f69111a5512a2b7f:1412560567,70c02222cfe43300cb18fc7cc1fad8ed:496890794,aa12f5c844b72300fe1e45858ef0efc7:1127102654,3e1364c0c03323004119948ecffda9f8:323400285,bee264446c3323009a4d8c91eb7ed313:89401649,0808e096fe532300fb709d02f3941833:-2072060428,92a916be3bf2230029b76e69b0bc0505:265927182,4089ca72c5f22300947666125aa897a9:-572313027,4c5469b6033223001ee5086bce803053:-2053381258,ff04253a3432230073f28f855b5b3a94:1473686336,63716db20932230020ab39aeccc4b546:-1202679959,31dedd32ac322300d030a4c7c940b7a0:-551099879,4734fd6e4c7223007cc7018f48cb015f:226026258,fee4febd5e2223008425120ff520757d:794673558,6833beb97b222300a6f60a006f8339a7:1666898330,b6cb3a90cd222300ccf60ac7183134a8:1843535087,ec9b7e588c22230053d73dd59f418a4d:-515754961,30ea3a90b5222300e3710bbc24ed94a3:-1347621679,4149b250dc222300cdfb23c6391f8634:649888993,fbd335f530522300adb3d3b2001f58ca:773985597,ace955e039de23007667ca8a51e27b79:-1739072355,e98b7b8f1d8a630034191fe3e680e62b:-1301153733,555a7b0f888a6300a673a4ab17404681:-2044766871,99be12cf94826300a4e2cdf199aeba53:2126953709,cbceed25960e2300e844b8f4f4c29d4a:1319455225,450e98e9a1062300eb2983346013eee8:1880179707,f68c1ca96d062300fbdf92c473cfe957:-1497483074,09dbd0a9a20623007e74119f6fbd6ad9:-2013346164,67f2fb9140c22300e8c2957bc05a7852:1922623672,9fa1bfdd7b822300a49f91db8f3b2672:95236082,2ecdafddfa82230038b4b245a626496c:257640257,3a1af98515c66b00212de25f7f2753b2:1312625635,be1e304db1066b0081cc97cc270ae580:-928269639,5f93847cd9822b0092fd66e977ca8959:1244638891,8cf997ac48022b00714d195306c10488:477002571,7ec6dfa816cee700dc60c820ae409199:-1898134736,9bb6dfa8e7cee7008b738252fdfe3a36:-106240368,45761ba882cee7007b43fcb96a1bbe9f:-64198115,4e06536852cee7009b531571f78fb002:-1277104017,ddc3dfe497cee700b17d86a116a59647:1615034840,2b435b28fdcee7003790ffa131ef78c0:-1131960482,8db25fe4bbcee7000b34c2a0b745b363:981602613,ae32dfe425cee700dd8d654625be2250:-1608704555,4c61176084cee7005436ad841429c7d2:-1838081795,1c2b0364258ee7002a85db2a925c34b3:355106723,02683264d98ee700dc7f33b44c62f01d:-1386130621,f83a82501306e700ef76227afd070a56:1358783253,f79942506b06e700e1cb7a57eaf0dbc3:397635509,c65359986b02e7004fc715ef15dfb170:430728857,a7f2d5986c02e70035360563c634789c:1715406225,9872d958ab02e700881cde5813ab4031:-1635387773,39ad0d10b402e7005e247e84e7f2caf4:-1420197883,71ced458bb4ea700532b4a5c5316e0a0:524557453,73bb4c98750ea700ffb6b5d4eb9d2365:70600196,86200c1cb20aa700ed323832daae2cfa:450786057,062ff7c8930aa700a85a09bc2af74a69:-186955407,593ef7c8a30aa7009d9767bb05952e61:156462643,b48d3788080aa700ea6309c087ac00b2:-1699872587,ad2dff48bc0aa7005d767fbd4b505c66:1831597932,7cecb3886b0aa7008b244bdabacb5527:-1616821896,f1eb3348690aa700fb8a4d5250dc7152:1076611168,a849bf44080aa7000ea36fa26a8761d5:-1771794013,9b85bbc0680aa700112379acd4d5b3cf:2034285040,5e42fb0cdfc6a700f767072d30a9b750:1999866589,a491deeb20752700ad72f9b829b5e422:1849162112,715f02abb17527009acf43d4b052ed7b:656849005,21de066b02752700af5f3cc73f9a4293:1408896122,ba9d0e2b8b75270081c950cc06daaba5:-669575119,a3af34eb337de300182c5f549f899f7c:767827567,1678f0a37d7de300f164c8817ee3e71b:1211821957,5cd2f86b163de30010ef97f0ae536142:-429627095,c6a2706bf93de300c2a42d6fb470c58e:-1197846776,06e17c2b173de300f418e7974b90a652:155437480,db91702b973de300eb82b7d303dba865:-168760164,be61302bba3de3006a0a0dea30328d99:930417890,b1a0b02b633de300ecfc46418868d0a0:-1023627941,817030a7f43de300df29a36efa61b556:-1629189631,ee4dec672e3de300d0cd649d55fdf57e:618151139,ae1da067c03de3009fea41bc72bffb74:2145600391,781ca0673d3de30052718e2dca700d6c:-528159349,6babac27e53de3002465716b3561a818:-1740118219,a66be827963de300f3370a8a93134516:685046578,6eda24279b3de3002e0a0bc42234e6d3:1382878634,a1ca60279a3de3002fdb02278b964c7c:-1594294582,bf6a2027dc3de300c20d9a7d72ee7726:-1512654581,3ba9a0a3283de300dd99fead0545af9b:24607798,9e2960a3373de300c77e639220b3b095:-203920203,2ad860a3ce3de3009d1d6cb87d715090:-1384845931,1a0860a3da3de300a8bb1aa48470dc84:-1779530113,f59764afadf9e300f42c5b895d295cdf:-629516899,70e66823f13de3005e68479c670836a3:-1398270156,39b4e4ef98f9e300d18bc0bcd62f53c9:-767960025,2bb1f1030039a300e4c0cac91438c207:1705184675,4840f58f02f5a300d2b51173d3fd920b:395460767,d99ccdcb4e75a300ef328ad6c882b9a0:1623915899,e6bf5db2627d6300d6bda03fcf64a3ae:-461866307,b134d8beec796300e9698f0c7a1917ea:1060944635,6cd56feec3f56300557b533c1c161f62:-1080487538,0602afeebdf56300bb8f5559a4e9ac92:-1659569148,3a6e9b6e9cf5630060455d6922e04dd1:1649624499,36fdd36e8af5630026d56a59f4b37146:-1402374833,d1dd17ea9ef56300685fc6c1d4699b16:1549424178,a06db2ea05b5630052d6c94c0911cba7:1463607696,6ac5faa633b563004a35b57be4145533:1899307330,5e043666a7b563004fad180688e92950:-631829121,a852f2e21eb5630018c41dc491f46794:-556725857,12713aa241b5630079e756f8b32f4183:103598334,87a0b2a293b563004651f222fdd6e99e:-404863281,e020ba6276b563001d87d1ab6346cbfb:-1002654562,ed8fa66208b563004818a4caf2b940a7:306198172,b8cd662258b56300b109c79a5f9d1f74:1523547733,e40d6aeef975630072bed7efc9f18f69:321130654,138ba6ae8b7563006cc6b1fbe63df8fd:337254969,144aaaea1b756300fa4c2d81e9eea222:1802063413,9739a62e0275630095dd140a2df4e158:1919447395,9cf6a1a6d9f16300e1cdc48e130050f0:-1125548035,94966da61bf16300b395d725c52c0f1b:-1643149603,492625a699f163009fc8a0d9055bcf27:1909886919,5d06e5a61cf1630010603c4a44574186:427561805,3033e1e2fff163006943485beed470e0:-33000556,cbb261a28bf16300e1fcb07a58d7a803:1944152781,cd42e9ea71b16300dcfbea102c0a2439:-512018485,2c485d2ee4b16300b13ea9c74f7b2969:1218905259,0e7b379633fd230070ba39f71a0dc58b:-1867151705,30e77356c6fd23002d5d15889da8de16:-989384450,7d27bb92d1fd2300b8a4608e6080d40a:1943933370,f5d37b9204fd2300779ee780269575f6:-1073165674,15ba8a1a50b923005a5b29e33c595682:-1373562509,5407c296f7b9230096b466791f06bb66:375485013,0b4b741ef4f523003efc56c957e42e3c:2074301322</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_4d00ab9a4fe233008373224f9310c7aa</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;nuta_snapshot_delete&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;true&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;new Perform_Action_Condition().performActions(current.parent_uuid, 'action_snapshot_delete', 'system');&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;true&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style&gt;destructive&lt;/form_style&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;true&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;true&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Delete&lt;/name&gt;&lt;onclick&gt;performSnapshotDelete()&lt;/onclick&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var template = '&lt;div id="#{HTML:id}" tabindex="-1" ' + 'aria-hidden="true" class="modal fade " role="dialog" ' + 'aria-labelledby="#{HTML:id}_title" data-readonly="#{HTML:readOnly}" data-has-help="#{HTML:showHelp}" focus-escape="#{HTML:focusEscape}" style="overflow-y: scroll;"&gt;' +
    '	&lt;div class="modal-dialog #{size}"&gt;' +
    '		&lt;div class="modal-content"&gt;' +
    '			&lt;header class="modal-header"&gt;' +
    '				&lt;button data-dismiss="GlideModal" class="btn btn-icon close icon-cross" id="#{HTML:id}_closemodal"&gt;' +
    '					&lt;span class="sr-only"&gt;Close&lt;/span&gt;' +
    '				&lt;/button&gt;' +
    '			&lt;h1 id="#{HTML:id}_title" class="modal-title h4"&gt;' +
    '				#{HTML:title}' +
    '			&lt;button class="btn btn-icon icon-help help"&gt;' +
    '				&lt;span class="sr-only"&gt;Help&lt;/span&gt;' +
    '			&lt;/button&gt;' +
    '			&lt;/h1&gt;' +
    '			&lt;/header&gt;' +
    '			&lt;div class="modal-body container-fluid"&gt;&lt;/div&gt;' +
    '		&lt;/div&gt;' +
    '	&lt;/div&gt;' +
    '&lt;/div&gt;';

function performSnapshotDelete() {
	var sysId = ' ';
	if (typeof rowSysId == 'undefined'){
		sysId = gel('sys_uniqueValue').value + '';
	} else{
		sysId = rowSysId + '';
	}
	g_form.clearMessages();
	
	getSingleVmProvider(sysId);
	
}

function getSingleVmProvider(act_sys_id) {

	var loadingHTML = "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
    var loadingDialog = new GlideModal("nuta_delete_modal", true);
    loadingDialog.setTitle('Performing action...'); //Set the loading dialog title here...
    loadingDialog.renderWithContent('' + loadingHTML);
	
	var ga = new GlideAjax('Run_App_Actions');
    ga.addParam('sysparm_name', 'getProviderTypeSingleVM');
    ga.addParam('sysparm_actionsysid', act_sys_id);
	ga.addParam('sysparm_sysid_type', "restore_points");
    ga.getXML(getProviderAjax, null, act_sys_id);
}

function getProviderAjax(response, sysId) {
	var provider_name = response.responseXML.documentElement.getAttribute("answer") + '';
	var page_selector = {"AHV_VM":"x_nuta2_nutanix_ca_Snapshot_delete","AWS_VM":"x_nuta2_nutanix_ca_Snapshot_delete_aws","VMWARE_VM":"x_nuta2_nutanix_ca_Snapshot_delete_vmware"};
	var page_title_selector = {"AHV_VM":"Delete Restore Point","AWS_VM":"Delete AMI","VMWARE_VM":"Delete Snapshot"};
	
	var gm = new GlideModal("nuta_delete_modal");
	gm.setDialog(page_selector[provider_name]);
	gm.setWidth(450);
	gm.setPreference('sysparm_sysId', sysId + '');
	gm.setTitle(page_title_selector[provider_name]);
	gm.backdropStatic = true;
    gm.template = template;
	gm.render();
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-12 13:31:17&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4d00ab9a4fe233008373224f9310c7aa&lt;/sys_id&gt;&lt;sys_mod_count&gt;14&lt;/sys_mod_count&gt;&lt;sys_name&gt;Delete&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_4d00ab9a4fe233008373224f9310c7aa&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 09:23:37&lt;/sys_updated_on&gt;&lt;table&gt;x_nuta2_nutanix_ca_restore_points&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>-649058719</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f224eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c78f0000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_restore_points</table>
<target_name>Delete</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>9c7b73bca70c5c10516349b9c792f306</update_guid>
<update_guid_history>9c7b73bca70c5c10516349b9c792f306:-649058719,739fd1babebfc41081a05bbe4b1d9cf3:1956901568,42fed9760fbfc410e8afced86001f336:2083243248,22ca461f313b0810116ddfb0dccfcf90:-1780222529,7c0d9ada798280503e8e83fd4fac5984:173434915,e6c4085e1675c410f274a04988935c7b:1313103612,465eef71c5b98410b4fe4b97125668ec:1750288733,21fcaffde8798410fa36e75b8f3f1d88:2037171705,a02ce33176b98410ddbcdbd306fa372b:-195071320,d249eb7d56798410b2813798a58476ae:-203402991,d1f416df39623300c350ac03ea5b6333:-1278205160,cdc416dfda623300fa7b3c931867a02e:317713053,8e316b5a7fe23300bc185591abf23ac6:1623180014,eb112bda73e233007880166776fc46eb:839413882,c6a0abda97e23300d5eb0b127823a895:1882682058,ad702bdac1e23300ae5218e57808b58b:-625823440</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_script_db9441c237212300fdfc097973990e67</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description/&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Service_&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var $j = jQuery.noConflict();   

function triggerChange(id, value) {
	var service_field = g_form.getValue('service_data') + '';
	var service_data = (service_field != '') ? JSON.parse(service_field) : '';
	for(var i in service_data) {
		for(var j in service_data[i]) {
			for(var k in service_data[i][j]) {
				if(k == id) {
					service_data[i][j][k].value = value + '';
				//	console.log(i + j + id + value);
					g_form.setValue('service_data', JSON.stringify(service_data));
				}
			}
		}
	}
}
//---------diskApp module----------------
// Created an angular application with the name 'diskApp' to be used in HTML rendering

var app = angular.module('configApp', []);

app.filter('capitalize', function(){
	return function(category, title) {
		if(title)
			category = category.replace(title,'');
		category = category.toLowerCase().split('_');
		for (var i = 0; i &lt; category.length; i++) {
			category[i] = category[i].charAt(0).toUpperCase() + category[i].slice(1);
		}
		return category.join(' ').replace(/(os|vm|ssh|api|gcp|aws)/igm, function(match) {
				return match.toUpperCase();
			}).replace(/Vdisks/igm, 'vDisks').replace(/Management Optional/igm, 'Management (Optional)');
		//"$1".toUpperCase());
	};
});

// renderConfiguration = function(JSONString) {
// // 	$scope.JSONdata = JSON.parse(JSONString);

// };

app.controller('configController', function($scope) {

	$scope.togglePassword =  function(sysid) {
		var input = $j('#' + sysid);

		if (input.attr("type") == "password") {
			input.attr("type", "text");
		} else {
			input.attr("type", "password");
		}
	};

	$scope.selectCategory = function(category) {
		$scope.selectedCategory = category;
	};

	$scope.checkUiPage = function(category, type, title) {

		if(type &amp;&amp; type+''=='2')
			return false;
		
		var keys = Object.keys(category);

		if(category[keys[0]].name)	
			return true;	
		
		return false;

		//return (category.includes("storage") != true) &amp;&amp; (category.includes('port') != true);
	};
	
	
	
	
	
	
	
	$scope.checkGuestType = function(category, title, questionText){
		
		if((category+'').includes('guest_customization') &amp;&amp; questionText+''=='Install Type'){
			
			var guest = $scope.JSONdata[title][category];
			
			for(var i in guest)
				if(guest[i].question_text+'' == 'Type' &amp;&amp; guest[i].value+'' == 'Cloud-init')
					return false;			
		}
		
		return true;
	};
	
	$scope.disableRuntimeConfig = function(innerJSON) {
					if(innerJSON.data_type == 'EXEC_LOCAL' || innerJSON.data_type == 'HTTP_LOCAL' || innerJSON.data_type == 'EXEC_SECRET' || innerJSON.data_type == 'HTTP_SECRET') {
						return true;
					}
					else {
						return (innerJSON.isdisabled+'' == 'true');
					}
	};
	
	
	$scope.drsCheck = function(name, service) {
		
// 		var tmpJson = JSON.parse(g_form.getValue('service_data'))[service][service+'_vm_configuration'];
		
// 		var val = true;
		
// 		for(var i in tmpJson)
// 			if(tmpJson[i].name+'' == service+'_drs_mode'){
// 				val = (tmpJson[i].value)?tmpJson[i].value:false;
// 				break;
// 			}
				
		
// 		if((name+'' == service+'_host' || name+'' == service+'_datastore') &amp;&amp; val+'' == 'true'){
// 			return false;
// 		}else if((name+'' == service+'_cluster' || name+'' == service+'_storage_pod') &amp;&amp; val+'' == 'false'){
// 			return false;
// 		}
				
		return true;	
	};
	
	
	$scope.fetchEscriptHttp = function() {
		var service_json = $scope.JSONdata;
		var options = "";
		var type = g_form.getValue('type_of_blueprint');
		var blueprintSysId = g_form.getValue('blueprint');
		
//		var loadingDialog = new GlideModal('loader', true);
		for(var i in service_json) {
			for(var j in service_json[i]) {
				for(var k in service_json[i][j]) {
					if(service_json[i][j][k].data_type == 'EXEC_LOCAL' || service_json[i][j][k].data_type == 'HTTP_LOCAL' || service_json[i][j][k].data_type == 'EXEC_SECRET' || service_json[i][j][k].data_type == 'HTTP_SECRET') {
						
						var loadingDialog = new GlideModal('loader', true);
						loadingDialog.setTitle('Fetching values for variable "'+service_json[i][j][k].question_text+'"');
						loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
					//	loadingDialog.render();
						var gajax = new GlideAjax('Nutanix_ClientServerScriptBridge');
						gajax.addParam('sysparm_name', 'getHttpValues');
						gajax.addParam('sysparm_type', type);
						gajax.addParam('sysparm_parentUuid', blueprintSysId + '');
						gajax.addParam('sysparm_varUuid', service_json[i][j][k].uuid + '');
						gajax.getXML(setOptions, null, [service_json[i][j][k], i, j, k]);
					}
				}
			}
		}
		function setOptions(response, arr) {

			var answer = response.responseXML.documentElement.getAttribute("answer");
			var parsedAnswer = JSON.parse(answer);
			var var_json = arr[0];
			var service = arr[1] + '';
			var cat = arr[2] + '';
			var key = arr[3] + '';

			if(parsedAnswer.state == 'SUCCESS') {
				for(var i = 0; i &lt; parsedAnswer.values.length; i++)
					var_json.options[i] = parsedAnswer.values[i];
			}
			else {
				g_form.addErrorMessage("Failed fetching values for variable '"+var_json.question_text+"': "+parsedAnswer.values[0]);
			}
			$scope.JSONdata[service][cat][key] = var_json;
			g_form.setValue('service_data', JSON.stringify($scope.JSONdata));
			new GlideModal().get('loader').destroy();
		}
	};
	
	
	
	$scope.updateData = function() {
		g_form.setValue('service_data', JSON.stringify($scope.JSONdata));
	};
	
	$scope.GwtDTPicker = function(input_id, format, showTime) {
		new GwtDateTimePicker(input_id, format, showTime);
	};

	$scope.updateDisableStatus = function() {
		for (var title in $scope.JSONdata) {
			for (var cat in $scope.JSONdata[title]) {
				for (var sys in $scope.JSONdata[title][cat]) {
					if ($scope.JSONdata[title][cat][sys].value &amp;&amp; $scope.JSONdata[title][cat][sys].value.includes('@@')) {
						$scope.JSONdata[title][cat][sys].isdisabled = true;
						$scope.JSONdata[title][cat][sys].runtime_config = false;
					}
				}
			}
		}
	};

	$scope.hideFields = function (variables) {
		/*var variableArray = variables.split(",");
		for (var title in $scope.JSONdata) {
			for (var cat in $scope.JSONdata[title]) {
				for (var sys in $scope.JSONdata[title][cat]) {
					var question_text = $scope.JSONdata[title][cat][sys].question_text+'';
					var converted = question_text.toLowerCase().replace(/ /g,"");
					var newcat = cat.replace(title,'');
					newcat = newcat.toUpperCase().split('_');
					for (var i = 0; i &lt; newcat.length; i++) {
						newcat[i] = newcat[i].charAt(0).toUpperCase() + newcat[i].slice(1);
					}
					newcat = newcat.join(' ').replace(/ /g,"");
					console.log(newcat+'ere'+variableArray.includes(newcat));

					if (variableArray.includes(converted)||variableArray.includes(newcat)) {
						$scope.JSONdata[title][cat][sys].ishide = true;
					} else {
						$scope.JSONdata[title][cat][sys].ishide = false;
					}
				}
			}
		}*/
	};

	function renderConfiguration (JSONString) {
		/*var variableArray = '';
		var gax = new GlideAjax('Nutanix_ClientServerScriptBridge');
		gax.addParam('sysparm_name','getVariablesProperty');
		gax.getXMLWait();
		variableArray = gax.getAnswer();*/

		//console.log("parsed string :: "+JSONString);
		new GlideModal().get('loader').destroy();
		
		var parsedJson = JSON.parse(JSONString);
		
		$scope.JSONdata = parsedJson.service_configuration;
		$scope.showMessage = (Object.keys(parsedJson.service_configuration).length==0);
		
		g_form.setValue('service_data', JSON.stringify(parsedJson.service_configuration));
		
		$scope.nicOptions = parsedJson.subnet_list;
		$scope.fetchEscriptHttp();
		//$scope.updateDisableStatus();
		//$scope.hideFields(variableArray);
	}

	var responseParse = function(response) {

		var answer = response;
		renderConfiguration(answer+'');
	};	

	$scope.$on('updateEvent', function(event, data){
		$scope.JSONdata = data;
	});


	$scope.getProfileVariableData = function(){

		var val = g_form.getValue('service_data');

		var type = g_form.getValue('type');
		var bpType =g_form.getValue('type_of_blueprint') ;
		var project = g_form.getValue('project');
		var blueprint = (type=='update')?g_form.getValue('cat_item'):g_form.getValue('blueprint');
		var application_profile = g_form.getValue('application_profile');

		var loadingDialog = new GlideModal('loader', true);
		loadingDialog.setTitle('Fetching service data...'); 
		loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
		
		var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
		ga.addParam('sysparm_name', 'getServiceVariableDetails');
		ga.addParam('sysparm_project', project);
		ga.addParam('sysparm_blueprint', blueprint);
		ga.addParam('sysparm_application_profile', application_profile);
		ga.addParam('sysparm_type', type);
		ga.addParam('sysparm_bpType', bpType);

		ga.getXMLWait();
		
		var answr = ga.getAnswer();
		
		if(val){
			answr = JSON.parse(answr);
			answr.service_configuration = JSON.parse(val);
			answr = JSON.stringify(answr);
		}
		
		responseParse(answr);
	};

	_toTitleCase= function (str) {
		/*str = str.toLowerCase().split(' ');
		for (var i = 0; i &lt; str.length; i++) {
			str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1);
		}
		return str.join(' ');*/ return str;
	};
});


//---------runtimeSvg directive----------
//Created an angular custom directive containing the runtime SVG from Nutanix
// To be used as &lt;runtime-svg&gt;
app.directive('diskUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "diskController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="disk_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Device&lt;/th&gt;&lt;th class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;Size (GB)&lt;/span&gt;&lt;/th&gt;&lt;th class="padded-fields" ng-show="global_configuration"&gt;Runtime&lt;/th&gt;&lt;th class="padded-fields"&gt;Volume Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Delete on termination&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="JSONdata.root_disk"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="disk_initializeEditModal($index, JSONdata.root_disk, true);"&gt;&lt;i id="rootDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;ROOT&lt;/td&gt;&lt;td class="padded-fields"&gt;{{JSONdata.root_disk.device_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;{{JSONdata.root_disk.size_gb}}&lt;/span&gt;&lt;/td&gt;&lt;td class="padded-fields" ng-show="global_configuration"&gt;{{JSONdata.root_disk.runtime}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{diskMapping[JSONdata.root_disk.volume_type]}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{JSONdata.root_disk.delete_on_termination}}&lt;/td&gt;&lt;/tr&gt;&lt;tr ng-if="JSONdata.data_disk_list" ng-repeat="data in JSONdata.data_disk_list"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="disk_initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;EBS&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.device_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;{{data.size_gb}}&lt;/span&gt;&lt;/td&gt;&lt;td class="padded-fields" ng-show="global_configuration"&gt;{{data.runtime}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{diskMapping[data.volume_type]}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.delete_on_termination}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="{{modalid}}_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Device&lt;/label&gt; &lt;select ng-model="edit.device_name" class="form-control" ng-disabled="!global_configuration || edit.root_flag" required=""&gt;&lt;option ng-class="{\'disk_disabled-option\': value.disabled}" ng-repeat="(device, value) in device_list" ng-disabled="value.disabled"&gt;{{device}}&lt;/option&gt; &lt;/select&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Volume Type&lt;/label&gt; &lt;select ng-model="edit.volume_type" class="form-control" ng-disabled="true"&gt;&lt;option value="GP2"&gt;General Purpose SSD&lt;/option&gt;&lt;option value="IO1"&gt;Provisioned IOPS SSD&lt;/option&gt;&lt;option value="ST1"&gt;Throughput Optimized HDD&lt;/option&gt;&lt;option value="SC1"&gt;Cold HDD&lt;/option&gt;&lt;option value="STANDARD"&gt;EBS Magnetic HDD&lt;/option&gt; &lt;/select&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="size"&gt;Size (GB)&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime" type="checkbox" ng-true-value="\'true\'" ng-false-value="\'false\'" ng-disabled="edit.disabled"/&gt;Runtime&lt;/div&gt; &lt;input ng-if="edit.runtime" ng-model="edit.size_gb" class="form-control" type="number" ng-disabled="edit.disabled"/&gt;&lt;input ng-if="!edit.runtime" ng-model="edit.size_gb" class="form-control" type="number" ng-disabled="edit.disabled"/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;div class="form-group"&gt;&lt;input ng-model="edit.delete_on_termination" type="checkbox" ng-disabled="!global_configuration"/&gt;Delete On Termination&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;button type="button" class="btn btn-primary disk_btn-modal" data-dismiss="modal" ng-click="disk_editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="{{modalid}}_editModal" class="modal fade" role="dialog"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});


//--------diskController controller--------------
//Created a controller for controlling the flow to data of diskApp application
app.controller('diskController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedJSON) {
		$scope.JSONdata = JSON.parse(passedJSON);
		//$scope.
		$scope.disk_checkDeviceList();

		$scope.diskMapping = {
			'GP2': 'General Purpose SSD',
			'IO1': 'Provisioned IOPS SSD',
			'ST1': 'Throughput Optimized HDD',
			'SC1': 'Cold HDD',
			'STANDARD': 'EBS Magnetic HDD',
		};

	};

	$scope.disk_getVariableData = function(passedJSON) {
		$scope.JSONdata = passedJSON;
		$scope.disk_checkDeviceList();
	};


	//$scope.device_list --&gt; contains the hardcoded dropdown list for device name in the form
	//key --&gt; provides the name of the device
	//key.disabled --&gt; provides the status of specific device whether it is added or not
	//    disabled = true  --&gt; added
	//    disabled = false --&gt; not added
	$scope.device_list = {
		"/dev/sda1": { "disabled" : true},
		"/dev/sdb": {"disabled" : false},
		"/dev/sdc": {"disabled" : false},
		"/dev/sdd": {"disabled" : false},
		"/dev/sde": {"disabled" : false},
		"/dev/sdf": {"disabled" : false},
		"/dev/sdg": {"disabled" : false},
		"/dev/sdh": {"disabled" : false},
		"/dev/sdj": {"disabled" : false},
		"/dev/sdk": {"disabled" : false},
		"/dev/sdl": {"disabled" : false}
	};

	//$scope.checkDeviceList --&gt; set the value of $scope.device_list array key.disabled to true or false on basis of JSONdata
	$scope.disk_checkDeviceList = function() {
		$scope.global_configuration = true;
		for (var i = 0;i &lt; $scope.JSONdata.data_disk_list.length; i++) {
			$scope.device_list[$scope.JSONdata.data_disk_list[i].device_name].disabled = true;
		}
	};



	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.disk_initializeEditModal = function (index, editJSON, rootFlag) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.root_flag = rootFlag;
		$scope.edit.index = index;
		$scope.edit.device_name = editJSON.device_name;
		$scope.edit.size_gb = editJSON.size_gb;
		$scope.edit.volume_type = editJSON.volume_type;

		$scope.edit.runtime = editJSON.runtime;
		$scope.edit.disabled = (editJSON.disabled+''=='true')?false:true;

		$scope.edit.delete_on_termination = editJSON.delete_on_termination;
		$scope.edit.previous_device_name = editJSON.device_name;
	};



	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.disk_editEntry = function (editJSON) {
		$scope.device_list[editJSON.previous_device_name].disabled = false;
		$scope.device_list[editJSON.device_name].disabled = true;
		var createdJSON = {
			"device_name": editJSON.device_name,
			"size_gb": editJSON.size_gb,
			"volume_type": editJSON.volume_type,
			"delete_on_termination": editJSON.delete_on_termination,
			"runtime": editJSON.runtime,
			"snapshot_id": "",
			"iops": "",
			"type" : ""
		};

		if (editJSON.root_flag) {
			createdJSON.snapshot_id = $scope.JSONdata.root_disk.snapshot_id;
			createdJSON.type = $scope.JSONdata.root_disk.type;
			createdJSON.iops = $scope.JSONdata.root_disk.iops;
			$scope.JSONdata.root_disk = createdJSON;
		} else {
			createdJSON.snapshot_id = $scope.JSONdata.data_disk_list[editJSON.index].snapshot_id;
			createdJSON.type = $scope.JSONdata.data_disk_list[editJSON.index].type;
			createdJSON.iops = $scope.JSONdata.data_disk_list[editJSON.index].iops;
			$scope.JSONdata.data_disk_list[editJSON.index] = createdJSON;
		}

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});




app.directive('portlistUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "portlistController",
		template : '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class="padded-fields" ng-show="global_configuration"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Protocol&lt;/th&gt;&lt;th class="padded-fields"&gt;Port&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields" ng-show="global_configuration"&gt;&lt;a href="#" data-toggle="" data-target="#_editModal" ng-click="portlist_initializeEditModal($index, data);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.endpoint_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.protocol}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.target_port}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt;&lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;&lt;label for="device"&gt;Name&lt;/label&gt;&lt;input class="form-control" type="text" ng-model="edit.endpoint_name" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;label for="volume_type"&gt;Protocol&lt;/label&gt;&lt;input class="form-control" type="text" ng-model="edit.protocol" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;&lt;label for="size"&gt;Port&lt;/label&gt;&lt;input class="form-control" type="text" ng-model="edit.target_port" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="portlist_editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};

});

//--------portlistController controller--------------
//Created a controller for controlling the flow to data of diskApp application
app.controller('portlistController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);

		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.portlist_initializeEditModal = function (index, editJSON) {
		
		alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.endpoint_name = editJSON.endpoint_name;
		$scope.edit.target_port = editJSON.target_port;
		$scope.edit.protocol = editJSON.protocol;
	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.portlist_editEntry = function (editJSON) {
		var createdJSON = {
			"protocol": editJSON.protocol,
			"target_port": editJSON.target_port,
			"endpoint_name": editJSON.endpoint_name,
			"type": $scope.JSONdata[editJSON.index].type
		};
		$scope.JSONdata[editJSON.index] = createdJSON;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});




app.directive('vdisklistUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "vdisklistController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table" ng-if="provider==\'nutanix\'"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Device Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Device Bus&lt;/th&gt;&lt;th class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;Size (MB)&lt;/span&gt;&lt;/th&gt;&lt;th class="padded-fields" ng-show="global_configuration"&gt;Runtime&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="data.data_source_reference==null" ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.device_properties.device_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.device_properties.disk_address.adapter_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;{{data.disk_size_mib}}&lt;/span&gt;&lt;/td&gt;&lt;td class="padded-fields" ng-show="global_configuration"&gt;{{(data.runtime.disk_size_mib)?data.runtime.disk_size_mib:false}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table class="table" ng-if="provider==\'vmware\'"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Adapter Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Device Type&lt;/th&gt;&lt;th class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;Size (MB)&lt;/span&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.adapter_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.disk_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;&lt;span class="disk_right-indent"&gt;{{data.disk_size_mb}}&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm" ng-if="provider==\'nutanix\'"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;&lt;label for="device"&gt;Device Type&lt;/label&gt;&lt;input class="form-control" type="text" ng-model="edit.device_type"/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;label for="volume_type"&gt;Device Bus&lt;/label&gt;&lt;input class="form-control" type="text" ng-model="edit.device_bus"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="size"&gt;Size&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime" type="checkbox" ng-disabled="edit.disabled"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.size" ng-disabled="edit.disabled"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;form name="editForm" ng-if="provider==\'vmware\'"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Adapter Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime.adapter_type" type="checkbox" ng-disabled="edit.disabled.adapter_type"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.adapter_type" ng-disabled="edit.disabled.adapter_type"/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Device Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime.disk_type" type="checkbox" ng-disabled="edit.disabled.disk_type"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.disk_type" ng-disabled="edit.disabled.disk_type"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="size"&gt;Size&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime.size" type="checkbox" ng-disabled="edit.disabled.size"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.size" ng-disabled="edit.disabled.size"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('vdisklistController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		var parsed =JSON.parse(passedjson);
		$scope.JSONdata = parsed;

		var provider='';

		for(var i in parsed)
			if(parsed[i].adapter_type){
				provider = 'vmware';
				break;
			}else{
				provider = 'nutanix';
				break;
			}

		$scope.provider = provider;

		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;

		if($scope.provider == 'nutanix'){

			$scope.edit.device_type = editJSON.device_properties.device_type;
			$scope.edit.device_bus = editJSON.device_properties.disk_address.adapter_type;
			$scope.edit.size = editJSON.disk_size_mib;
			$scope.edit.runtime = (editJSON.runtime.disk_size_mib==true)?editJSON.runtime.disk_size_mib:false;	
			$scope.edit.disabled = (editJSON.disabled.disk_size_mib+''=='true')?false:true;	

		}else if($scope.provider == 'vmware'){

			$scope.edit.adapter_type = editJSON.adapter_type;
			$scope.edit.disk_type = editJSON.disk_type;
			$scope.edit.size = editJSON.disk_size_mb;

			$scope.edit.runtime = {};
			$scope.edit.runtime.adapter_type = (editJSON.runtime.adapter_type==true)?editJSON.runtime.adapter_type:false;
			$scope.edit.runtime.disk_type = (editJSON.runtime.disk_type==true)?editJSON.runtime.disk_type:false;
			$scope.edit.runtime.size = (editJSON.runtime.disk_size_mb==true)?editJSON.runtime.disk_size_mb:false;

			$scope.edit.disabled = {};
			$scope.edit.disabled.adapter_type = (editJSON.disabled.adapter_type+''=='true')?false:true;
			$scope.edit.disabled.disk_type = (editJSON.disabled.disk_type+''=='true')?false:true;
			$scope.edit.disabled.size = (editJSON.disabled.disk_size_mb+''=='true')?false:true;
		}

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		if($scope.provider == 'nutanix'){

			$scope.JSONdata[editJSON.index].device_properties.device_type = editJSON.device_type;
			$scope.JSONdata[editJSON.index].device_properties.disk_address.adapter_type = editJSON.device_bus;
			$scope.JSONdata[editJSON.index].disk_size_mib = editJSON.size;
			$scope.JSONdata[editJSON.index].runtime.disk_size_mib = editJSON.runtime;	

		}else{

			$scope.JSONdata[editJSON.index].adapter_type = editJSON.adapter_type;
			$scope.JSONdata[editJSON.index].disk_type = editJSON.disk_type;
			$scope.JSONdata[editJSON.index].disk_size_mb = editJSON.size;

			$scope.JSONdata[editJSON.index].runtime.adapter_type = editJSON.runtime.adapter_type;
			$scope.JSONdata[editJSON.index].runtime.disk_type = editJSON.runtime.disk_type;
			$scope.JSONdata[editJSON.index].runtime.disk_size_mb = editJSON.runtime.size;

		}

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});



app.directive('imagesUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "imagesController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Image&lt;/th&gt;&lt;th class="padded-fields"&gt;Device Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Device Bus&lt;/th&gt;&lt;th class="padded-fields"&gt;Bootable&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="data.data_source_reference" ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.data_source_reference.name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.device_properties.device_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.device_properties.disk_address.adapter_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{(data.bootable)?data.bootable:false}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Image&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input type="checkbox" disabled/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" style="font-style: italic;" value="Use Calm to set/edit this field" disabled/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Device Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.device_type" type="checkbox" ng-disabled="edit.disabled.device_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.device_type" ng-disabled="edit.disabled.device_type" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="size"&gt;Device Bus&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.adapter_type" type="checkbox" ng-disabled="edit.disabled.adapter_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.adapter_type" ng-disabled="edit.disabled.adapter_type" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;div class="form-group"&gt; &lt;input ng-model="edit.bootable" type="checkbox" /&gt;Bootable&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('imagesController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.image = editJSON.data_source_reference.name;
		$scope.edit.device_type = editJSON.device_properties.device_type;
		$scope.edit.adapter_type = editJSON.device_properties.disk_address.adapter_type;
		$scope.edit.bootable = (editJSON.bootable==true)?editJSON.bootable:false;

		$scope.edit.runtime = {};
		$scope.edit.runtime.image = false;//(editJSON.runtime.data_source_reference==true)?editJSON.runtime.data_source_reference:false;
		$scope.edit.runtime.device_type = (editJSON.runtime.device_properties &amp;&amp; editJSON.runtime.device_properties.device_type==true)?editJSON.runtime.device_properties.device_type:false;
		$scope.edit.runtime.adapter_type = (editJSON.runtime.device_properties &amp;&amp; editJSON.runtime.device_properties.adapter_type==true)?editJSON.runtime.device_properties.adapter_type:false;

		$scope.edit.disabled = {};
		$scope.edit.disabled.image = true;//(editJSON.runtime.data_source_reference==true)?editJSON.runtime.data_source_reference:false;
		$scope.edit.disabled.device_type = (editJSON.disabled.device_properties &amp;&amp; editJSON.disabled.device_properties.device_type+''=='true')?false:true;
		$scope.edit.disabled.adapter_type = (editJSON.disabled.device_properties &amp;&amp; editJSON.disabled.device_properties.adapter_type+''=='true')?false:true;
	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].data_source_reference.name = editJSON.image;
		$scope.JSONdata[editJSON.index].device_properties.device_type = editJSON.device_type;
		$scope.JSONdata[editJSON.index].device_properties.disk_address.adapter_type = editJSON.adapter_type;
		$scope.JSONdata[editJSON.index].bootable = editJSON.bootable;

		$scope.JSONdata[editJSON.index].runtime.data_source_reference = editJSON.runtime.image;
		$scope.JSONdata[editJSON.index].runtime.device_properties.device_type = editJSON.runtime.device_type;
		$scope.JSONdata[editJSON.index].runtime.device_properties.adapter_type = editJSON.runtime.adapter_type;


		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});


app.directive('networkAdapterUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@',
			passedOptions: '@'
		},
		controller: "networkAdapterController",
		template: '&lt;div ng-init="parsingJSON(passedJson, passedOptions);"&gt;&lt;div class="cluster" &gt;Cluster Name : {{clusterName}}&lt;/div&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table" ng-if="provider==\'nutanix\'"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Value&lt;/th&gt;&lt;th class="padded-fields"&gt;Runtime&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;NIC-{{$index+1}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{options[data.subnet_reference.uuid].name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{(data.runtime.subnet_reference.name)?data.runtime.subnet_reference.name:(data.runtime.subnet_reference)?data.runtime.subnet_reference:false}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table class="table" ng-if="provider==\'vmware\'"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Adapter Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Network Type&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.nic_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.net_name}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="provider==\'nutanix\'"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm" ng-if="provider==\'nutanix\'"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;{{edit.name}}&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime" type="checkbox" ng-disabled="edit.disabled"/&gt;Runtime&lt;/div&gt; &lt;select class="form-control" ng-model="edit.value" ng-disabled="edit.disabled"&gt;&lt;option ng-repeat="(key, value)  in options" value="{{key}}"&gt; {{value.name}} | {{value.cluster_name}}&lt;/option&gt; &lt;/select&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;form name="editForm" ng-if="provider==\'vmware\'"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Adapter Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime.nic_type" type="checkbox" ng-disabled="edit.disabled.nic_type"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.nic_type" ng-disabled="edit.disabled.nic_type"/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Network Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt;&lt;input ng-model="edit.runtime.net_name" type="checkbox" ng-disabled="edit.disabled.net_name"/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.net_name" ng-disabled="edit.disabled.net_name"/&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="provider==\'vmware\'"&gt; &gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('networkAdapterController', function($scope) {

	$scope.JSONdata = {};
	
	
	$scope.parsingJSON = function(passedjson, passedOptions) {

		var options = JSON.parse(passedOptions);
		var parsed = JSON.parse(passedjson);
		var clusterName='';var clusterUUID='';
		
		$scope.options = options;
		$scope.JSONdata = parsed;
		
		for (var i in parsed){
			var parsedElement = parsed[i];
			if(parsedElement.subnet_reference &amp;&amp; parsedElement.subnet_reference.uuid){
				for(var j in options ){
					if( j == parsedElement.subnet_reference.uuid){
						clusterName = options[j].cluster_name;
						clusterUUID = options[j].cluster_uuid;
					}
				}
			}
		}
		
		$scope.clusterName = clusterName;
		$scope.clusterUUID = clusterUUID;
		
		
		
		
		
		
		$scope.global_configuration = true;

		var provider='';

		for(var i in parsed)
			if(parsed[i].net_name){
				provider = 'vmware';
				break;
			}else{
				provider = 'nutanix';
				break;
			}

		$scope.provider = provider;

	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		$scope.edit ={};
		$scope.edit.index = index;

		if($scope.provider == 'nutanix'){
			$scope.edit.name = 'NIC-'+(index+1);
			$scope.edit.value = (editJSON &amp;&amp; editJSON.subnet_reference)?editJSON.subnet_reference.uuid:'';

			$scope.edit.runtime = (editJSON &amp;&amp; editJSON.runtime &amp;&amp; editJSON.runtime.subnet_reference &amp;&amp; editJSON.runtime.subnet_reference.name)?editJSON.runtime.subnet_reference.name:(editJSON &amp;&amp; editJSON.runtime &amp;&amp; editJSON.runtime.subnet_reference)?editJSON.runtime.subnet_reference:false;	

			$scope.edit.disabled = (editJSON &amp;&amp; editJSON.disabled &amp;&amp; editJSON.disabled.subnet_reference &amp;&amp; editJSON.disabled.subnet_reference.name &amp;&amp; editJSON.disabled.subnet_reference.name+''=='true')?false:(editJSON &amp;&amp; editJSON.disabled &amp;&amp; editJSON.disabled.subnet_reference &amp;&amp; editJSON.disabled.subnet_reference+''=='true')?false:true;	
			
		}else{
			
			//alert('You can set or edit this field in Calm GUI.');
			return;
			
			$scope.edit.nic_type = editJSON.nic_type;
			$scope.edit.net_name = editJSON.net_name;

			$scope.edit.runtime = {};
			$scope.edit.runtime.nic_type = (editJSON.runtime.nic_type)?editJSON.runtime.nic_type:false;
			$scope.edit.runtime.net_name = (editJSON.runtime.net_name)?editJSON.runtime.net_name:false;

			$scope.edit.disabled = {};
			$scope.edit.disabled.nic_type = (editJSON.disabled.nic_type+''=='true')?false:true;
			$scope.edit.disabled.net_name = (editJSON.disabled.net_name+''=='true')?false:true;
		}
	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		if($scope.provider == 'nutanix'){

			
			if(!$scope.JSONdata[editJSON.index])
				$scope.JSONdata[editJSON.index] = {};
				
			if(!$scope.JSONdata[editJSON.index].subnet_reference){
				$scope.JSONdata[editJSON.index].subnet_reference = {
					"kind": "subnet",
					"type": "",
					"name": "",
					"uuid": ""
				};
			}
			$scope.JSONdata[editJSON.index].subnet_reference.uuid = editJSON.value;
			
			if(!$scope.JSONdata[editJSON.index].runtime)
				$scope.JSONdata[editJSON.index].runtime = {};
			
			$scope.JSONdata[editJSON.index].runtime.subnet_reference = editJSON.runtime;	
			
			if(editJSON.value){
				$scope.clusterName = $scope.options[editJSON.value].cluster_name;
				$scope.clusterUUID = $scope.options[editJSON.value].cluster_uuid;	
			}
			
		}else{

			$scope.JSONdata[editJSON.index].nic_type = editJSON.nic_type;
			$scope.JSONdata[editJSON.index].net_name = editJSON.net_name;

			$scope.JSONdata[editJSON.index].runtime = {};

			$scope.JSONdata[editJSON.index].runtime.nic_type = editJSON.runtime.nic_type;
			$scope.JSONdata[editJSON.index].runtime.net_name = editJSON.runtime.net_name;

		}


		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});


app.directive('networkProfilesUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "networkProfilesController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Nic Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Security Group&lt;/th&gt;&lt;th class="padded-fields"&gt;Virtual Network&lt;/th&gt;&lt;th class="padded-fields"&gt;Subnet&lt;/th&gt;&lt;th class="padded-fields"&gt;Public IP Config Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Public IP Config Allocation Method&lt;/th&gt;&lt;th class="padded-fields"&gt;Public IP Config DNS Label&lt;/th&gt;&lt;th class="padded-fields"&gt;Private IP Config Allocation Method&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="data.data_source_reference==null" ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.nic_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.nsg_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.vnet_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.subnet_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.public_ip_info.ip_name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.public_ip_info.ip_allocation_method}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.public_ip_info.dns_label}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.private_ip_info.ip_allocation_method}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Nic Name&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.nic_name" type="checkbox" ng-disabled="edit.disabled.nic_name" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.nic_name" ng-disabled="edit.disabled.nic_name" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Security Group&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input type="checkbox" disabled/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" style="font-style: italic;" value="Use Calm to set/edit this field" disabled/&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Virtual Network&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input type="checkbox" disabled/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" style="font-style: italic;" value="Use Calm to set/edit this field" disabled/&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Subnet&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input type="checkbox" disabled/&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" style="font-style: italic;" value="Use Calm to set/edit this field" disabled/&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Public IP Config Name&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.ip_name" type="checkbox" ng-disabled="edit.disabled.ip_name" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.ip_name" ng-disabled="edit.disabled.ip_name" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Public IP Config Allocation Method&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.public_ip_allocation_method" type="checkbox" ng-disabled="edit.disabled.public_ip_allocation_method" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.public_ip_allocation_method" ng-disabled="edit.disabled.public_ip_allocation_method" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Public IP Config DNS Label&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.dns_label" type="checkbox" ng-disabled="edit.disabled.dns_label" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.dns_label" ng-disabled="edit.disabled.dns_label" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Private IP Config Allocation Method&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.private_ip_allocation_method" type="checkbox" ng-disabled="edit.disabled.private_ip_allocation_method" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.private_ip_allocation_method" ng-disabled="edit.disabled.private_ip_allocation_method" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('networkProfilesController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.nic_name = editJSON.nic_name;
		$scope.edit.nsg_name = editJSON.nsg_name;
		$scope.edit.vnet_name = editJSON.vnet_name;
		$scope.edit.subnet_name = editJSON.subnet_name;
		$scope.edit.ip_name = editJSON.public_ip_info.ip_name;
		$scope.edit.public_ip_allocation_method = editJSON.public_ip_info.ip_allocation_method;
		$scope.edit.dns_label = editJSON.public_ip_info.dns_label;
		$scope.edit.private_ip_allocation_method = editJSON.private_ip_info.ip_allocation_method;

		$scope.edit.runtime = {};
		$scope.edit.runtime.nic_name = (editJSON.runtime.nic_name)?editJSON.runtime.nic_name:false;
		$scope.edit.runtime.nsg_name = false;//(editJSON.runtime.nsg_name)?editJSON.runtime.nsg_name:false;
		$scope.edit.runtime.vnet_name = false;//(editJSON.runtime.vnet_name)?editJSON.runtime.vnet_name:false;
		$scope.edit.runtime.subnet_name = false;//(editJSON.runtime.subnet_name)?editJSON.runtime.subnet_name:false;
		$scope.edit.runtime.ip_name = (editJSON.runtime.public_ip_info &amp;&amp; editJSON.runtime.public_ip_info.ip_name)?editJSON.runtime.public_ip_info.ip_name:false;
		$scope.edit.runtime.public_ip_allocation_method = (editJSON.runtime.public_ip_info &amp;&amp; editJSON.runtime.public_ip_info.ip_allocation_method)?editJSON.runtime.public_ip_info.ip_allocation_method:false;
		$scope.edit.runtime.dns_label = (editJSON.runtime.public_ip_info &amp;&amp; editJSON.runtime.public_ip_info.dns_label)?editJSON.runtime.public_ip_info.dns_label:false;
		$scope.edit.runtime.private_ip_allocation_method = (editJSON.runtime.private_ip_info &amp;&amp; editJSON.runtime.private_ip_info.ip_allocation_method)?editJSON.runtime.private_ip_info.ip_allocation_method:false;

		$scope.edit.disabled = {};
		$scope.edit.disabled.nic_name = (editJSON.disabled.nic_name+''=='true')?false:true;
		$scope.edit.disabled.nsg_name = true;//(editJSON.disabled.nsg_name+''=='true')?false:true;
		$scope.edit.disabled.vnet_name = true;//(editJSON.disabled.vnet_name+''=='true')?false:true;
		$scope.edit.disabled.subnet_name = true;//(editJSON.disabled.subnet_name+''=='true')?false:true;
		$scope.edit.disabled.ip_name = (editJSON.disabled.public_ip_info &amp;&amp; editJSON.disabled.public_ip_info.ip_name+''=='true')?false:true;
		$scope.edit.disabled.public_ip_allocation_method = (editJSON.disabled.public_ip_info &amp;&amp; editJSON.disabled.public_ip_info.ip_allocation_method+''=='true')?false:true;
		$scope.edit.disabled.dns_label = (editJSON.disabled.public_ip_info &amp;&amp; editJSON.disabled.public_ip_info.dns_label+''=='true')?false:true;
		$scope.edit.disabled.private_ip_allocation_method = (editJSON.disabled.private_ip_info &amp;&amp; editJSON.disabled.private_ip_info.ip_allocation_method+''=='true')?false:true;

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].nic_name = editJSON.nic_name;
		$scope.JSONdata[editJSON.index].nsg_name = editJSON.nsg_name;
		$scope.JSONdata[editJSON.index].vnet_name = editJSON.vnet_name;
		$scope.JSONdata[editJSON.index].subnet_name = editJSON.subnet_name;
		$scope.JSONdata[editJSON.index].public_ip_info.ip_name = editJSON.ip_name;
		$scope.JSONdata[editJSON.index].public_ip_info.ip_allocation_method = editJSON.public_ip_allocation_method;
		$scope.JSONdata[editJSON.index].public_ip_info.dns_label = editJSON.dns_label;
		$scope.JSONdata[editJSON.index].private_ip_info.ip_allocation_method = editJSON.private_ip_allocation_method;


		$scope.JSONdata[editJSON.index].runtime.nic_name = editJSON.runtime.nic_name;
		$scope.JSONdata[editJSON.index].runtime.nsg_name = editJSON.runtime.nsg_name;
		$scope.JSONdata[editJSON.index].runtime.vnet_name = editJSON.runtime.vnet_name;
		$scope.JSONdata[editJSON.index].runtime.subnet_name = editJSON.runtime.subnet_name;

		$scope.JSONdata[editJSON.index].runtime.public_ip_info = {};
		$scope.JSONdata[editJSON.index].runtime.private_ip_info  = {};

		$scope.JSONdata[editJSON.index].runtime.public_ip_info.ip_name = editJSON.runtime.ip_name;
		$scope.JSONdata[editJSON.index].runtime.public_ip_info.ip_allocation_method = editJSON.runtime.public_ip_allocation_method;
		$scope.JSONdata[editJSON.index].runtime.public_ip_info.dns_label = editJSON.runtime.dns_label;
		$scope.JSONdata[editJSON.index].runtime.private_ip_info.ip_allocation_method = editJSON.runtime.private_ip_allocation_method;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});



app.directive('simpleDiskUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "simpleDiskController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Use existing disk&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk&lt;/th&gt;&lt;th class="padded-fields"&gt;Storage Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Source Image&lt;/th&gt;&lt;th class="padded-fields"&gt;Size in GB&lt;/th&gt;&lt;th class="padded-fields"&gt;Delete when instance is deleted&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="data.data_source_reference==null" ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{(data.boot)?\'BOOT DISK\':\'ADDITIONAL DISK\'}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{(data.source)?true:false}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.source}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.initializeParams.diskType}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.initializeParams.sourceImage}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.initializeParams.diskSizeGb}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.autoDelete}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;{{(edit.boot)?\'BOOT DISK\':\'ADDITIONAL DISK\'}}&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt;&lt;div class="form-group"&gt; &lt;input ng-model="edit.useExisting" type="checkbox" /&gt;Use existing disk&lt;/div&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Disk&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.source" type="checkbox" ng-disabled="edit.disabled.source" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.source" ng-disabled="edit.disabled.source" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Storage Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.diskType" type="checkbox" ng-disabled="edit.disabled.diskType" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.diskType" ng-disabled="edit.disabled.diskType" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Source Image&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.sourceImage" type="checkbox" ng-disabled="edit.disabled.sourceImage" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.sourceImage" ng-disabled="edit.disabled.sourceImage" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Size in GB&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.diskSizeGb" type="checkbox" ng-disabled="edit.disabled.diskSizeGb" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.diskSizeGb" ng-disabled="edit.disabled.diskSizeGb" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;div class="form-group"&gt; &lt;input ng-model="edit.autoDelete" type="checkbox" ng-disabled="edit.disabled.autoDelete" /&gt;Delete when instance is deleted&lt;/div&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.autoDelete" type="checkbox" ng-disabled="edit.disabled.autoDelete" /&gt;Runtime&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('simpleDiskController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.boot = editJSON.boot;
		$scope.edit.diskType = editJSON.initializeParams.diskType;
		$scope.edit.sourceImage = editJSON.initializeParams.sourceImage;
		$scope.edit.diskSizeGb = editJSON.initializeParams.diskSizeGb;
		$scope.edit.autoDelete = editJSON.autoDelete;

		$scope.edit.useExisting = (editJSON.source)?true:false;
		$scope.edit.source = editJSON.source;

		$scope.edit.runtime = {};
		$scope.edit.runtime.diskType = (editJSON.runtime.initializeParams &amp;&amp; editJSON.runtime.initializeParams.diskType)?editJSON.runtime.initializeParams.diskType:false;
		$scope.edit.runtime.sourceImage = (editJSON.runtime.initializeParams &amp;&amp; editJSON.runtime.initializeParams.sourceImage)?editJSON.runtime.initializeParams.sourceImage:false;
		$scope.edit.runtime.diskSizeGb = (editJSON.runtime.initializeParams &amp;&amp; editJSON.runtime.initializeParams.diskSizeGb)?editJSON.runtime.initializeParams.diskSizeGb:false;
		$scope.edit.runtime.autoDelete = (editJSON.runtime.autoDelete)?editJSON.runtime.autoDelete:false;		
		$scope.edit.runtime.source = (editJSON.runtime.source)?editJSON.runtime.source:false;		


		$scope.edit.disabled = {};
		$scope.edit.disabled.diskType = (editJSON.disabled.initializeParams &amp;&amp; editJSON.disabled.initializeParams.diskType+''=='true')?false:true;
		$scope.edit.disabled.sourceImage = (editJSON.disabled.initializeParams &amp;&amp; editJSON.disabled.initializeParams.sourceImage+''=='true')?false:true;
		$scope.edit.disabled.diskSizeGb = (editJSON.disabled.initializeParams &amp;&amp; editJSON.disabled.initializeParams.diskSizeGb+''=='true')?false:true;
		$scope.edit.disabled.autoDelete = (editJSON.disabled.autoDelete+''=='true')?false:true;
		$scope.edit.disabled.source = (editJSON.disabled.source+''=='true')?false:true;	
	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].initializeParams.diskType = editJSON.diskType;
		$scope.JSONdata[editJSON.index].initializeParams.sourceImage = editJSON.sourceImage;
		$scope.JSONdata[editJSON.index].initializeParams.diskSizeGb = editJSON.diskSizeGb;
		$scope.JSONdata[editJSON.index].autoDelete = editJSON.autoDelete;

		$scope.JSONdata[editJSON.index].source = editJSON.source;

		$scope.JSONdata[editJSON.index].runtime.initializeParams = {};

		$scope.JSONdata[editJSON.index].runtime.initializeParams.diskType = editJSON.runtime.diskType;
		$scope.JSONdata[editJSON.index].runtime.initializeParams.sourceImage = editJSON.runtime.sourceImage;
		$scope.JSONdata[editJSON.index].runtime.initializeParams.diskSizeGb = editJSON.runtime.diskSizeGb;
		$scope.JSONdata[editJSON.index].runtime.autoDelete = editJSON.runtime.autoDelete;
		$scope.JSONdata[editJSON.index].runtime.source = editJSON.runtime.source;


		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});




app.directive('blankDisksUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "blankDisksController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Size in GB&lt;/th&gt;&lt;th class="padded-fields"&gt;Delete when instance is deleted&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.disk_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.sizeGb}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.autoDelete}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Disk Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.disk_type" type="checkbox" ng-disabled="edit.disabled.disk_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.disk_type" ng-disabled="edit.disabled.disk_type" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Disk Name&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.name" type="checkbox" ng-disabled="edit.disabled.name" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.name" ng-disabled="edit.disabled.name" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Size in GB&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.sizeGb" type="checkbox" ng-disabled="edit.disabled.sizeGb" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.sizeGb" ng-disabled="edit.disabled.sizeGb" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt;&lt;div class="form-group"&gt; &lt;input ng-model="edit.autoDelete" type="checkbox" ng-disabled="!global_configuration" ng-disabled="edit.disabled.autoDelete" /&gt;Delete when instance is deleted&lt;/div&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.autoDelete" type="checkbox" ng-disabled="edit.disabled.autoDelete" /&gt;Runtime&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('blankDisksController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.disk_type = editJSON.disk_type;
		$scope.edit.name = editJSON.name;
		$scope.edit.sizeGb = editJSON.sizeGb;
		$scope.edit.autoDelete = editJSON.autoDelete;

		$scope.edit.runtime = {};
		$scope.edit.runtime.disk_type = (editJSON.runtime.disk_type)?editJSON.runtime.disk_type:false;
		$scope.edit.runtime.name = (editJSON.runtime.name)?editJSON.runtime.name:false;
		$scope.edit.runtime.sizeGb = (editJSON.runtime.sizeGb)?editJSON.runtime.sizeGb:false;
		$scope.edit.runtime.autoDelete = (editJSON.runtime.autoDelete)?editJSON.runtime.autoDelete:false;		

		$scope.edit.disabled = {};
		$scope.edit.disabled.disk_type = (editJSON.disabled.disk_type+''=='true')?false:true;	
		$scope.edit.disabled.name = (editJSON.disabled.name+''=='true')?false:true;	
		$scope.edit.disabled.sizeGb = (editJSON.disabled.sizeGb+''=='true')?false:true;	
		$scope.edit.disabled.autoDelete = (editJSON.disabled.autoDelete+''=='true')?false:true;	
	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].disk_type = editJSON.disk_type;
		$scope.JSONdata[editJSON.index].name = editJSON.name;
		$scope.JSONdata[editJSON.index].sizeGb = editJSON.sizeGb;
		$scope.JSONdata[editJSON.index].autoDelete = editJSON.autoDelete;

		$scope.JSONdata[editJSON.index].runtime = {};

		$scope.JSONdata[editJSON.index].runtime.disk_type = editJSON.runtime.disk_type;
		$scope.JSONdata[editJSON.index].runtime.name = editJSON.runtime.name;
		$scope.JSONdata[editJSON.index].runtime.sizeGb = editJSON.runtime.sizeGb;
		$scope.JSONdata[editJSON.index].runtime.autoDelete = editJSON.runtime.autoDelete;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});


app.directive('networkingUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "networkingController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Network&lt;/th&gt;&lt;th class="padded-fields"&gt;Subnetwork&lt;/th&gt;&lt;th class="padded-fields"&gt;Access Configuration Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Access Configuration Type&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.network}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.subnetwork}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.accessConfigs[0].name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.accessConfigs[0].config_type}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Network&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.network" type="checkbox" ng-disabled="edit.disabled.network" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.network" ng-disabled="edit.disabled.network" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Subnetwork&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.subnetwork" type="checkbox" ng-disabled="edit.disabled.subnetwork" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.subnetwork" ng-disabled="edit.disabled.subnetwork" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Access Configuration Name&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.name" type="checkbox" ng-disabled="edit.disabled.name" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.name" ng-disabled="edit.disabled.name" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Access Configuration Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.config_type" type="checkbox" ng-disabled="edit.disabled.config_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.config_type" ng-disabled="edit.disabled.config_type" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('networkingController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.network = editJSON.network;
		$scope.edit.subnetwork = editJSON.subnetwork;
		$scope.edit.name = editJSON.accessConfigs[0].name;
		$scope.edit.config_type = editJSON.accessConfigs[0].config_type;

		$scope.edit.runtime = {};
		$scope.edit.runtime.network = (editJSON.runtime.network)?editJSON.runtime.network:false;
		$scope.edit.runtime.subnetwork = (editJSON.runtime.subnetwork)?editJSON.runtime.subnetwork:false;
		$scope.edit.runtime.name = (editJSON.runtime.accessConfigs[0].name)?editJSON.runtime.accessConfigs[0].name:false;
		$scope.edit.runtime.config_type = (editJSON.runtime.accessConfigs[0].config_type)?editJSON.runtime.accessConfigs[0].config_type:false;		

		$scope.edit.disabled = {};
		$scope.edit.disabled.network = (editJSON.disabled.network+''=='true')?false:true;	
		$scope.edit.disabled.subnetwork = (editJSON.disabled.subnetwork+''=='true')?false:true;	
		$scope.edit.disabled.name = (editJSON.disabled.accessConfigs[0].name+''=='true')?false:true;	
		$scope.edit.disabled.config_type = (editJSON.disabled.accessConfigs[0].config_type+''=='true')?false:true;	

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].network = editJSON.network;
		$scope.JSONdata[editJSON.index].subnetwork = editJSON.subnetwork;
		$scope.JSONdata[editJSON.index].accessConfigs[0].name = editJSON.name;
		$scope.JSONdata[editJSON.index].accessConfigs[0].config_type = editJSON.config_type;

		$scope.JSONdata[editJSON.index].runtime = {};

		$scope.JSONdata[editJSON.index].runtime.network = editJSON.runtime.network;
		$scope.JSONdata[editJSON.index].runtime.subnetwork = editJSON.runtime.subnetwork;

		$scope.JSONdata[editJSON.index].runtime.accessConfigs = [];
		$scope.JSONdata[editJSON.index].runtime.accessConfigs[0] = {};

		$scope.JSONdata[editJSON.index].runtime.accessConfigs[0].name = editJSON.runtime.name;
		$scope.JSONdata[editJSON.index].runtime.accessConfigs[0].config_type = editJSON.runtime.config_type;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});




app.directive('storageProfileDataDisksUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "storageProfileDataDisksController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk Name&lt;/th&gt;&lt;th class="padded-fields"&gt;Storage Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk Caching Type&lt;/th&gt;&lt;th class="padded-fields"&gt;Size (GB)&lt;/th&gt;&lt;th class="padded-fields"&gt;Disk LUN&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.name}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.storage_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.caching_type}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.size_in_gb}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.lun}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Disk Name&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.name" type="checkbox" ng-disabled="edit.disabled.name" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.name" ng-disabled="edit.disabled.name" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="volume_type"&gt;Storage Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.storage_type" type="checkbox" ng-disabled="edit.disabled.storage_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.storage_type" ng-disabled="edit.disabled.storage_type" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Disk Caching Type&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.caching_type" type="checkbox" ng-disabled="edit.disabled.caching_type" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.caching_type" ng-disabled="edit.disabled.caching_type" /&gt;&lt;/div&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Size (GB)&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.size_in_gb" type="checkbox" ng-disabled="edit.disabled.size_in_gb" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.size_in_gb" ng-disabled="edit.disabled.size_in_gb" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Disk LUN&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.lun" type="checkbox" ng-disabled="edit.disabled.lun" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.lun" ng-disabled="edit.disabled.lun" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('storageProfileDataDisksController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.name = editJSON.name;
		$scope.edit.storage_type = editJSON.storage_type;
		$scope.edit.caching_type = editJSON.caching_type;
		$scope.edit.size_in_gb = editJSON.size_in_gb;
		$scope.edit.lun = editJSON.lun;

		$scope.edit.runtime = {};
		$scope.edit.runtime.name = (editJSON.runtime.name)?editJSON.runtime.name:false;
		$scope.edit.runtime.storage_type = (editJSON.runtime.storage_type)?editJSON.runtime.storage_type:false;
		$scope.edit.runtime.caching_type = (editJSON.runtime.caching_type)?editJSON.runtime.caching_type:false;
		$scope.edit.runtime.size_in_gb = (editJSON.runtime.size_in_gb)?editJSON.runtime.size_in_gb:false;
		$scope.edit.runtime.lun = (editJSON.runtime.lun)?editJSON.runtime.lun:false;

		$scope.edit.disabled = {};
		$scope.edit.disabled.name = (editJSON.disabled.name+''=='true')?false:true;	
		$scope.edit.disabled.storage_type = (editJSON.disabled.storage_type+''=='true')?false:true;	
		$scope.edit.disabled.caching_type = (editJSON.disabled.caching_type+''=='true')?false:true;	
		$scope.edit.disabled.size_in_gb = (editJSON.disabled.size_in_gb+''=='true')?false:true;	
		$scope.edit.disabled.lun = (editJSON.disabled.lun+''=='true')?false:true;	

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].name = editJSON.name;
		$scope.JSONdata[editJSON.index].storage_type = editJSON.storage_type;
		$scope.JSONdata[editJSON.index].caching_type = editJSON.caching_type;
		$scope.JSONdata[editJSON.index].size_in_gb = editJSON.size_in_gb;
		$scope.JSONdata[editJSON.index].lun = editJSON.lun;


		$scope.JSONdata[editJSON.index].runtime = {};

		$scope.JSONdata[editJSON.index].runtime.name = editJSON.runtime.name;
		$scope.JSONdata[editJSON.index].runtime.storage_type = editJSON.runtime.storage_type;
		$scope.JSONdata[editJSON.index].runtime.caching_type = editJSON.runtime.caching_type;
		$scope.JSONdata[editJSON.index].runtime.size_in_gb = editJSON.runtime.size_in_gb;
		$scope.JSONdata[editJSON.index].runtime.lun = editJSON.runtime.lun;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});





app.directive('osProfileUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "osProfileController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt;&lt;table class="table"&gt;&lt;thead&gt;&lt;tr class="padded-row"&gt;&lt;th class="padded-fields"&gt;Actions&lt;/th&gt;&lt;th class="padded-fields"&gt;Secrets&lt;/th&gt;&lt;th class="padded-fields"&gt;Vault ID&lt;/th&gt;&lt;th class="padded-fields"&gt;Certificate Count&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr ng-if="JSONdata.length!=0" ng-repeat="data in JSONdata"&gt;&lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{$index+1}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.source_vault_id}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.vault_certificates.length}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt;&lt;div class="modal-dialog"&gt;&lt;div class="modal-content"&gt;&lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt;&lt;h4 class="modal-title"&gt;Secrets&lt;/h4&gt;&lt;/div&gt;&lt;div class="modal-body"&gt;&lt;form name="editForm"&gt;&lt;div class="row"&gt;&lt;div class="col-md-6"&gt; &lt;label for="device"&gt;Vault ID&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.source_vault_id" type="checkbox" ng-disabled="edit.disabled.source_vault_id" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="edit.source_vault_id" ng-disabled="edit.disabled.source_vault_id" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="row" ng-repeat="(i, data) in edit.vault_certificates"&gt;&lt;div class="col-md-12"&gt; &lt;label for="device"&gt;Certificate Config URL&lt;/label&gt;&lt;div ng-show="global_configuration" class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime.vault_certificates[i].certificate_url" type="checkbox" ng-disabled="edit.disabled.vault_certificates[i].certificate_url" /&gt;Runtime&lt;/div&gt; &lt;input class="form-control" type="text" ng-model="data.certificate_url" ng-disabled="edit.disabled.vault_certificates[i].certificate_url" /&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('osProfileController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.source_vault_id = editJSON.source_vault_id;
		$scope.edit.vault_certificates = editJSON.vault_certificates;

		$scope.edit.runtime = {};
		$scope.edit.runtime.source_vault_id = (editJSON.runtime.source_vault_id)?editJSON.runtime.source_vault_id:false;

		$scope.edit.disabled = {};
		$scope.edit.disabled.source_vault_id = (editJSON.disabled.source_vault_id+''=='true')?false:true;	

		for(var i in editJSON.vault_certificates){

			if(!$scope.edit.runtime.vault_certificates)
				$scope.edit.runtime.vault_certificates = {};

			if(!$scope.edit.runtime.vault_certificates[i])
				$scope.edit.runtime.vault_certificates[i]={};


			$scope.edit.runtime.vault_certificates[i].certificate_url = (editJSON.runtime.vault_certificates &amp;&amp; editJSON.runtime.vault_certificates[i] &amp;&amp; editJSON.runtime.vault_certificates[i].certificate_url)?editJSON.runtime.vault_certificates[i].certificate_url:false;	

			if(!$scope.edit.disabled.vault_certificates)
				$scope.edit.disabled.vault_certificates = {};

			if(!$scope.edit.disabled.vault_certificates[i])
				$scope.edit.disabled.vault_certificates[i]={};


			$scope.edit.disabled.vault_certificates[i].certificate_url = (editJSON.disabled.vault_certificates &amp;&amp; editJSON.disabled.vault_certificates[i] &amp;&amp; editJSON.disabled.vault_certificates[i].certificate_url+''=='true')?false:true;	
		}

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].source_vault_id = editJSON.source_vault_id;
		$scope.JSONdata[editJSON.index].vault_certificates = editJSON.vault_certificates;

		$scope.JSONdata[editJSON.index].runtime = editJSON.runtime;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});






app.directive('guestCustomizationDhcpUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "guestCustomizationDhcpController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div class="portlist_main-container"&gt; &lt;table class="table"&gt; &lt;thead&gt; &lt;tr class="padded-row"&gt; &lt;th class="padded-fields"&gt;Actions&lt;/th&gt; &lt;th class="padded-fields"&gt;SNo.&lt;/th&gt; &lt;th class="padded-fields"&gt;Use DHCP&lt;/th&gt; &lt;th class="padded-fields"&gt;Runtime&lt;/th&gt; &lt;/tr&gt;&lt;/thead&gt; &lt;tbody&gt; &lt;tr ng-if="JSONdata.length!=0" ng-repeat="data in JSONdata"&gt; &lt;td class="padded-fields"&gt;&lt;a href="#" data-toggle="modal" data-target="#_editModal" ng-click="initializeEditModal($index, data, false);"&gt;&lt;i id="ebsDataIcon" class="icon-edit"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/td&gt;&lt;td class="padded-fields"&gt;{{$index+1}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{data.is_dhcp}}&lt;/td&gt;&lt;td class="padded-fields"&gt;{{(data.runtime.is_dhcp)?data.runtime.is_dhcp:false}}&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt; &lt;/table&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog" ng-if="false"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;form name="editForm"&gt; &lt;div class="row"&gt; &lt;div class="col-md-6"&gt; &lt;div class="form-group"&gt; &lt;input ng-model="edit.is_dhcp" type="checkbox" ng-disabled="edit.disabled"/&gt;Use DHCP&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;div class="disk_runtime-checkbox"&gt; &lt;input ng-model="edit.runtime" type="checkbox" ng-disabled="edit.disabled"/&gt;Runtime&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt; &lt;/div&gt;&lt;div class="modal-footer"&gt; &lt;button type="button" class="btn btn-default portlist_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt; &lt;button type="button" class="btn btn-primary portlist_btn-modal" data-dismiss="modal" ng-click="editEntry(edit);"&gt;Save&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id="_editModal" class="modal fade" role="dialog"&gt; &lt;div class="modal-dialog"&gt; &lt;div class="modal-content"&gt; &lt;div class="modal-header"&gt; &lt;a data-dismiss="modal" class="close" href="#"&gt;&lt;i class="icon-cross"&gt;&lt;/i&gt;&lt;/a&gt; &lt;h4 class="modal-title"&gt;Edit Row&lt;/h4&gt; &lt;/div&gt;&lt;div class="modal-body"&gt; &lt;p style="text-align: center;font-size: medium;"&gt;You can set or edit this field in Calm GUI.&lt;/p&gt;&lt;/div&gt;&lt;div class="modal-footer"&gt;&lt;button type="button" class="btn btn-default disk_btn-modal" data-dismiss="modal"&gt;Close&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'
	};
});

app.controller('guestCustomizationDhcpController', function($scope) {

	$scope.JSONdata = {};

	$scope.parsingJSON = function(passedjson) {
		$scope.JSONdata = JSON.parse(passedjson);
		$scope.global_configuration = true;
	};

	//$scope.initializedEditModal --&gt; initialize all the variables with values from editJSON to render it into editModal
	//PARAMS : index    --&gt; provide the index value to selected entry from the table
	//         editJSON --&gt; contains the JSON of selected entry
	//         rootFlag --&gt; states whether entry is root entry or ebs entry
	$scope.initializeEditModal = function (index, editJSON) {
		
		//alert('You can set or edit this field in Calm GUI.');
		return;
		
		$scope.edit ={};
		$scope.edit.index = index;
		$scope.edit.is_dhcp = editJSON.is_dhcp;

		$scope.edit.runtime = (editJSON.runtime.is_dhcp)?editJSON.runtime.is_dhcp:false;
		$scope.edit.disabled = (editJSON.disabled.is_dhcp+''=='true')?false:true;	

	};

	//$scope.editEntry --&gt; edit the specific entry from the main JSON
	$scope.editEntry = function (editJSON) {

		$scope.JSONdata[editJSON.index].is_dhcp = editJSON.is_dhcp;

		$scope.JSONdata[editJSON.index].runtime.is_dhcp = editJSON.runtime;

		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId] = $scope.JSONdata;
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
});










app.directive('multiSelectUiPage', function() {
	return {
		restrict: 'A',
		scope: {
			passedTitle: '@',
			passedCategory: '@',
			passedSysId: '@',
			passedJson: '@'
		},
		controller: "multiSelectController",
		template: '&lt;div ng-init="parsingJSON(passedJson);"&gt;&lt;div style="display: -webkit-inline-box; margin: 3px;" &gt;&lt;div ng-repeat="(option, selection) in options" ng-if="selection==true"&gt;&lt;span style="margin: 3px; padding: 5px; border: 1px solid rgba(0, 126, 255, 0.24); line-height: 13px; font-size: 12px; display: inline-block; border-radius: 2px; background-color: rgba(0, 126, 255, 0.08); color: #007eff;"&gt;{{option}}&lt;a href="#" ng-click="unselectOption(option)"&gt;&lt;i class="icon-cross" style="padding-left: 7px;font-size: 11px;margin-top: -4px;"&gt;&lt;/i&gt;&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;select class="form-control" ng-disabled="JSONData.isdisabled+\'\'==\'true\'" ng-change="selectOption()" ng-model="valueAt"&gt;&lt;option ng-repeat="(option, selection) in options" ng-if="selection==false" value="{{option}}" &gt;{{option}}&lt;/option&gt; &lt;/select&gt;&lt;/div&gt;'
	};
});

app.controller('multiSelectController', function($scope) {
	
	$scope.finalArr = [];
	
	$scope.parsingJSON = function(passedJson){
		var parsedJson = JSON.parse(passedJson);
		
		var options = parsedJson.options;
		var value = (parsedJson.value+'').split(',');
		var tmp = {};
		
		for(var i=0; i&lt;options.length; i++){
			
			if(!options[i])
				continue;
			
			tmp[options[i]] = false;
		}
		
		for(var i=0; i&lt;value.length; i++){
			
			if(!value[i])
				continue;
			
			$scope.finalArr.push(value[i]);
			tmp[value[i]] = true;	
		}
	
	//	console.log(JSON.stringify(tmp));
		
		$scope.options = tmp;
	};
	
	$scope.selectOption = function(){
		
		if(!$scope.valueAt)
			return;
		
		$scope.options[$scope.valueAt] = true;
		$scope.finalArr.push($scope.valueAt);
		
		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId].value = $scope.finalArr.toString();
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};
	
	$scope.unselectOption = function(val){
		
		$scope.options[val] = false;
		
		var arr = $scope.finalArr;
		var index = arr.indexOf(val);
		if (index &gt; -1) {
			arr.splice(index, 1);
		}
		$scope.finalArr = arr;
		
		var service_data = JSON.parse(g_form.getValue('service_data'));
		service_data[$scope.passedTitle][$scope.passedCategory][$scope.passedSysId].value = $scope.finalArr.toString();
		$scope.$emit('updateEvent', service_data);
		g_form.setValue('service_data', JSON.stringify(service_data));
	};	
});

]]&gt;&lt;/script&gt;&lt;script_name&gt;Calm_Catalog_Service_Config_Script&lt;/script_name&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;girishgyani&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-04 20:08:14&lt;/sys_created_on&gt;&lt;sys_id&gt;db9441c237212300fdfc097973990e67&lt;/sys_id&gt;&lt;sys_mod_count&gt;694&lt;/sys_mod_count&gt;&lt;sys_name&gt;x_nuta2_nutanix_ca.Calm_Catalog_Service_&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_db9441c237212300fdfc097973990e67&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;priyanka.more&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-13 11:22:53&lt;/sys_updated_on&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>-824638093</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>f224eee4db711010eeb9808768961956</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1720de5fb800000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.Calm_Catalog_Service_</target_name>
<type>UI Script</type>
<update_domain>global</update_domain>
<update_guid>80997ab0b93010107ab53500786fc273</update_guid>
<update_guid_history>80997ab0b93010107ab53500786fc273:-824638093,91bbbaece3bc50105580ff9af1b38af6:-824638093,a6cabeac1dbc5010e1b6948364bdc039:-2039579104,02d79c05708c5c1066b40112bf4bad0e:1737653246,88771cc16a8c5c10c99da9d7b554e7e2:679039966,2d9554c1908c5c10c2099f2662d1f3a4:-873098818,a3159881ba8c5c108202f02197a15187:734937726,82a49481af8c5c1070a80fac5a35fe0f:-1567352386,f232dccd114c5c10f424f29e82614a14:-1717880384,b8001c0d184c5c10a2a5e35c85e00130:286045440,e6dec8c9ee4c5c107f61c7fe7d2fa346:-232711584,a6a04481124c5c1098cf2b4f1da56f20:-2067744671,c245f7b4aa0c5c1099060992c712d591:1908451675,6f19d9a4b53f4010f25b7050719f8930:-861419333,e6939f6fd3ce449012e5e38c9529be07:1908451675,97d412f8cfcc33009548fd247eedade2:-1431915761,529392b8e3cc3300a093d45dd188c3ef:-589527608,3bb21ef478cc33005cd5b75850d6efd1:-801963142,3e2256380dcc3300de8ef1c592fadd36:1092752787,43705674dfcc3300e06ad476c824a7a1:855820526,76dcbd24c50433001592da757a610cc8:545347597,2b3cfd24c90433007a77c7fe844b6eeb:2009474843,674afda07004330050d36577cbb51c91:545347597,8a58f9a0500433005ca6cccd6fbf74e4:-992094261,f60731a0b70433005795dc0405c55cc5:1579140894,9a4631a05b04330003b7d7d6bb954790:647942130,22753120ea043300cf5855f383d0d947:-1612744334,3744b520620433006f881b848808514a:1585317422,15d37120c0043300b1ef0f02f69e5934:748363634,2473fdac44c0330075f9c352b67029d9:-108338589,2e02f9ace5c0330062d2642474ec892b:-1982890284,aa81b1ac6ec03300055372f7a292febb:1488394879,8266e524e0c033000d724484364547dd:1099059551,2e34ede04bc033005d2b29640e635f13:-297108577,d9e32d60cdc0330037a4e66af691a776:-2109123476,4ec36de01bc033008f1a0fd6e1b7866e:2144499577,aa3ac1ac7b4033002353b1c80f7f389b:2085147135,e20e78a0f94033001472ad9062bc1fb3:-117929350,a5dd78a089403300a5f64c7406366caf:-1748347026,34c860a4df003300342a13995ee80018:-1799966414,4118a064ed0033007923b2f0a261bdf1:-912143918,5c8439a752bf2300fab27a2847ea789c:-1799966414,2b4cc56f603f23001c33284e62b3d964:-1142318777,473acdebb13f2300f8a1b6ade47987d6:322336713,a6b1398879b7230091b9e4ab252156d7:-162248238,821b3a90b4222300868c95f746aa868b:-1964749064,683c2100ad622300cb91d871879af888:-1683450280,cc93812ec8d2630049f59667d087606f:1630276649,c07dd6c753826300a893970eff47bae4:423890997,e85d1ac73082630055d9db66b024bd12:1760520153,0246399a338ea300d73c1432b9526be4:423890997,6206f5129ecea30030b7dc2a76cb3993:261511307,929531de398ea30076cdaf2f5782f202:-314292382,44c6d635f00a63009968565d2e9d9761:-501876213,ecad94bdd8c26300e85526adb1bb6c25:1820963679,60ac5831c1066300c47dc71b3d393e05:68997323,cf7bd8bd62c263008f5e9ee019759d3f:-294119870,114bd8bd7bc263002f7ba2ee06d0d3ce:-152280491,be49903d39c26300efff847e505d5b13:289862433,fba8943d7bc26300cd058846f5e572d0:529087331,2d481879e8c26300e9e59f5576bb8255:651187334,0667503d8ec263006c3c3ae1714091e5:-444004130,978498f9cdc2630095b990cfa90337c8:1643805839,a4e35879c5c2630086efa7b2ce5fb102:482306599,cfb2d8395ac26300a5ebe48e1ca4971d:-1426255984,badfc8394fc2630016d383c37e61f542:1297902004,81fec8399bc263005a515c143c5d4c18:-308594361,236e88f50ac26300a2b8f80b3c2f5eed:-502869701,f3bc88b55bc2630034c4f76202b22fe9:1152770812,c59c88f51bc26300870fd4e03733d685:1233708474,7efb00358fc26300cfa54a574497f371:1758977364,6b8b00f56bc26300470a0ec093b012e5:600965492,6bda007547c26300dd29766dab8eeab6:-1992371162,d1e7887179c26300cfd48d2b6665595d:1931670243,1d07083514c26300051caea5b9fd1093:-40972797,9bc44871afc2630092ddca5c6e1c3d31:-275644943,4314c8b109c263008a5349e25cfbb245:804908593,ed30732952826300da30765308d4af21:-359776069,a5103be559826300237df6a1384f90b1:812276184,0abea7a54f82630094bf865325776ae3:-359776069,d06e6b65b4826300ca0c11ec8c3da15c:-1014399151,619d2b65ba826300f3c32c924a793b3f:-132391791,138b2365ca826300f1d1b4fc189566bf:-150317108,842b6b25cc8263007f10f913a57a7cdb:-1103409994,f2cae725c68263007756e7181fff7b91:1274341228,1088a721b3826300569bc9c73f7909e5:5560923,3767a7a1b882630049c3909351f465b9:-697249986,f0b2a7ed93426300bf5b713cd6f0eab8:-494204128,d104d0a48e8200500b235b24238be690:1156528091,32425b901ccecc10f7762343045571e2:1891700713,fac8125201ff7300d4ad46115de91ec8:-864059845,855b44dd4c3b3300decec60d89c36ec1:872815447,f26e4ec41fff330061ef88b7d6a96e4f:905768446,2cdaba1cfbf373004a87279fa629e684:-369800677,1bf63ad43cf373005514f4d8e2b7597d:-1706832671,f1bce658ecb3730096544bd92c4c8048:1795324476,b36e6e0816bf730035c5bc0cedcbb5b5:1980911416,4b3ea6c434bf7300a58123d3f070fcef:1880773507,ff844e00807f73007110e6c004768b62:-363887976,1e14ceccf13f73001909af9c97751c2b:-1479339910,8163c68c533f7300c8a4da7d56dd2c8d:46151046,87238e4c163f73009fa0e4fc35b1bc7a:1099001884,f1e0420cce3f73009f7e694b85f1aa26:-434349723,719f31c8673f7300ab84e837b54a97ff:1099001884,2a5fb1c8983f730026d15e1ab580eaae:46151046,1b9bbd44053f7300c1cd1e32fe35696a:-1761445183,ceaa39c0823f73005c605b7c6c408862:1109367705,9ab97144043f73006b065a8c41155aad:-857792399,144ba5c8c1fb73008055774fd5a451f4:1691362612,7dc96984affb7300ecdefdbf95133145:272346575,2ca6e1c41cfb730090c50a9041b8ffed:1691362612,1c156d8072fb7300e787ff10fcc848bf:2059170102,7d92e940b7fb730031360a49a1762df6:1691362612,0d71e98090fb730005a3befb0ae6f46e:1630886574,954974d2a4a7f30048b6d3243875f5e6:1442339271,6fa8f4d66aa7f30083eaa6bf5a12ea40:2031417170,1be1b892a4a7f300aecdddbca46fcc47:-1462736450,05a174d219a7f300bae2f9ce0cc1fb79:-1537896416,50417c9216a7f30042acea787a924367:1443802611,d501349203a7f300476bc4cc9984e906:470040613,8f9034924ea7f3009004492387ee7301:1551364701,46307892fda7f3002ccc8707ba412664:1527497040,6befe092d4a7f300dcab750017746ed0:1843777612,fa0ca09e4f67f3002580b07216978fab:-1712254407,82dae8da8567f30075c6712aa0ba455c:545395961,2b5a60dace67f3003ca42da7a709d92a:1868482493,b548281e5067f300ad127f2e3f706274:-1191390793,9987ecda9e67f30053a8ab9802183118:-412632523,da86a81a7467f30077ba92995ae58251:-1310269035,8e26e8daf367f30057af018684caa057:-1792929615,74e5a49ace67f300ee2346aa6dc9281a:1802101333,5f65a89ac067f3005e379091473a9af0:1212616961,3d2524d67267f300347c8bb2de896473:-1862005645,36ce5c96ea67f30015f6bc685a8bf797:1212616961,effd9096ea67f300cdcbcb1f4fcd0fe2:-3963708,c17f6bca0ce3f30062e4a85e399e3654:1645169393,9cae6f8a17e3f300b90de082d3a8a92a:-95450270,7722a6c29523f300ceadbd6a05ecaf74:1010710111,2521ae42ab23f3001e454610692b25e0:-729817642,ac9f5ac28123f3008746bc86702bf32d:-1232322930,5e5e9e42ac23f300bba4d241ccffb0f0:2034890521,55612f1e4aa337006a957b85134da86b:-1782959649,5cd99f86482bf3008189cb66d88002ca:2081398751,aef81706512bf300f24cff719254021c:-353008248,16459b82882bf3002681bae67175d337:-871809540,092453027b2bf300f4e29f2ac3fe4340:1132041635,26d113ced1e7f3005bc1ae5faa459129:-1568975281,d48f8b4e57e7f300503315901d956fee:1576580410,c45f8b4e0be7f300513a10ffb48cceac:563879992,8aed8f4a5fe7f300c1db82b5bdc8cbc8:-583761212,c05a8f8a85e7f30061aa44a2bba3ae41:-1724656148,5ff8c34a82e7f3009c34e5dea5899534:-888772668,1a66cf4679e7f300355003379754e45d:1676776655,d335830690e7f3007312701981509af0:-1574140542,8cfe57156caf33002e0e81bc63552052:1882374621,adb3b7c5cd273300091366748842fd2b:30331230,54d077051027330097d2a6ccf904b342:1608500991,e8cf19117ee77300efba0c81c0181723:-58426942,b28f91112de77300f5c15fa264dd315d:683298488,45fe9d9d73a773003c00706774605130:-1597509034,07ae9d5dd6a7730036534d6e130b1dd4:1153075132,f56b9d5d51a773009d06be377a6cb73c:1008386012,0b2b2f4d65a3730092eaca9b47564ef0:-1590341781,527e5b85f2a37300c3ea5429a6a5aaac:1008386012,d93e9b45f7a37300dd208a4931a2c033:-196245695,0e995701baa3730033efc11e1f76fc08:16416134,9908f1a31c9f33008657fb492f4c3370:-1859093595,0b16b1a3349f33000ccfcc513ff46a33:2119377325,70c5712fc85f3300baed43bfc5d458e3:-326713781,5270392f385f3300501ebccb614be27a:-1796477561,bf5c616fba1f3300e9434da83298161b:-1317971764,07ebedeb895f3300c2ba292f233a704c:-485684187,f241e84d165f7300d82106165a869c65:1760905029,a509eb1cf497330094bf784d91da52cd:-269343621,9517af5887973300367c358be0cee578:-928620908,13756318ec973300bb67d6aaae0ec908:612110085,31b2a314f2973300aff6854e285dd232:-819001053,556397542e5733004fd7e48cde997a5d:-928620908,5f700354fe173300d0f28d9c7a9c5362:-387955778,7f300b54d91733004985f8f2fcf9bdf0:-653988709,217f3a54b9173300407fd57bd415b0ed:2107630462,d45f3654041733008937a73f54c2fd53:-1058306351,3f3b361051173300a2c9ccca1de4a011:-1299263595,feda3e506a17330035c91276314b1aa1:-2107978398,10ee8a03228fb300bcca4bf17c3c45be:-928620908,ff3e8acf094fb300ae6cffb791920b22:-579721247,216af14fd10fb300c21daff6e5868f4d:896658375,2d293dcb9a0fb300e96d7ef54a879a25:-121295058,502d6d8f64cbb3008b2290d9334df5ae:180900655,0db7658b2ccbb30017864b5505439f9f:1672486095,7537254b56cbb300e56f53317d9767d2:2107526492,1496218b7fcbb3008a4d85bba20f31fe:-767841612,d256a14bcfcbb3002bc6d160c50c4a7b:746825524,3a45614b4fcbb300af9e13c59038e6b0:-1011514623,fd152dc798cbb300a0a1eb791c494379:-137343033,202265c328cbb300c9f1ed9c59ffd573:1235331319,d6e06983cdcbb3000cf8caf9026dfb76:-780521520,622ec1faaccf7300ef3c4dc10986cbb4:24669704,1a615c3a010f7300b71b504c17b62468:-1835561705,48713062ff07730038588387c8cf8be2:-423750907,437ea86e7fc3730049b6304231bcc1d7:2033044287,ebfda8ae35c37300a342f4c873e5b223:1166979482,baad20aeddc37300bd63435395a5df54:-1103156076,c00da02e6dc37300116b3e15128365be:934503892,0bdce46e28c37300468e2c302fca791f:932901480,799ba4aac0c373003e678c629e565e69:-1103156076,525b2cea27c3730056c1190557e27f5b:1166979482,dfcaec6abec37300db2b6ad2577daf9c:-448223913,4399286a08c373004a3ebf2c50dab1c4:608100588,15692caa1cc37300ed2264e41d1db0d9:-1836053966,1d19a86ac1c37300ad6e9cdd87e271e8:-872548470,13f8a86a1ec37300f7e5ec29e2e494e4:1328228725,9cd8e466cfc373006fea4aa40400bf45:-718452280,4b98ec6a71c373004f20298f49624f97:1264431464,ca58e86a44c37300bb6110bcf762fa9a:1167263052,ec38a866c8c37300568cff2167ab4b97:-1369276498,5e1864e6cec37300bea97039c218e13d:445221350,c684282699c373003a4151b6813c4002:47605535,7eb1ac2669c37300286a95cd2f89f29c:58027673,b391242689c37300b17529d27c90cd93:-1247369647,a0f028267cc37300d7491d70e20fe97c:2089981402,4b80e42e6b8373007ab23914a9cc4a82:-479074413,be40686e618373007cc6f54cfb76b168:-1555193091,e7a4d8ea358373004fee931863bd8e3a:-633942217,3094186e1e83730049a163cfe70f7c0f:1749755455,9123d42e9c837300115b1944b57c637c:1473928033,ec031cea12837300e7678e5389451b9f:-1389893161,42721cea87837300263503601972a720:-1166912437,b722d86a5d837300469d08b9adc97487:1534134295,cbf1d86aa98373000f3c5d8811e4fd66:85876481,5291546aaf837300abcc6cc98147815b:-851472386,5571906691837300031bf9d6bb4cb723:1519404939,ad2f8ce6c1837300257786cf37362f1e:2132670442,4bfec8e6d5837300fc276b6512243942:-1308402462,61ed886615837300197aaeeb26048298:-1593514022,28bd0ca6ff8373008248d980de760054:462380449,34ccc06617837300a0d859207f796210:737718300,9dbc00a60e837300a977c80d55f5d00e:-1447818679,b38c40660b837300d7fc2712a52930e4:1336705564,ea4cc06612837300d455dead3911baea:-1345876004,8e0c4c26a6837300727a686fd68671a5:1303215595,1acb8cee354373005cdac4a8561066e9:-1519292002,809bc426df8373001dd0668d85efdf40:-295615377,dd2bc4aec9437300975ae363a6a7f168:1151235799,491bc426178373000a7fa99aa931913a:2137284623,4d8a88ae33437300dd4704363778128f:1206782183,c7738cee8d437300b2e7cf3cfc729fe1:421134460,220304ae784373001833f166d1af71d4:590254410,1f91c42e904373002aeb3eff304d5561:1186765824,f171c4ae3d437300f3ba8e27f78c6e51:-421974536,6c51482e53437300b1fb449ab3aafe17:1853875756,bb400c2e1f437300122550a599deae86:-179192158,0310806ea1437300026de1e695cf7f29:-766654429,55df771ec5437300937c7595fc938e16:2013222217,697f3f1e32437300dce0b9f1f4394f81:-1220531655,eefe371e60437300bad202d53721a6f2:-68489711,6f9d77dac74373009b8c76ee59765a91:221271851,cd5a7b1ab04373001d4e2583cd9fb4c6:-134319881,20de63124743730064b2b34105f9c72c:1495335156,ff4e2312f6437300596b0b61fc968241:-983920227,f48caf1e9403730083dbe929c2f7b60d:-270928724,463cab5ecb0373009b32f90094576838:-577903714,302c6f5ea10373007811bc9893946b6e:1223379988,f4ea6f1e47037300a38f6bc7b050a5c8:-984478399,09385712d6cf3300722af8db65c53898:1092032258,ed779f1231cf33005e9abef920d0915e:1872385450,26e6d35ece8f3300dee031a878b6a9dc:-1413547193,0a8347cab6073300dffd9dedad0aa985:-581693348,d332c34a8b073300f095a0d8eed44057:1897772797,f65eb2c600073300ab64ad2dfa383733:-2069395803,21fdba86e7073300c7ce0dbe6926514a:-1155415216,f0ac3ac2c7073300adc7a66b48d2d243:1115535893,de7cf206a80733005c1b6d62e38d313c:-833162795,3a1bfa4269073300cb8b3765239ffcd9:619527577,2de93ececac33300e933db5c495dc3ac:-1220294951,04983a0e30c333000c81670aeff6017f:1869264271,e1e0a7cd908373001d55692a57543e55:813141420,2170a7cdba83730090c811f2f1331c4c:2121407220,ebdf978db8837300404b955609ac3b58:-619851447,4e6a9389ce837300429793d99a723ea5:813141420,9c58530982837300e3bea0a3d6183ad3:238566526,625b2efca7473300c67a1b1a60eaf186:-947913691,a32aeabcf94733003098c6596ecd0e48:586058503,2059ea3c9f473300e6b166581cd32ce6:883400698,6aaebb5b60eab3002eee2ded554f6af4:30713791,d7cab357a7eab3001c1fe5a793b17085:108327538,f5b9bf13b2eab3009a3559f09492c06d:-1876501173,4897b313deeab3001bee522a57da462a:703894886,82f4775f7daab30025ace0d7daaede2d:1715009537,f2e3f3dbebaab300eb97204d0656be8e:-487913799,002f2357e9aab300171fa574c37ed918:-1185236153,835e23d3d4aab300113d127a96ae777b:-31956723,914c6d13bc66b3006efc64577e8af2d7:1667265865,39fbaddf1626b3006de84cc047a30009:-594548496,9630a80b5a2a73007f040799c3c685ef:1667265865,b4bf50c7152a7300bd6fc04228cc5ff3:-284046753,241f54c7952a7300943582efece17369:1334268614,eb7b1847922a73006e03068499031f3a:-1581618661,67eb0bd2bee233009413b0c9777c249c:-1259399487,11db0bd2bae23300620a85b7f0cae497:-1577590819,de3b879288e233004f2161ef3bea6120:-16841823,c05a87923de23300532598e9b8631387:-807659663,24b9879273e2330014fd26d436052d32:-1626679599,4f788712e9e23300741f3a425ac26396:-732440036,1571b94637ee330086ad4665fe58b5b5:-1577590819,362465424cae330020294404dcaf3043:1334268614,4203a546066e3300f2922e053a5cdb35:-1956450477,51364d8e442e33004fdaa2eb188c2ef0:-1524129608,a2d5898e4e2e3300338fd91d7c4b4756:115330682,0f95810e5d2e33000b4be981c474086d:1966009679,73f4410e6e2e33002029e53d7d7d544f:-789084165,4e93810ec62e330020cee7d3febc51f1:-1284547600,d791c94a132e330071854ddf4db7ae55:-1323686185,1990098a202e33006ce1cbf0ffb8b4b0:-187025370,b5761eb91ea633005e073aaec58095a8:-1738949289,9ed416b591a63300c15be87723e57792:1038559758,cc24def5caa633002bc1b30ad4a0d362:1310681001,e9b35279d2a6330054d48c7515580d28:713636128,97b19eb5e4a63300244b6225d4d2481e:1038559758,d7e096f510a6330038d204fdd68e39eb:1628625586,a8ff0e356da63300c539ade421228a02:-406393117,d84f027508a633003fcba70a7e8eff91:594452033,64ae0af135a63300158f44bb3473fd2c:837392857,ac0251f909e2330088077001deab89e8:-1930473061,2fba4139c6e23300b74f5ee47cde769f:-1748243032,909a4979e7e23300a90bb71a14a8a23a:-1930473061,ed8909b99ce233009731b4d71b594b44:-1202888609,9ce70979d9e23300d5b396a35312416d:-801478021,ce86493909e23300f30e4780c2344616:1300291744,53664db5bbe23300a2ad4d3d32526840:-1365407091,d62605fd4ea23300db82aa8b52463d91:1713725401,ab7505bd98a23300c5fd8d99d422b768:-1074608722,f94345bd23a23300e6330e840e265d61:-1923522917,ecada47960a2330069b8a3e1439967f4:-460495822,9d6d647907a23300930c76cac3776090:999586634,61fb2c39e0a2330006b5143aa70a93fd:1551738318,746b2c3919a23300b6ece3794b638819:-209978696,5e2becf55ba23300f1c2e6307565780a:695893000,a3d96cf5e2a23300aa7c39087a50a717:1084473641,ffd1ba950b823300ff037fea3352ea95:1551738318,f59b8830834e7300e23d03d18bab3d93:-231096615,4232c478050e7300175306417cc00aa3:263263649,97f4a0a08d067300b65a10182b61fef7:-1201750972,48b7e244bb25730035abb760fd351281:-683399795,cd95e204f9257300d0656511d32463d5:-1211562104,df55e6c019257300d7b22395fd34b87a:1506054987,1dc42e8039257300640b74afabf989f2:394381569,704466c0302573006164a0329eb3b18c:-966002214,3aa36e403be1730079877e12635f1b83:1396278778,2d236280c0257300cf6060ea8bfbf26a:-670387066,2816ce404fe173006ab521d0478da2c4:1604855507,30b5ca0054e17300303319d79cf79fd3:912891168,8465c6409ce1730047d845209e5ddb29:816315178,1a054e0020e17300bd283784868751ac:-251188576,e8df5d049c617300d9197da9613dcc13:611533619,ac6e9104a9617300e27fc779bbda618f:373241168,a502154c285d3300c1e529c4d2b95bf4:-883987387,f648208c66d93300600d778d4b3a84a8:8326053,74a76c0cdad933002e8aabf0e2d68643:1769878270,13372c4caad933009dba081b394c7867:8326053,6ab6200cedd933009655d3e2fc60c8c6:138296093,bcb56c0c54d933002d60d36dff21373e:513373885,65431ff3a68533003a970426b4fc2444:138296093,8f92dbf37f853300affee7f390d68da3:1740679189,9560247a3ec53300a4464084955ce1dc:1645393934,f07f103270493300d00e15db908b8452:1879052505,a1cb96ee75c1330038a6609728ede7ad:568292242,235296ee66c1330052a024d1e448caa5:671845020,6b5156ae22c133007569a6cee83a320e:444610499,4d115eea1fc1330040cd92a084c41f84:-1403101369,bcf0de6e88c133005d4e323e45d35d49:-349629649,30a0de6e40c133005b70d4d8debea146:1572538786,72009eea9ac13300139c171a07293276:-1403101369,7139556ab8413300f28dd430139fb662:-1043610575,e429556a31413300e1838cca72005b48:-575069165,8bf89d2ec7413300cf817368234ed9e5:157891207,f8a8dd2a9d413300caf5b5234a6a44a5:-1673994426,3a48556a3c413300ad4931df6982f65d:1192220690,7375956aa04133002c43437be7d8b815:76121851,93827ae145c57300ded489b69f13c50f:2129590206,71d1c26dafc173000a5e3ae42ff52dce:-176775638,342c6965bf817300a88182d38cbb74bc:462729192,7b3ba1e1548173008258c8c5b01a6f9b:-252121583,e42be92518817300ae4562cce1f1ed82:633422429,6cea2d257c81730051fbb6fe45fa285f:234845599,27ba6d218a8173008190f5052a87e1dc:130215485,869a6925ad8173001c022821dcba622b:-577604879,7bc76121d6817300e6f472da05d560a1:942594656,8687555df7c53300c96ccb718a645dd9:-289919282,fbd6dd1d83c53300fd7851ee5773b027:-2084178812,a1bfb01532853300ff49ef8f9c28748e:-964151751,301fb0d1088533004b97943c03c3a3a4:208834711,ad4ea8d5e345330059af5be837889a32:2091285662,80cd2095694533002a2a636c09731f24:688387604,05ec2095b7453300956775e9f2de7d20:770519449,efdb6491024533004b68474f8e8c25d5:1814383864,74cd481df8c13300b03bb1bc7c8824ac:-387053449,f3eb00ddedc13300d7f57607b51ce59c:-837703464,7366001d7ec133000c96932ac6ac0477:462387087,9a46cc59e5c1330025295d84a6feccd9:-1461816762,4c438c59fac133006bfb1ce8e729eebf:1081597338,c9d12a9c1685f300643c2309cf93e412:-2086885382,debf56d80585f300676405ade24a977a:-1859509841,576f9e98e285f300d90422176fce178a:-656626644,98de9e988e85f300bcf0fd0e7b107a82:848114284,88ea1a94e285f30086c886cf922a3595:-2086885382,769a96940085f300e7efa30f2a3d2657:-1046007685,2786d6905d85f30079b9df6f72ad728a:-35583617,f4e59650ac85f300d3ab90a52d6b8165:-460718626,49f4de104585f300ca15f9037b9e3e0f:312695960,61745a101b85f300ee6af03d2deb05cf:-1681406818,12631658c845f300a74c6a72224373b7:-1130033579,c7c2d2586645f300180e7b842370e7b0:-1944028772,238c2d18aa05f30068805311a77aac23:-190228575,5b5c69188305f300762e2b8bca4e53d8:686801597,6b6b2154f005f30020c48a2b2e057cb4:249801398,8431171be4b07300ef1303f0cc88e506:-164851151,19d05fd7a5b0730003d2f16483a74755:-5775174,6a80971bb0b0730087b3f476ed1720c2:-937523414,b48f071b87b07300399fc701196248bf:178438565,3bfe431b10b073008d87df02d032dc57:-1000480413,ea7d8b1ba7b073004ea9ad0eae770517:1462063025,6faa4fd7e2b0730089c9b9a065288b95:140802917,42a98bd796b07300866f38b133af6961:-74882977,d6e7031748b07300bef4289ba03b2620:-1029621587,7887c71701b0730097fe7962a973c090:-1899460981,4ba68f93aab073004a070b98e0205c5b:-320255776,863d619b80bc330060e73933b662a425:1029175481,ebcce55b0dbc3300019ca1080ff3144f:-1821024519,c23bbd47fd7433006f0ba4ea9b4acaba:318515919,d3fabd4757743300d091761d525e2259:815994359,3249b5c32874330063524ddff8b1afb2:-1323400171,f8b8ed0b0934330082363562f63eff16:1222822897,cc582d87ce343300ff269201d84bb782:-2119349863,e927a1c72c3433005593508846d579a5:1269421377,d74f91c7d3f03300ab978a4a7c7d407a:-266601489,82fed50b5af033002a62753cae63ed77:1234239241,759e19c7fef03300b971cbc4f5eb9619:754127633,4088062589787300f87e4cb975928255:1269421377,5cf4e6095ab433006e6c442d9a3306f7:-1174574621,7664628999b43300e71344cf1b24fcfa:1736873583,a844aa097db43300c946943bd9a7f4b9:1058896425,b3e3e649a7b433007ff5eaebe1e8aae4:1802611378,70f2ae09ceb433008b67679ff236dacd:526929058,05916ec57bb43300d988ec2b97650af2:-1198718531,acf022c54cb43300584f7418d416a49c:637330064,f6302e8525b43300a6f343d7ea74f27a:1207447742,2c4f12853cb433008b40be6e416e156f:728367453,c43e928139b43300315c899e9149132a:7825055,d13b3109f434330062ef6480563e30a2:1774294768,99fa71c51634330090ed6ee18de21d2b:879851440,c5cab581c93433002d7418b41c47cab8:-161012937,350a6d3cc0b0f300e1e06bbbea324bb7:1756065973,bfb9e57c1fb0f30045eb090e6fe6bc10:-1605263058,a6796d3c0fb0f3004a80c047ccd02ead:-1680813588,0ec7e97090b0f300b273c8c9afcf42ab:1594371719,0ae6657c6570f300e4b07be6ac3c8158:-59516620,2ba2853846fcb300f21e0d3ab19bf546:-263967795,5ed081742dfcb300dca9c88b1ad97e2a:-488583353,af700db480fcb30094c9b8769963c605:813142671,f420c5b4fdfcb300ce0cde78f38452fe:-263967795,f82df47066fcb30067a5835b04252745:-1274206947,48ec34f0a4fcb3003eb6e92a632751ce:-1335173020,0d9cb8b051fcb300149b4b8395c6a0d0:1638391859,a50afcbc0bbcb300b103d6ebb32c179d:-151897721,9a38b87024fcb300c09b45b2c7dfec1d:14615975,fee7b0fc28bcb30083d6ec6678d3e7d3:550642906,189778bcf3bcb300b0a5010cd1dc677e:-581584550,fcfb10bca47cb3000800bf565bf955a6:-244941342,5fbb5c7c597cb3004b34253db27a6f7c:1048511384,df4ad8787b7cb30081d1933c83238398:-244941342,683a5878227cb30083236ab7ecef44d8:1048511384,f40ad8f8a87cb300910216f84b136764:-244941342,bac994786d7cb300f50f0ae3fffaf141:166831854,00596ba46af8b3006eeb953edcd61f7b:1667652350,5bb8a3acc6f8b3002a66cc4049fba320:-1356760291,e3282b2c46f8b300dfb508fb6f50f229:984152350,60a7276c86f8b30020f3dc1b12d2ead5:1640907335,7a67276cfcf8b300a1906df9b7088cd0:417089526,95072b2cb3f8b300f52ab2ee1edb4225:-544700734,0d462ba4a4f8b300923f1be01dd47a4b:-1152331524,87066ba486f8b300fe13a322b0ed3756:693890016,77b5efa855f8b30009faded84aa52717:-1152331524,4e63afa868f8b3002650dfe52b1b41ea:-1560140839,4410ba6c4e78b30063fa96793e2a9f77:465008730,400072ec1f38b300c4213bf15d1fe2fd:1243489554,364612ac5738b300fae16a46094c06d0:-305814541,d22652ec0d38b300b4d010f3da18a1f4:-1213543369,66b552245638b3009996a1c39c320b53:-1306877020,0f93166c8338b3006e6d5e4c3a9fcf99:208818943,ac7392e0ee38b300041b3379b4a6b92d:1840997600,81131e2c0c38b300b87c2ba6a06b5706:1257839375,eeb2162ce738b300f57641d5d36c1433:-762549889,688216244238b30039ddcb2fce1cc2bd:-1752469001,af321e2ca338b3001e07dea76d0bdf01:-762549889,ed0212643238b300815392ba3407f8c7:-449644997,36c34ae07a38b3003ec8bcef23539dbc:-1663270565,6e83c6e08a38b30054c8c880e4884b0d:-1825102725,bb234ae01138b3002820178d76b50bd9:-685501681,0c7286e01f38b3008fa2e9d8c2fe93a6:-82834212,cf2206a09e38b300f3f7fbe17f318c06:-1180394379</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_properties_cc952b48db747300bd097dda8c96190a</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>x_nuta2_nutanix_ca.exclusion.list</name><read_roles>x_nuta2_nutanix_ca.calm_admin</read_roles><suffix>exclusion.list</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-04-09 14:17:37</sys_created_on><sys_id>cc952b48db747300bd097dda8c96190a</sys_id><sys_mod_count>2</sys_mod_count><sys_name>x_nuta2_nutanix_ca.exclusion.list</sys_name><sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca">3b7631654f452b001200e5201310c76b</sys_package><sys_policy/><sys_scope display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</sys_scope><sys_update_name>sys_properties_cc952b48db747300bd097dda8c96190a</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2020-04-22 11:23:05</sys_updated_on><type>string</type><value>guest_tools,power_state,hardware_clock_timezone,parent_reference,account_uuid,type,private_ip_address,state,instance_initiated_shutdown_behavior,minCpuPlatform,canIpForward,description,labelFingerprint,boot_config,</value><write_roles>x_nuta2_nutanix_ca.calm_admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=cc952b48db747300bd097dda8c96190a"/></record_update>]]></payload>
<payload_hash>1436599169</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f624eae4db711010eeb98087689619e8</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a22245d50000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>x_nuta2_nutanix_ca.exclusion.list</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>f230fe42ff505410e69c884e47028eaa</update_guid>
<update_guid_history>f230fe42ff505410e69c884e47028eaa:1436599169,7c67a30828747300ad59fd15ad6cbe5b:-485297730,8ca527080d747300fc6bd65ad2ffdce8:-961528987</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_e0dc92f537412300d27b8cf6c3990e66</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.NutanixAppIntermediateDao&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;NutanixAppIntermediateDao&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var NutanixAppIntermediateDao = Class.create();
NutanixAppIntermediateDao.prototype = {
	initialize: function() {
		this.logger = new Nutanix_Calm_Logger();
		this.utils = new Nutanix_Calm_Utils();
		this.pageLimit = 20;
	},
	
	startAppImport: function(){
		try{
			body = {
				"filter": "_state!=deleted",
				"length": 1,
				"offset": 0
			};
			
			var response = this.utils.makeCalmApiCall('POST', this.utils.configuration.api.getAppList+'', this.utils.stringify(body));
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to API " + this.utils.configuration.api.getAppList + ". inside NutanixAppIntermediateDao.startAppImport");
				var totalAppCounts = JSON.parse(response.getBody()).metadata.total_matches;
				var pages = parseInt(totalAppCounts/this.pageLimit);
				for(var i=0; i&lt;=pages; i++){
					body = {
						"filter": "_state!=deleted",
						"length": this.pageLimit,
						"offset": i*this.pageLimit
					};
					this.utils.insertIntoQueue('importApplications', 'POST', this.utils.stringify(body), this.utils.configuration.api.getAppList+'', 'Import applications', 'This process invokes the import of all applications.');
				}
			} else {
				this.logger.error("Inside NutanixAppIntermediateDao.startAppImport : Error during startAppImport Error: "+response.getBody());
			}
			
		}catch(e){
			this.logger.error("Connection failure to API /app/list inside startAppImport: "+e);
		}
	},
	
	importApplications: function(current){
		try{
			this.logger.debug("Inside NutanixAppIntermediateDao.importApplications");
			
			var response = this.utils.makeCalmApiCall(current.method+'', current.payload+'', current.parameter+'');
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to API " + current.payload + ". Retrieving applications.");
				var parsedJson = this.utils.parse(response.getBody());
				parsedJson = parsedJson.entities;
				this.logger.debug("Found "+parsedJson.length+" applications.");
				for(var i = 0; i&lt;parsedJson.length; i++){
					var app_uuid = parsedJson[i].metadata.uuid;
					var appUuidResponse = this.utils.makeCalmApiCall('GET', this.utils.configuration.api.getAppDetail+''+app_uuid, '');
					if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){
						
						this.logger.info("Connection established to API " + this.utils.configuration.api.getAppDetail+''+app_uuid + ". Retrieving applications.");
						
						this.utils.insertIntoQueue("processImportedApp", 'GET', '', appUuidResponse.getBody(), 'Process applications', 'This job processes the imported applications.'); //this.utils.configuration.api.getAppDetail+''+app_uuid
						
					} else {
						this.logger.error("Error during retrieval of application actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());
					}
				}
				this.logger.info("Schedule job has completed importing of application information.");
			} else {
				this.logger.error("Inside NutanixAppIntermediateDao.importApplications : Error during retrieval of applications to API /apps/list Error: "+response.getBody());
			}
		}catch(e){
			this.logger.error("Connection failure to API /apps/list inside importApplications: "+e);
		}
		
	},
	
	startDeletedAppImport: function(){
		try{
			body = {
				"filter": "_state==deleted",
				"length": 1,
				"offset": 0
			};
			
			var response = this.utils.makeCalmApiCall('POST', this.utils.configuration.api.getAppList+'', this.utils.stringify(body));
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to API " + this.utils.configuration.api.getAppList + ". inside NutanixAppIntermediateDao.startDeletedAppImport");
				var totalAppCounts = JSON.parse(response.getBody()).metadata.total_matches;
				var pages = parseInt(totalAppCounts/this.pageLimit);
				for(var i=0; i&lt;=pages; i++){
					body = {
						"filter": "_state==deleted",
						"length": this.pageLimit,
						"offset": i*this.pageLimit
					};
					this.utils.insertIntoQueue('importDeletedApplications', 'POST', this.utils.stringify(body), this.utils.configuration.api.getAppList+'', 'Import Deleted applications', 'This process invokes the import of deleted applications.');
				}
			} else {
				this.logger.error("Inside NutanixAppIntermediateDao.startDeletedAppImport : Error during startDeletedAppImport Error: "+response.getBody());
			}
			
		}catch(e){
			this.logger.error("Connection failure to API /app/list inside startDeletedAppImport: "+e);
		}
	},
	
	importDeletedApplications: function(current){
		try{
			this.logger.debug("Inside NutanixAppIntermediateDao.importDeletedApplications");
			
			var response = this.utils.makeCalmApiCall(current.method+'', current.payload+'', current.parameter+'');
			
			if(response.getStatusCode() == '200' || response.getStatusCode() == '201'){
				this.logger.info("Connection established to API " + current.payload + ". Retrieving deleted applications.");
				var parsedJson = this.utils.parse(response.getBody());
				parsedJson = parsedJson.entities;
				this.logger.debug("Found "+parsedJson.length+" deleted applications.");
				for(var i = 0; i&lt;parsedJson.length; i++){
					var app_uuid = parsedJson[i].metadata.uuid;
					var appUuidResponse = this.utils.makeCalmApiCall('GET', this.utils.configuration.api.getAppDetail+''+app_uuid, '');
					if(appUuidResponse.getStatusCode() == '200' || appUuidResponse.getStatusCode() == '201'){
						
						this.logger.info("Connection established to API " + this.utils.configuration.api.getAppDetail+''+app_uuid + ". Retrieving applications.");
						
						this.utils.insertIntoQueue("processImportedApp", 'GET', '', appUuidResponse.getBody(), 'Process applications', 'This job processes the imported applications.'); //this.utils.configuration.api.getAppDetail+''+app_uuid
						
					} else {
						this.logger.error("Error during retrieval of application actions to API /apps/&lt;uuid&gt; Error : "+appUuidResponse.getBody());
					}
				}
				this.logger.info("Schedule job has completed importing of application information.");
			} else {
				this.logger.error("Inside NutanixAppIntermediateDao.importDeletedApplications : Error during retrieval of applications to API /apps/list Error: "+response.getBody());
			}
		}catch(e){
			this.logger.error("Connection failure to API /apps/list inside importApplications: "+e);
		}
		
	},
	
	processImportedApp: function(current){
		try{
			this.logger.debug("Inside NutanixAppIntermediateDao.processImportedApp");
			
			var appUuidJsonParsed = this.utils.parse(current.payload+'');
			var statusMetadata = appUuidJsonParsed.status;
			var resourcesMetadata = appUuidJsonParsed.status.resources;
			var appMetadata = appUuidJsonParsed.metadata;
			
			var grApp = new GlideRecord(this.utils.configuration.table.NutanixStagingApplication);
			grApp.initialize();
			
			grApp.app_metadata = JSON.stringify(appMetadata) + '';
			
			for(var keyStatus in statusMetadata){
				var status = statusMetadata[keyStatus];
				if(keyStatus != 'resources' &amp;&amp; status)
					grApp[keyStatus]= (status.constructor === Object || status.constructor === Array ) ? JSON.stringify(status) : status+'';
			}
			
			for(var keyResource in resourcesMetadata){
				var resources = resourcesMetadata[keyResource];
				if(resources)
					grApp[keyResource]= (resources.constructor === Object || resources.constructor === Array ) ? JSON.stringify(resources) : resources+'';
			}
			
			for(var keyMetadata in appMetadata){
				var metadata = appMetadata[keyMetadata];
				if(metadata)
					grApp[keyMetadata]= (metadata.constructor === Object || metadata.constructor === Array ) ? JSON.stringify(metadata) : metadata+'';
			}
			
			grApp.applicatoin_created_by = current.parameter+'';
			grApp.insert();
			
		}catch(e){
			this.logger.error("Error inside NutanixAppIntermediateDao.processImportedApp: "+e);
		}
	},
	type: 'NutanixAppIntermediateDao'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;mumtaz.ansari&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-10-10 10:03:05&lt;/sys_created_on&gt;&lt;sys_id&gt;e0dc92f537412300d27b8cf6c3990e66&lt;/sys_id&gt;&lt;sys_mod_count&gt;102&lt;/sys_mod_count&gt;&lt;sys_name&gt;NutanixAppIntermediateDao&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_e0dc92f537412300d27b8cf6c3990e66&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-06-17 14:05:38&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1334714062</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>f624eae4db711010eeb98087689619eb</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>172c5c51f560000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>NutanixAppIntermediateDao</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>5d7e6b886ce5185030e0c6ecd513b6c5</update_guid>
<update_guid_history>5d7e6b886ce5185030e0c6ecd513b6c5:-1334714062,66d8b07989a23300103165631598947b:-1487587049,a9923c75afa233008d0e1a605328b34b:650738640,545b94b55c623300dc9c3113e3a1383b:1424238121,ea7894b553623300ff18b1f895702036:665994267,b71c1573d4e03300b931207f37639626:939981823,ee2ad5bfdca03300db4aeeece9fb7677:-1534699303,34b1c3b1abdf2300c7cf841904a7bdc2:-207626880,9e910bb1d5df2300313a5f7dbf700d1f:1369108962,e316bef9d79f2300ddd471a99a485d01:-1534860286,7e95be79a89f23008a86de150a7377af:-737043235,591536397c9f230015e71098b474b59e:1493792071,260d0feb85c76300a59880e3f65aa48d:-1071201739,41868ac947c323006c611603d26244df:-644298536,e075ce49eec3230052d10ba2af26777a:-248066526,34f031c1e18323006790a112c478fd48:-281671784,836eb44827222300dc54d98129822afd:-2014657157,81f6621f50b1230061060d96add5bdfb:1146555752,9b8ad69f3f7123008367b9c05b2f9dbb:283476116,9458925f687123003ebdd06a21daad74:-1697647308,f3165a9bfc712300f676b110f78ff3bc:-1556681196,07c4da5be1712300a0c9ab0a1f384f04:-973614732,4ab4929ba9712300dfbd5ab043273ee4:-1005322886,a7621ad74d712300a28d383d6dbe4679:923709527,e2e11ed792712300c76bf447844bd9b6:-668868387,df3dc6d3b9712300a4ed70e51e994d33:-1195155045,0779061321712300a980aabe8a94dc6a:-536228421,f6968a5f3d312300a1f2fb02c7abfb2f:-951100311,3eb1c65b3c312300edce53db5a0bba30:265864137,5dbf751bda312300a270ae06f00abb8e:1435799234,78af7fe6b8d12300fc15c64d6687514f:2006185773,902473ae2d9123008e47fa81492b8441:-1641990005,2342f36ed89123009e5ba29cbc50ba55:-2051985932,2a82a3623b91230028192f4fda670915:649723310,61248fae80112300e45e643e86ecc132:1051833271,88718b2af81123005b2b6a7d1723f6fb:-1272303140,65018b2a0211230068628181a5125dc7:1765680600,6289f666b4112300cfc15381000b1e2e:-1115723158,67e672664c112300258789c65ef05ae3:-935611644,ba05f26650112300df67f0a2de3523b2:-336151240,912123567255230001405e4a3ca25d93:1383781047,55bf1f563e552300584cd6775472aedc:-289995150,a33f1f568e5523003edd997420ee21d7:-830541230,28bd5b1682552300e9c748ae9c943043:1700193776,b2d5d79e8a1523004d61397f5b7e67e4:1075964227,44cf075a311523009e8f690fe335ec01:1507585891,246f4f1aeb1523008b9f70cecf6ff7ca:-356596306,a64e431ab6152300c7a3d90862a286d2:-1943083779,606dc396e215230061e5f5d3cd0e0770:-1525344882,dc1d0756901523001e7af39907bdef25:-791646418,c0584bd28f152300fcde303131905a98:-693761650,21778b529215230053af7d891d1f9611:-743612679,da538fde99d123002093df90c3edf253:664338172,3fc243defed123001d3e750d0314aa59:-1696507753,1fb243de4ed1230075e91ce809ea8074:1812376119,1db103de8ed123005e6bac365d6c4958:-960984777,2951875e68d123006eb8b226ad98d0d7:-471629248,26210352e7d12300bd25eb4c0e78dc9f:-48303301,9ec0875e64d1230038447d6d6699eb97:1695948083,478af61217d12300c690f60de5ac8b66:296372666,140afa12b6d12300c55503976571dd10:-2066955412,a3ef79b83dd12300aa5ac84967448e40:-625040171,f2dd7138d4d12300670a3c25af5682f7:-1033336263,e4069ec033912300802a1485a73660ec:-294052924,40d49ec02691230019403626489eb3e6:-922445302,74649200219123004aea6a665a8ec27f:295821696,5ef6d57752cd2300f5577a00659e2cba:1896661695,5ca515f3d9cd2300f046dfcb30390119:-1261244883,218491f347cd23003e162ba9fce8caeb:760682722,f361d933e4cd230081f6e194b23178e9:-235680022,66019d338fcd2300f621e9840578d315:-646966387,89c099332fcd23004eb60b4d2a5410ab:1540738956,840059bf218d230018bf56ca301b0a93:-812927441,f9ef49bfbe8d230040473316d5943c16:-2004726989,be1f0dbfbb8d230096b78f7ce0e55364:403697331,f26b017bff8d2300284f1e9f019468c3:912360830,f9fa413fb18d23008bf59d99e204e35f:-1714781696,aee5b4ff734d230073ff4714e8d4829d:2067605849,65c4b8bf8a4d2300ccdc803fad910849:-1977989256,0b4474bf7a4d23003ad5fdc499cfd745:-2079651068,163030777a4d23005471eaa187c44ab5:-1632990269,c8f0c5636f4523005f7e8b6ea225087a:-577135051,c5f8878ac2412300f3289cfb325f29bc:-123067010,ef97870a71412300cb12e4191eabab82:-902610999,6db58fce15012300c58e07746d3f6f7a:2008036645,72c6537d39c12300d95e1610b34046b8:-1756886242,6436533db7c12300ed89dac391a77c2c:708031991,95e5973d62c12300b9534b92baf97581:-1923210039,be919779e1c12300d8c34d4cead5b1aa:-1470893630,173193397dc123000bfda8dd277449bf:-1813156905,c7ef033986c12300cc3b94acd811dd50:-979684299,876fc339c6c12300df7e7347d180410f:-1702516929,84becbf5fcc123008fca87ec5ab3623a:544507803,e3a0cbbd288123006858db4b9fccb95e:1788318742,c60fba7de48123007049a6c252f6c347:-104564004,381df63949812300ed9559b75264c867:-1489173602,e4bbfa396881230005328619683efcfb:-1983133328,deca767936812300e234c908942f3a38:-543869120,2b3f6a7152812300f2317b9e736db69f:632248452,9cbe2a71618123007f7a4008ea24bab1:1797665572,025ea2719a8123007638db85853cd7e8:282249999,8b1eea31578123009caa7d2994d2b815:279939209,615aa2796141230056be74ede9de6faf:-824871560,2293eef5b8412300d2b96b02a51283aa:-55304415</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_faf52bf91b798410ac43877ddc4bcb65</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#snap_delete').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	$j('#snap_delete').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_delete_sys_id").value + '';
	var snapshot_uuid = gel("snapshot_uuid").value + '';
	
	var json_var = [{"name":"ami_id","value":snapshot_uuid},{"name":"delete_vm","value":"false"}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideModal.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description&gt;Delete snapshot AWS&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_delete_aws.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_delete_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_snapshot_delete");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_delete_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_delete_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_delete_sys_id" id="action_snapshot_delete_sys_id" value="${JS:action_snapshot_delete_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;body&gt;
		&lt;div&gt;
			&lt;label style="margin-bottom: 20px;" class="control-label" id="delete_warning_label"&gt;&lt;strong&gt;Are you sure you want to delete this AMI?&lt;/strong&gt;&lt;/label&gt;
			&lt;div class="modal-footer"&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
						&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
						&lt;button class="btn btn-primary" id="snap_delete"&gt;Confirm Delete&lt;/button&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_delete_aws&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-19 14:03:53&lt;/sys_created_on&gt;&lt;sys_id&gt;faf52bf91b798410ac43877ddc4bcb65&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_delete_aws&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_faf52bf91b798410ac43877ddc4bcb65&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:16:25&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-312529955</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>f624eee4db711010eeb9808768961955</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b345950000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_delete_aws</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>1f8aef5649909410fbb837065eb3412a</update_guid>
<update_guid_history>1f8aef5649909410fbb837065eb3412a:-312529955,c62a87c69b581410c970470864fe4e62:300850955,2a0d9f89b16ac0100665f282625d21d4:-534975768,e6c95709236ac010248218775ad969ad:-883383058,6438db45606ac010af5ad70148d45af6:-595889421,5c95564dca66c0107e04ed600ed5f40d:1669909399,585f593cdea680103aca006818eb4f42:440361351,92d3c018bf6a001054412dae9ffc8140:604482655,3871eccce71a8450cfad7abcfa77c806:-1265974442,97bc838bda7d4810568bba291c6b728a:-1472043487,c92bcb0be37d4810d66a63151b387758:-146334542,aa890bc7697d48101bb0c9a621dcd40e:1427001397,97960747467d4810e8c14954dfeb534a:-972509950,35e28fcfec3d481040aeeb9aae874ed9:1053492686,5637e73d71798410d1fb82205416421c:-979951546,834663f99879841019028c1b671d8116:1349934555</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_dictionary_x_nuta2_nutanix_ca_nutanix_staging_project_external_network_list</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update&gt;&lt;sys_dictionary action="INSERT_OR_UPDATE" element="external_network_list" table="x_nuta2_nutanix_ca_nutanix_staging_project"&gt;&lt;active&gt;true&lt;/active&gt;&lt;array&gt;false&lt;/array&gt;&lt;array_denormalized&gt;false&lt;/array_denormalized&gt;&lt;attributes/&gt;&lt;audit&gt;false&lt;/audit&gt;&lt;calculation&gt;&lt;![CDATA[(function calculatedFieldValue(current) {

	// Add your code here
	return '';  // return the calculated value

})(current);]]&gt;&lt;/calculation&gt;&lt;choice/&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;column_label&gt;External Network List&lt;/column_label&gt;&lt;comments/&gt;&lt;create_roles/&gt;&lt;default_value/&gt;&lt;defaultsort/&gt;&lt;delete_roles/&gt;&lt;dependent/&gt;&lt;dependent_on_field/&gt;&lt;display&gt;false&lt;/display&gt;&lt;dynamic_creation&gt;false&lt;/dynamic_creation&gt;&lt;dynamic_creation_script/&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;element&gt;external_network_list&lt;/element&gt;&lt;element_reference&gt;false&lt;/element_reference&gt;&lt;foreign_database/&gt;&lt;function_definition/&gt;&lt;function_field&gt;false&lt;/function_field&gt;&lt;internal_type display_value="String"&gt;string&lt;/internal_type&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;max_length&gt;3000&lt;/max_length&gt;&lt;name&gt;x_nuta2_nutanix_ca_nutanix_staging_project&lt;/name&gt;&lt;next_element/&gt;&lt;primary&gt;false&lt;/primary&gt;&lt;read_only&gt;false&lt;/read_only&gt;&lt;read_roles/&gt;&lt;reference/&gt;&lt;reference_cascade_rule/&gt;&lt;reference_floats&gt;false&lt;/reference_floats&gt;&lt;reference_key/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;reference_type/&gt;&lt;sizeclass/&gt;&lt;spell_check&gt;false&lt;/spell_check&gt;&lt;staged&gt;false&lt;/staged&gt;&lt;sys_class_name&gt;sys_dictionary&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-03-27 18:00:04&lt;/sys_created_on&gt;&lt;sys_id&gt;422196f12fff40101fcade1a2799b671&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;External Network List&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_dictionary_x_nuta2_nutanix_ca_nutanix_staging_project_external_network_list&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-19 16:09:18&lt;/sys_updated_on&gt;&lt;table_reference&gt;false&lt;/table_reference&gt;&lt;text_index&gt;false&lt;/text_index&gt;&lt;unique&gt;false&lt;/unique&gt;&lt;use_dependent_field&gt;false&lt;/use_dependent_field&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;simple&lt;/use_reference_qualifier&gt;&lt;virtual&gt;false&lt;/virtual&gt;&lt;widget/&gt;&lt;write_roles/&gt;&lt;xml_view&gt;false&lt;/xml_view&gt;&lt;/sys_dictionary&gt;&lt;/record_update&gt;</payload>
<payload_hash>1990203626</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>fa24eae4db711010eeb98087689619e7</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>1719642fd880000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table>x_nuta2_nutanix_ca_nutanix_staging_project</table>
<target_name>Nutanix Staging Project.External Network List</target_name>
<type>Dictionary</type>
<update_domain>global</update_domain>
<update_guid>b1f454d9b1dcd450b34f2282c2466f93</update_guid>
<update_guid_history>b1f454d9b1dcd450b34f2282c2466f93:1990203626,8cc11235edff4010e1e9c5ee53198997:-1010295127</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_cb26cf9937312300d27b8cf6c3990e73</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Run_App_Actions&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description&gt;Run app actions on click&lt;/description&gt;&lt;name&gt;Run_App_Actions&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Run_App_Actions = Class.create();
Run_App_Actions.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	
	runAction: function() {
		try{
			this.utils = new Nutanix_Calm_Utils();
			this.logger = new Nutanix_Calm_Logger();
			
			this.logger.info("Inside Run_App_Actions().runAction()");
			var message = '';
			var runlogResp = ' ';
			var actSysid = this.getParameter('sysparm_actionsysid')+'';
			
			/*var patt = new RegExp(/[0-9a-f]{32}/);
				if(actSysid!= null &amp;&amp; patt.test(actSysid))
					actSysid = actSysid.toString();
				else return;*/
					var app_config = new GlideRecord('x_nuta2_nutanix_ca_calm_plugin_configuration');
					if (app_config.get(gs.getProperty('x_nuta2_nutanix_ca.nutanix.application.properties.sys_id')))
					{	
					var modActVars = this.getParameter('sysparm_actionVars')+'';
					}
				
				var action = new GlideRecord('x_nuta2_nutanix_ca_nutanix_calm_action');
				if (action.get(actSysid))
				{
				
				var  app = new GlideRecord('x_nuta2_nutanix_ca_nutanix_calm_application');
				app.addQuery('name',action.parent_name);
				app.addQuery('uuid',action.parent_uuid);
				app.query();
				app.next();
				}
				
				
				var gr = new GlideRecord(this.utils.configuration.table.ActionWorkflowStaging);
				gr.initialize();
				gr.setValue('actionsysid', actSysid);
				gr.setValue('user_name',gs.getUserID());
				gr.action_json = modActVars;
				gr.setValue('application' , app.sys_id);
				if (app_config.actions_approval_workflow) {
					if(action.type == 'system' &amp;&amp; app_config.system_actions){
						gr.setValue('approval_status', 'waiting_for_approval');
						message = action.action_name+' action on '+app.name+' application is in waiting for approval state';
					}
					if(action.type == 'user' &amp;&amp; app_config.user_actions){
						gr.setValue('approval_status', 'waiting_for_approval');
						message = action.action_name+' action on '+app.name+' application is in waiting for approval state';
					}
					if(message == ''){
						message = action.action_name+' action has started.' ;
					}
				}
				else{
					message = action.action_name+' action has started.' ;
					gr.setValue('approval_status', 'not_required');
				}
				gr.insert();
				return message;
				
			} catch(e) {
				this.logger.error("Application action failed: "+e);
			}
		},
		
		fetchAppOriginalBlueprint: function() {
			var logger = new Nutanix_Calm_Logger();
			
			try{
				logger.info("Inside Run_App_Actions().fetchAppOriginalBlueprint()");
				
				var actSysid = this.getParameter('sysparm_actionsysid');
				var act_utils = new Nutanix_Action_Utils();
				
				return act_utils.app_update_blueprint_call(actSysid);
				
			} catch(e) {
				logger.error("Failed fetching app blueprint: "+e);
			}
		},
		
		appBlueprintValidateCall: function() {
			var logger = new Nutanix_Calm_Logger();
			
			try{
				logger.info("Inside Run_App_Actions().appBlueprintValidateCall()");
				
				var actSysid = this.getParameter('sysparm_actionsysid');
				var modified_bp = this.getParameter('sysparm_modBp');
				var act_utils = new Nutanix_Action_Utils();
				
				return act_utils.app_blueprint_validate_call(actSysid, modified_bp);
				
			} catch(e) {
				logger.error("Error in appBlueprintValidateCall blueprint: "+e);
			}
		},
		
		updateAppBlueprint: function() {
			var logger = new Nutanix_Calm_Logger();
			
			try{
				logger.info("Inside Run_App_Actions().appBlueprintValidateCall()");
				
				var actSysid = this.getParameter('sysparm_actionsysid');
				var modified_bp = this.getParameter('sysparm_modBp');
				var act_utils = new Nutanix_Action_Utils();
				
				return act_utils.update_app_blueprint(actSysid, modified_bp);
				
			} catch(e) {
				logger.error("Error in updateAppBlueprint: "+e);
			}
		},
		
		getOsTypeSingleVM: function() {
			var logger = new Nutanix_Calm_Logger();
			
			try{
				logger.info("Inside Run_App_Actions().getOsTypeSingleVM()");
				
				var actSysid = this.getParameter('sysparm_actionsysid');
				var act_utils = new Nutanix_Action_Utils();
				
				return act_utils.get_os_type_singleVM(actSysid);
				
			} catch(e) {
				logger.error("Error in getOsTypeSingleVM: "+e);
			}
		},
	
	getProviderTypeSingleVM: function() {
			var logger = new Nutanix_Calm_Logger();
			
			try{
				logger.info("Inside Run_App_Actions().getProviderTypeSingleVM()");
				
				var actSysid = this.getParameter('sysparm_actionsysid');
				var sysIdType = this.getParameter('sysparm_sysid_type');
				var act_utils = new Nutanix_Action_Utils();
				
				return act_utils.get_provider_type_singleVM(actSysid, sysIdType);
				
			} catch(e) {
				logger.error("Error in getProviderTypeSingleVM: "+e);
			}
		},
		applicationNameExist : function(){
			var logger = new Nutanix_Calm_Logger();
			try{
				logger.info("Inside Run_App_Actions().applicationNameExist()");
				
				var application_name = this.getParameter('sysparm_applicationName');
				var application = new GlideRecord('x_nuta2_nutanix_ca_nutanix_calm_application');
				application.addQuery('name',application_name+'');
				application.query();
				
				if(application.next())
					return true;
				else
					return false;
				
			} catch(e){
				logger.error("Error in applicationNameExist: "+e);
			}
		},
		type: 'Run_App_Actions'
	});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;bharat.vajj&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2018-11-15 06:19:34&lt;/sys_created_on&gt;&lt;sys_id&gt;cb26cf9937312300d27b8cf6c3990e73&lt;/sys_id&gt;&lt;sys_mod_count&gt;180&lt;/sys_mod_count&gt;&lt;sys_name&gt;Run_App_Actions&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;protected&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_cb26cf9937312300d27b8cf6c3990e73&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 13:07:18&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1766051661</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>fa24eae4db711010eeb98087689619ea</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217ba920000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Run_App_Actions</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>bc188f46a8581410f999b208c15ef0ad</update_guid>
<update_guid_history>bc188f46a8581410f999b208c15ef0ad:-1766051661,5ba4e308091b401004d835007a714555:-33109949,3924ab84b01b40101eda23ed8f3e49ff:-496291878,7de3e708c21b401024c42af1fe9bf1e0:-33109949,f5a9eb7d557984106ff0a1c70db6f3c8:-1697957048,60be82252cf9441017e864e0306c85dc:-754341644,275ecae157f9441048d44453a917f1f6:-1751426352,a06316903d0d0090dae9bdf88075aff0:1981473724,e0add7a763388c506a369e3a70a5659f:-413555027,783b57e355388c50acd13bc8f9237551:-301548103,4e3ebaa3cfb48c50d04e0905c2c59534:1773767032,30eb362328b48c507b1ea9a250913d58:1240604514,603298fdd4f80850498f670c9f71e112:1066450912,d5f158bdb7f80850046d335f8dfac561:1602208270,a48190bd65f808501253636716a47915:241771326,11e0587d72f8085029aee5df34c7da5f:504745628,a660547da0f8085087b5beb61f14baf8:241771326,cdefc43d95f808501f8126cc53331537:652476688,e9bf807dadf80850c4f9a8e5fd5fe880:992848594,feb63d21717408502ce48dffc432deca:-1386224389,8a5631ad313408509478430a0bac2843:-2056759901,401671ed49340850706f7a7b340f3a01:-612605226,c1a5fdad90340850be15eae051769ffc:-1535295722,79247dad60340850398bfe97e9edc167:929120734,fbe2f169fd3408502f41532b80ca7381:1817315885,a82ca1290e3408506e555de2c8ea61d2:2107302124,526ba965a8340850a57610c3db25a143:650054658,c3aaa1a5cf34085025d02e833e4f7d51:-125522790,7ce561257334085056f98d24a33390b3:858717916,c6c46da13e340850e7227b592071b66c:807169663,3054ada1cd340850b19b6670253fecdc:64729873,371421a1a03408508db01c7e38e068d3:-1994989263,ab584dadf9b00850d8470bf40c5a6689:1067002348,5157b861f3b00850ce017f6003e8ada1:-431694745,39e8ae332968c050b85809e69b6b6e96:1776185597,4558b46b95288050373bf724720d4b19:-1541304867,5528246f92e4805072465a83042c5c6c:-1918513525,1cd8b80be31444108fe459e040bf01fd:-755732456,bb643c07bb1444108db35ec42f965bef:1985810817,2a0aa40f3ed04410de612661846a0ce5:-2007534079,9d8968cb06d0441044f8ee3a527bfba0:1985810817,8b69e8cbffd04410e82724e5d1de4853:-1855813203,e385600b08d04410f9d2b87a87b372cc:-635959011,a90564c70bd04410e05681de562fbd06:-1161827311,c043e447b6d04410af473ef109a2ed7b:-1239718824,a0cb0032b7540410072feac8afe4a4f2:1900526392,25621b2a1e500410e2f39590a19d4f02:-310331419,1161983a2d33f300bb4158ba1cb02bdd:2111586200,b7e9875d91373300ce83cffd32f12434:-907125360,7988559fd29f3300df706bacf59edb93:-38524180,b369d49bf6db3300da73485d09268b97:74021160,f34d37b2d65333001167a871bab784dc:832135388,423f6e229dd33300a12927a0eda8656d:1520418807,f119262e1593330039f55990724c00bf:-1048843210,e6fed9d437723300b2a0ef2b9de1c0f5:-2066789760,43ab0fe140d33300752fb766ed889812:-464582555,eb29eeedfa5333009b88fa34200c8567:1652233742,574c0a6d8a133300cb5c9033a0c80f69:2035358040,010d648d0f5f33008c2283dcc6103e7a:-1598271369,55cd681dcbff23005434b2c8ee619b63:-1391073499,a09c201d2dff23002786b9f0ee896a26:-1358596969,5127b3f07e732300da3593ffe36ee391:984606886,b66a267b07822300ffa4d395a968b3ef:-859280356,25d92affe182230033397219dc2eec4d:1533793495,6a8bda7704822300126a29ce6b7d31e7:298527066,b6d02ce3b10223004f6f2ecdfaa8e3af:2017327711,5c14ca114c4623006f45a87b2182c21a:-1145540983,18e3cedd070623001a36f4573db4bfbd:-1449416610,c8e106ddac0623000178eabf1aaedb26:-882002434,51ddb11de3062300c2fcbc00ef0c3fc8:1205375922,fe3a70157b4223006d560ec8ea338823:-1780938088,25b4f89df80223004b9075f8a990fa9a:-1425350874,f784bc9d9f0223000420c2ec52ea3316:1411192708,352a4dc9f20ea3006617ce2f6a8e6ca8:-25641275,1037c90dd00ea3007b2442c59ca6b8df:-487021182,be65c5c9f40ea300a94f47e4d1c79b52:-853255775,517e3005320ea300984b1799b3802fc7:-1023692527,154e7cc1b20ea300bd4e40338adb5cab:2138655131,3fb034c5dacaa300868baa382aed558d:-394600300,58a0744530caa300d60b4c6c522ea204:879058368,41af244598caa300b4b2afe0b1ddfaf8:1542275852,a82ee80142caa300568e3183aef50d1e:-2085178273,d41d28c11bcaa300c8f76bda4e3b1d25:-2080965761,962828011ccaa30073347ef083732312:300814791,82e04e94d80263009773bc9f51488696:1030556624,7528d118e08e23000574e105aecb5419:615259058,2e2359d0028e2300c1db53a6d0d3e88a:1490660783,0a501d50078e23007294a2af5cc8d1cf:-1657830103,692d81dc7b4e2300bd085ba3fc96101e:528746791,193c099cfd4e2300103102f6baeab13d:744557469,20bb4d5cad4e2300fbc09e5d545efba9:-1927577704,8514cd904b4e230053b7a3b0adc9159d:1652917352,32a7394c824623006f01f64f0dad73a1:-1380380890,ce27794c004623009c2229d8cd9ab063:1198261708,6c82f94881462300984bc15a7d14d117:-1703037775,3f96a8b749f1630035dabb1f991676bd:-1333148577,a65a987fafb163007d0a567e5824903c:-1179217899,17689cfb1cb16300b1c5db0f2f3631a8:1722464356,27e710fbfeb1630065e8129abb3b5cc7:146931150,08226f5b89b52300f2a2fb615be7f802:22697875,6fd531f13fb1630064849bebdecb4129:1855993024,2355bdb195b16300b03fc60e132b6480:1262546349,bb133971e7b1630069819ce4a4a63c56:-1693021847,36427d315cb163001216b6da19762c3b:2054379814,a9717dfdee7163008139b086d0e3dda3:635285842,1ad03dfdc87163000974e8a68349790d:1581109466,48456df54f7163006fca7bb425cbc564:1991042185,55eff721147d2300b157192525eb23ba:100014530,c02e73ad6c3d2300aacf3e6ec2af6a3d:-1517151273,66bdffadd43d2300712ba7cefbec1c97:-548056671,488bf721a6f9230041d9135b65a255f1:-499842497,3aabf8ad767523009bf84395d6002036:554036730,4faa7cedc7752300ef87e918f083f03e:732622282,62c27c293575230039b4b1e375b85852:416122504,ad99e4a580752300d9a4dfe9bd641e07:-142318401,2065a0e1d57523009c029138b08e3a3a:-1564689486,af042421fe752300be71e14a4775f5b2:-56183258,bce3a4610b75230048af158ded87efbe:1433406998,1882602128752300ff5c3ab31f392adc:12976636,3daf1c2d73352300d51c2eeb328f2d6e:1497204306,ab2b98a92235230070388405a0b24374:887185566,dcb71ca578352300512d3bfa14a3acf5:-2144255796,59b614e543352300e021a79fd82ee1c1:-166666686,17555c655f3523007a9982c3f4a42f4d:1396067682,26f39c258c3523004480b704ab0d0f47:877213849,f3e254a18d3523008c869fc375a525c0:-897322796,46a1d8a1e13523004f2910aff230e0fc:2098737298,f3cf04edadf123002f5af4d7c744474a:-400634283,27ce44ed47f12300eccfef6c9d1db434:-1540956345,7aed40ed8df123008f77997664f199a4:-231146449,a37d44ed60f12300de521e5ba3f4fc2f:-1546101817,316c086da7f12300f4770e053611dea6:645186886,fbabc86d6ef1230025893d23a9e758c3:1388195834,d41bc06d01f1230050be3b8b2872739a:538050413,9e7a082d39f12300bdc368fc95de87e2:647744406,a9f904e917f12300725d581f9cb7a1a0:-264306538,1c680029c4f1230024c3b3cee756f165:-1192916720,5ad44c2980f12300004d8ee52a7d2d4d:699674958,e1c444e564f12300274a1d3034d36fa0:1337468989,9a030ca549f1230059ea3ccd2b8388e8:-1976645505,fc924c2565f12300a150145a144a31c8:1263772839,7a40c825d5f12300a0c334e3c86b1bbe:483719975,2fae7bd1e5f12300f562e90c9bbdea2d:107124070,fb2e3bd118f1230001a508468e9ce5c5:-844808228,46ec339112f12300be431e6851f7a902:-488095906,272a3f5d2bb123003e50041b9dcccb18:-113917358,dad9b75d10b123002261162cfcf9102c:-701805692,72e77b5d89b12300c679ff27211682e2:523718873,31737f19c6b12300ccc486ffbbda0af0:-1473591493,86623f19fab123000d1462d0fc7e0e4b:-70407640,1ca177d5cbb12300e7b5dfb8a20e6947:-911963254,1080b7d127b123001b84b89e7c0f9bed:479401157,aebfe79528b123003d5ab4d63623e912:515508383,722fef55e8b12300d3855354eeb062fd:-1563121708,bdcbebd178b1230056ef65625a4cdbfa:1639643238,c5bb1b5974712300fb6ad28d61e4402d:-1216424676,b33b9759937123007c44dc4daa81061d:1578321276,498a5b193e71230040da9f6da9ee16c1:-1991926846,761a5b191b7123002e53573e26aa86af:-329004224,59c95fd5dd712300dfdd70d1734a7e05:-997104939,7079d3d59d712300f02e622bf2372d8b:425701554,3c391319a071230022011d54eb4ab9f1:-665430220,22c81bd53f712300be4aebede13791f5:935332622,f958d395e071230037018b75299d210c:-82421883,70e7d3d5eb712300ba0b87eee4f9573d:1540917390,ea97db9555712300c89c3f818fc8da4e:-1941698861,80b6d79531712300345aebce44323140:-1646663221,079613952b712300c690f5a0c5aac60f:485210709,c23653959f7123002ac89024bc10418c:-896797756,8075d355dd7123009165fafe5272e409:1481248977,75d45f156c71230029a4cbe8ada439bf:-1092633228,a4a45f15417123001deb2b1445ac6172:-1344783087,1e749b15e87123006dbbbc96ccec0997:2017959497,73041b15717123005f73b3a81749ecaf:1670334790,677297d1ac712300b232b11bc6d82280:1294715515,a440db5110712300bf38d198bea671dd:-377492756,08101f513e712300d20546086f284b40:239282982,a0efcb51ee712300aa6771507d1b92d6:42942593,176fc751b2712300845ebb741a114f08:36026670,3b0f0f1125712300413e170c49099ce6:-1874674719,7abdcbdd40312300ef48f1629a45f78a:-1779679428,a2fc07dd53312300fa388d14b73a3773:665439320,35ecc3dd6c3123004d292674a4fdea42:1068558530,0c6c879db6312300ec5977d8422b87c2:-1315206562,27a90f99cc31230063df26ab76303d03:-2060409718</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_a194ded4dbf32300bfa82a9a489619a9</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var actSysId = '';
var appUUID = gel("app_id").value + "";
var act_var_JSON = "${JS:sysparm_actVarsArr}";
var actionName = "${JS:sysparm_actName}";

new GlideModal().get("dialog_loading").destroy();

var $j = jQuery.noConflict();

function _set_values(arr_json) {
	
	var isDisabled = (arr_json.editables &amp;&amp; arr_json.editables.value) ? '' :'disabled';
	var data_type = arr_json.data_type + '';
	var val_type = arr_json.val_type + '';
	var type = arr_json.type + '';
	var placeHolder = (type == 'SECRET') ? 'placeholder="*******"' :'';
	var uuid_id = arr_json.uuid + '';
	var show_time = (val_type == 'DATE_TIME') ? true : false;

	var inputType = (arr_json.type == 'SECRET') ? 'password' : 'text';
	var multiple = (data_type == 'LIST') ? 'multiple=""' : '';
 	var input_return = '';
 	var GWT_calm_format = {'DATE_TIME':'dd/MM/yyyy - HH:mm:ss','DATE':'dd/MM/yyyy','TIME':'HH:mm:ss'};
	
	if(data_type == 'LIST' || type == 'EXEC_LOCAL' || type == 'HTTP_LOCAL' || type == 'EXEC_SECRET' || type == 'HTTP_SECRET' || (arr_json.options &amp;&amp; arr_json.options.choices &amp;&amp; arr_json.options.choices.length != 0)) {
		input_return = '&lt;select ' +placeHolder+ ' ' +isDisabled+ ' class="form-control select2-basic" style="height:auto;" id="'+uuid_id+'" '+multiple+'&gt;'+_option_handler(arr_json)+'&lt;/select&gt;';
	}
	else {
		if(val_type == 'DATE_TIME' || val_type == 'DATE')
			input_return = '&lt;span class="input-group"&gt;&lt;input type="text" id="'+uuid_id+'" class="form-control" style="background-color:white;" ReadOnly="true" value="'+_option_handler(arr_json)+'"/&gt;&lt;span class="input-group-btn"&gt;&lt;button class="btn btn-default" ' +isDisabled+ ' onclick="new GwtDateTimePicker(\''+uuid_id+'\', \''+GWT_calm_format[val_type]+'\', '+show_time+')"&gt;&lt;span class="icon-calendar icon"&gt;&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/span&gt;';
		else if(val_type == 'MULTILINE_STRING')
			input_return = '&lt;textarea ' +placeHolder+ ' ' +isDisabled+ ' class="form-control" id="'+uuid_id+'"&gt;'+_option_handler(arr_json)+'&lt;/textarea&gt;';
		else
			input_return = '&lt;input type="'+inputType+'" ' +placeHolder+ ' ' +isDisabled+ ' class="form-control" id="'+uuid_id+'" value="'+_option_handler(arr_json)+'"/&gt;';
	}

	return input_return;
}

function _option_handler(arr_json) {

	
	var options = '&lt;option value=""&gt;&lt;/option&gt;';
	if(arr_json.data_type == 'BASE' &amp;&amp; arr_json.options &amp;&amp; arr_json.options.choices &amp;&amp; arr_json.options.choices.length == 0) {
		if(arr_json.type == 'EXEC_LOCAL' || arr_json.type == 'HTTP_LOCAL' || arr_json.type == 'EXEC_SECRET' || arr_json.type == 'HTTP_SECRET') {
			_setRequestValues(arr_json);
		}
		else
			options = arr_json.value + '';
	}
	else {
		if(arr_json.type == 'EXEC_LOCAL' || arr_json.type == 'HTTP_LOCAL' || arr_json.type == 'EXEC_SECRET' || arr_json.type == 'HTTP_SECRET') {
			_setRequestValues(arr_json);
		}
		else 
			for(var i = 0; i &lt; arr_json.options.choices.length; i++)
				options += '&lt;option value="' +arr_json.options.choices[i]+'"&gt;'+arr_json.options.choices[i]+'&lt;/option&gt;';
	}

	return options;
}

function _setRequestValues(arr_json) {
	
	var label = ("label" in arr_json &amp;&amp; arr_json.label != '')? arr_json.label : arr_json.name;
	var loadingDialog = new GlideModal(label + '_loader', true);
	loadingDialog.setTitle('Fetching values for '+label+'...'); //Set the loading dialog title here...
	loadingDialog.renderWithContent('&lt;div class="loading-container"&gt;&lt;div class="loading-indicator icon-loading icon-lg"&gt;&lt;/div&gt;&lt;/div&gt;');
	
	var gajax = new GlideAjax('Nutanix_ClientServerScriptBridge');
	gajax.addParam('sysparm_name', 'getHttpValues');
	gajax.addParam('sysparm_type', 'apps');
	gajax.addParam('sysparm_parentUuid', appUUID + '');
	gajax.addParam('sysparm_varUuid', arr_json.uuid + '');
	gajax.getXML(getVarResponse, null, arr_json);//, loadingDialog]);
	
}

function getVarResponse(response, arr_json) {//, loadingDialog) {
	
	var label = ("label" in arr_json &amp;&amp; arr_json.label != '')? arr_json.label : arr_json.name;
	var answer = response.responseXML.documentElement.getAttribute("answer") + '';
	
	if(answer != 'null') {
		var parsedAnswer = JSON.parse(answer);
		var options = '';
		
		if(parsedAnswer.state == 'SUCCESS') {
			for(var i = 0; i &lt; parsedAnswer.values.length; i++) {
				options += '&lt;option value="' +parsedAnswer.values[i]+'"&gt;'+parsedAnswer.values[i]+'&lt;/option&gt;';
			}
		}
		else {
			var error_str = '';
			for(var j = 0; j &lt; parsedAnswer.values.length; j++)
				error_str += '&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;'+parsedAnswer.values[j]+'&lt;/div&gt;';
			$j(".error_body").append(error_str);
		}
		
		$j("#"+arr_json.uuid).append(options);
		
		if(arr_json.value) {
			if(arr_json.data_type == 'BASE')
				$j("#"+arr_json.uuid).val(arr_json.value).trigger('change');
			if(arr_json.data_type == 'LIST')
				$j("#"+arr_json.uuid).val(arr_json.value.split(',')).trigger('change');
		}
			
		new GlideModal().get(label+'_loader').destroy();
	}
	else {
		$j(".error_body").append('&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;Connection error to CALM!&lt;/div&gt;');
	}
	
	new GlideModal().get(label+'_loader').destroy();
}

function render_variables(answer){

	var parsed = JSON.parse(answer);
	var parsed_length = parsed.length;

	var containerString = '';
	
	var instance_type = (parsed[0].data_type) ? 'newer' : 'older';
	
	for (var i = 0; i &lt; parsed_length; i++) {
		
		if(instance_type == "newer") {
			if(!parsed[i].is_hidden) {
				var input_type = _set_values(parsed[i]);
			
				var description = (parsed[i].description) ? '&lt;div style="padding: 5px 1px; margin-bottom: 10px; background-color: #e8f0fa; color: #007eff; position: relative;"&gt;'+parsed[i].description+'&lt;/div&gt;' : '';
			
				var label = (parsed[i].label)? parsed[i].label : parsed[i].name;
			
				containerString = '&lt;div class="form-group"&gt;&lt;label style="margin-bottom: 7px;" class="control-label"&gt;&lt;strong&gt;'+label+'&lt;/strong&gt;&lt;/label&gt;'+description+input_type+'&lt;/div&gt;';
				$j(".bodyData").append(containerString);
				
				if(!(parsed[i].type == 'EXEC_LOCAL' || parsed[i].type == 'HTTP_LOCAL' || parsed[i].type == 'EXEC_SECRET' || parsed[i].type == 'HTTP_SECRET') &amp;&amp; parsed[i].value)
					$j("#"+parsed[i].uuid).val(parsed[i].value).trigger('change');
				if(parsed[i].data_type == 'LIST' &amp;&amp; parsed[i].options.type == 'PREDEFINED' &amp;&amp; parsed[i].value)
					$j("#"+parsed[i].uuid).val(parsed[i].value.split(',')).trigger('change');
			}
		}
		else {
			var isDisabled =(parsed[i].editables &amp;&amp; parsed[i].editables.value) ? '' :'disabled';
			var inputType = (parsed[i].type == 'SECRET') ? 'password' : 'text';
			var placeHolder = (parsed[i].type == 'SECRET') ? 'placeholder="*******"' : '';
			var input_type = '&lt;input type="'+inputType+'" ' +placeHolder+ ' ' +isDisabled+ ' class="form-control" id="'+parsed[i].uuid+'" value="'+parsed[i].value+'"/&gt;';
			var label = (parsed[i].label)? parsed[i].label : parsed[i].name;
			containerString = '&lt;div class="form-group"&gt;&lt;label style="margin-bottom: 7px;" class="control-label"&gt;&lt;strong&gt;'+label+'&lt;/strong&gt;&lt;/label&gt;'+input_type+'&lt;/div&gt;';
			$j(".bodyData").append(containerString);
		}
	}
	
	$j('#runAct').mousedown(runAction);
	$j('#cancelAct').mousedown(cancelDialog);
	$j("input").click( function(){ $j(".error_body").html(''); } );
	$j('.select2-basic').select2({allowClear: true});
}

function _regexValid(actJSON) {

	var regex_validated = '';
	var var_name = actJSON.label + '';
	var field_val = $j("#"+actJSON.uuid).val() + '';
	var reg_exp_str = actJSON.regex.value;
	
	var msg_json = {
		"DATE_TIME": 'Please enter '+var_name+' in "DD/MM/YYYY - hh:mm:ss" format',
		"DATE": 'Please enter '+var_name+' in "DD/MM/YYYY" format',
		"TIME": 'Please enter '+var_name+' in "hh:mm:ss" format',
		"INT": 'Please enter a valid integer value for '+var_name
	};

	var msg = var_name+"'s value "+field_val+" doesn't match with specified regex '"+reg_exp_str+"'";

	if(!actJSON.regex.should_validate &amp;&amp; (actJSON.val_type == 'DATE_TIME' || actJSON.val_type == 'DATE' || actJSON.val_type == 'TIME' || actJSON.val_type == 'INT')) {
		msg = msg_json[actJSON.val_type];
	}

	var reg_exp = new RegExp(reg_exp_str);
	if(reg_exp.test(field_val))
		regex_validated = true;
	else {
		regex_validated = false;
		var error_str = '&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;'+msg+'&lt;/div&gt;';
		$j(".error_body").append(error_str);
	}
	return regex_validated;
}

function runAction() {

	$j(".error_body").html('');
	var parsedActJSON = JSON.parse(act_var_JSON);
	var JSONlength = parsedActJSON.length;

	var regexValidationFlag = true;
	var isMandatoryFlag = true;

	var newJSON = [];

	for(var i = 0; i &lt; JSONlength ; i++) {

		if('regex' in parsedActJSON[i] &amp;&amp; !parsedActJSON[i].regex.should_validate &amp;&amp; (parsedActJSON[i].val_type == 'DATE_TIME' || parsedActJSON[i].val_type == 'DATE' || parsedActJSON[i].val_type == 'TIME' || parsedActJSON[i].val_type == 'INT') &amp;&amp; $j("#"+parsedActJSON[i].uuid).val()) {
			var regex_json = {
				"DATE_TIME": /^(((0[1-9]|[12][0-9]|3[01])([/])(0[13578]|10|12)([/])(\d{4}))|(([0][1-9]|[12][0-9]|30)([/])(0[469]|11)([/])(\d{4}))|((0[1-9]|1[0-9]|2[0-8])([/])(02)([/])(\d{4}))|((29)(\.|-|\/)(02)([/])([02468][048]00))|((29)([/])(02)([/])([13579][26]00))|((29)([/])(02)([/])([0-9][0-9][0][48]))|((29)([/])(02)([/])([0-9][0-9][2468][048]))|((29)([/])(02)([/])([0-9][0-9][13579][26])))(\s-\s)(?:[01]\d|2[0-3]):(?:[0-5]\d):(?:[0-5]\d)$/,
				"DATE":/^(((0[1-9]|[12][0-9]|3[01])([/])(0[13578]|10|12)([/])(\d{4}))|(([0][1-9]|[12][0-9]|30)([/])(0[469]|11)([/])(\d{4}))|((0[1-9]|1[0-9]|2[0-8])([/])(02)([/])(\d{4}))|((29)(\.|-|\/)(02)([/])([02468][048]00))|((29)([/])(02)([/])([13579][26]00))|((29)([/])(02)([/])([0-9][0-9][0][48]))|((29)([/])(02)([/])([0-9][0-9][2468][048]))|((29)([/])(02)([/])([0-9][0-9][13579][26])))$/,
				"TIME":/(?:[01]\d|2[0-3]):(?:[0-5]\d):(?:[0-5]\d)$/,
				"INT":/^(\d)*$/
	};
			parsedActJSON[i].regex.value = regex_json[parsedActJSON[i].val_type];
			parsedActJSON[i].value = $j("#"+parsedActJSON[i].uuid).val();
			if(!_regexValid(parsedActJSON[i])) {
				regexValidationFlag = false;
			}
		}
		
		if('regex' in parsedActJSON[i] &amp;&amp; parsedActJSON[i].regex.should_validate &amp;&amp; parsedActJSON[i].value) {
			if(!_regexValid(parsedActJSON[i])) {
				regexValidationFlag = false;
			}
		}

		if(parsedActJSON[i].is_mandatory) {
			if(!($j("#"+parsedActJSON[i].uuid).val())) {
				isMandatoryFlag = false;
				var msg =  "Variable '"+parsedActJSON[i].label+"' is marked as mandatory. Assign a value to it";
				var error_str = '&lt;div class="alert alert-danger" style="padding: 5px 16px; position: relative; margin: 5px 0px;"&gt;'+msg+'&lt;/div&gt;';
				//$j(".error_body").html('');
				$j(".error_body").append(error_str);
			}
		}
		
		if(parsedActJSON[i].is_hidden) {
			newJSON[i] = {"name":parsedActJSON[i].name,"value":parsedActJSON[i].value};
			continue;
		}
		
		if(parsedActJSON[i].type=='LOCAL' || parsedActJSON[i].type == 'EXEC_LOCAL' || parsedActJSON[i].type == 'HTTP_LOCAL' || parsedActJSON[i].type == 'EXEC_SECRET' || parsedActJSON[i].type == 'HTTP_SECRET') {
			
			if($j("#"+parsedActJSON[i].uuid).val())
				newJSON[i] = {"name":parsedActJSON[i].name,"value":$j("#"+parsedActJSON[i].uuid).val().toString()};
			else
				newJSON[i] = {"name":parsedActJSON[i].name,"value":""};
			
		}
		else {
			if($j("#"+parsedActJSON[i].uuid).val())
				newJSON[i] = {"name":parsedActJSON[i].name,"value":$j("#"+parsedActJSON[i].uuid).val().toString()};
			else
				newJSON[i] = {"name":parsedActJSON[i].name};
		}
	}

	if(regexValidationFlag &amp;&amp; isMandatoryFlag)
		callRunActions(JSON.stringify(newJSON));
}

function cancelDialog() {
	GlideModal.get().destroy();
}

function callRunActions(modVarString) {
	
	$j('#runAct').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', actSysId);
	gajax.addParam('sysparm_actionVars', modVarString);
	gajax.getXML(getResponse);

	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		GlideModal.get().destroy();
		g_form.addInfoMessage(answer);
	}
}

function submitActionVars() {
	actSysId = "${JS:sysparm_sysId}";
	var patt = new RegExp(/[0-9a-f]{32}/);
	if(!patt.test(actSysId)){
		return;
	}
	render_variables(act_var_JSON);
}
]]&gt;&lt;/client_script&gt;&lt;description&gt;This is used to set runtime action variables&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Set_Runtime_Action_Variables.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + '';
		app_id;
		}
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="app_id" id="app_id" value="${JS:app_id}"/&gt;
	
	&lt;body&gt;
		&lt;script&gt;
			addLoadEvent( function() {
			submitActionVars();
			});
		&lt;/script&gt;
	&lt;/body&gt;
	 &lt;!--style="height: 450px; overflow-y: auto; overflow-x: hidden;"--&gt;
	&lt;div class="error_body"&gt;&lt;/div&gt;
	&lt;div class="bodyData"&gt;&lt;/div&gt;
	&lt;div class="modal-footer"&gt;&lt;div class="row"&gt;&lt;div class="col-sm-9 pull-right"&gt;&lt;button class="btn btn-primary" id="runAct"&gt;Run&lt;/button&gt;&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Set_Runtime_Action_Variables&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-02-19 10:11:58&lt;/sys_created_on&gt;&lt;sys_id&gt;a194ded4dbf32300bfa82a9a489619a9&lt;/sys_id&gt;&lt;sys_mod_count&gt;711&lt;/sys_mod_count&gt;&lt;sys_name&gt;Set_Runtime_Action_Variables&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_a194ded4dbf32300bfa82a9a489619a9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:15:34&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1086252961</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>fa24eee4db711010eeb9808768961954</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b344f00000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Set_Runtime_Action_Variables</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>8f5ae7968a909410f8713e0ca00ba412</update_guid>
<update_guid_history>8f5ae7968a909410f8713e0ca00ba412:-1086252961,a379c786265814108b64c7058557212a:-76745528,d00f97c9c46ac010cb4fc262080824a9:1567701017,5cad9bc9f66ac0100d5f7ddc1251e823:870260075,11b61f458d6ac0100878914403d0e261:474619901,644298bb9d4e44508b0c00b9044ab32f:1882734485,592258bf104e44506735d5659d352585:2037802597,e70258bf974e4450a95253cd960d8c81:-1711164768,49d1dcbb9c4e4450851c8c47252f3173:397244833,0dac0cbbd54e44509ff85033ac77ae00:40967235,fc5c88bb134e44502ac945426b26d827:2049187176,612c40bb584e445054170ddc4ad890f5:227395272,8ba00c334a4e4450b6ae84ac9819febf:1882734485,5e5088b36b4e44503252e41639127120:-1478066024,de3000b3414e4450d17096b93d9d2448:974873665,9cffb3a3f04e445091cc985fe5eaa576:879107105,f7afbf63c54e44508fe7ed8636820bf7:293580292,b97f37afe90e4450b429a9e7a2ccf64e:339092706,02cd37af650e4450dbe9bfccfa2959bd:1064105045,49ad7b23b24e4450fbe6a5ff2bf6b81a:1475053739,c27db7af9f0e4450583f99257d007761:409632442,2ebcbbaf950e44509198922035dbebc8:2060383825,3f3cf3af6c0e445009101950647f98f0:511892706,b889b3eb9d0e445080409f5e74a170ab:-2085717846,8249f36f3f0e4450a9a200dad1f39cd9:754199306,2ec73f6b930e44506b36b174a3e5776c:-296152440,3c6603569e4680509ceea8330f5ce7d0:-1303824326,b68c769e670680501b135c2a072cb088:-1404244740,f5f636da100680501a01428478703126:-225891139,6446b69ad306805026b7ae1ba30fc045:649617823,e4b57a1a110680502d721331c9943cec:-1878733827,b5a087ca601500108384f6484e145182:1241431165,361d36a370b48c505cc5c8526b0fc0d9:1602466371,8b2c5b44034333006aa39813540baae1:-642618723,c8f993ccb1033300c9a621d435a99521:989077919,1ec997cc140333009d35747aa57f94f0:-1694885492,6f999b4cd50333002402fb9f9fb3537a:378940853,397997cc0b0333005677fa22ca6edbec:-1967327489,2149d700e8433300e8a187e4d3cb6af9:1819599223,f4b797ccf503330048bc0317a7e44f43:-1399921793,ab97d70043433300934cd84e5a4c39c3:-1357709886,3dd5938c7f0333003e3067f63807117d:-1425669816,24251b8c2c03330088f10ba5d5c1a1fb:1579843794,2fa41b8c3103330024143ea06bb2c0f7:-414302901,43149f4c3403330094cb9b40002a3910:-1565470256,2a045b4cf50333006b5aa1473521ca9e:192052929,f053d70c6d0333002a3fa42cb5848acd:-235475149,7b51d70c000333002ac6413328cd8f36:-500118329,c2419308050333004172afa44a79fb2d:1450647623,2dd0530c4d033300c9a31683fe30fcff:1696409052,a8a01b40b503330050bc23aec3975188:-963446740,016c8bc051033300a2da7482d2566593:709000318,828b03483c0333002e512a2533da8fe2:-872908852,26d90308fe0333005d87acc94c119dff:608796133,321ffaf7f4f23300412b994ad9d96a49:-522208113,25ee3637f0f23300392baa153c4401f4:684867771,1cae363763f233002b229c990db8e7ee:-373338132,51ad72f734f23300e09ea744b4982cc2:454454012,a6183aff0eb233005dc374018014896e:-577613481,3297f6335df233004704926dc8a630b5:-364703388,2d77baff7bb23300404ea7d6853d0a36:-577613481,5396fa33c2f23300389be0fb5ab7cc7c:-1244715529,9756faff33b233005eccb8a73c1f7a5f:-577613481,1c36faffbb72330039a9d2ba77676567:1939810007,82d476fffab2330059c88643ff9a1f4b:-577613481,469476f742b23300ff3b0c2b43afb3df:1939810007,1754b6f7a4b23300b5315477e03749ae:1251993762,a757eaff2a7233003a66955134d2ca5a:-1203185886,da9666f724b233008d60f4e71b8e3bda:1383250344,d74982b7c172330022d476035ed66b08:-1545269780,b7984277bd723300de80040e0f74a055:-1208785812,557706f36372330099554a4cfc5dee15:-906146899,e6a6827384723300a0f3158951f13a54:-1879008750,2674ceffd93233000a01dfcf3ef23998:-330286602,242db97fe5323300be97c80b5559fb4f:-557494401,65ccf5f7a0323300dc9fb4c00597308c:-1976248712,7f5c3d3b153233002073b1af91887a95:1413906357,43e731736e323300929b62bf589d0b4d:-1031626952,c149a7bafdf23300119560b0b05e380d:406539883,ec09a7ba34f233003395322797ba4a08:-708996302,ff886f7ad2f2330089f97e8a390c4e31:1890926717,cd68af7a3cf233003d59be753b939aef:-663864003,bdf76b7a94f23300755600e8a6cc0834:-36923324,8cf623f68bf23300bc60eac860a73f88:-1620695125,dcc6a73a15f233000ea47bebec03da8e:82325339,9c56a33a81f23300dfa5208cb4242860:1121604059,8406a33ac3f23300b3314c5b982a3d2e:-1382741734,34a5e7f600f23300aa3fbaf79aef8ef4:-1241480414,fd5527b673f23300b9cc3c05bf901c87:-730711104,2805a33692f23300e0394b20d69ccad0:1401856918,b8546bb698f2330062761ff3f2f447b5:-1379869852,50f3e3b692f23300bff7dcc99055bca1:1349205648,8fa3af769ff23300cea9a32661647756:-1654770810,1963af76c0f23300569468353afb130e:424779657,2413af7654f23300edd919573c684c08:76863781,5f926b72a1f2330096b745bad7cfeefd:-1667114072,bbd067720ff23300a82acd2d86bd4975:-171547495,631e13323bf233001dd1124d1943ef8c:-52806283,0b0e133241f23300bfecc93a502dbf88:-1918247472,300d5772cef23300fc39fef4284be454:1697388636,adbcd77246f233005abf17060105b1af:2120032131,f95c9f3e1ab23300944f2d4bb72cea1a:-680775101,c82c5bba05b23300307d888b7bd139ec:-1903528021,753b5f3e22b23300754d615c925c06e9:-629749380,db4a5f3e8db2330089f656e847d77fd3:-1852973254,6dd75f3e7eb23300ed675adaaa75ec7c:1855056138,06755f3e2eb233000fd22a379d5216cf:-732317910,63d45f3e5fb233001c7bacc5f975b377:1246652877,03121fbad1b2330080a1a8f94611103b:-380674112,fb219b3a17b2330084bba4dec8bca264:-1013087197,8d015bba48b233008620863c2bd774e2:-1993366717,0cf053bad1b233007c87274f2d916f6f:626976370,6600573afbb233009fcabb40a03c59db:-209424150,594dc73acfb2330055d73b6d2630f83e:-845232481,7e1d4fb6edb23300955e49673bc0d7be:1142812545,618cc7b657b2330056517686a9d5468b:1812383344,4b1c83f690b23300605aa9c3b5584742:1774398713,091bc7b6ebb233005c8edda5d7290d86:-1071309476,c2d9c3765eb23300f490b20c0b317715:-1946967050,5d090b7659b2330037aa452ada10c3e4:1333411203,b385437a78723300b39669db73ec0e97:784897892,f558cce16a0e8050b98b1233e3c938fa:-954062019,b648cce1510e8050d3d465b068b9c1f6:-447242880,f81804e1490e805033c67b59c2d491b1:-58678797,a6e7c8e1280e8050d330ca658ed5ec03:-1293035031,058788e1a30e80507773618df9ddb5ff:-378177717,5d6784e17b0e805004166e890864dbeb:-358103745,f5270021d50e80505a55ff7d1449aad3:1178739733,b6e644a19f0e8050ba5858d5e53336c5:-1027181815,8a95c861170e8050b3608955c62f9edf:812288579,ad358c21d10e80507f6e7c18ed69b217:905493204,fb048c21080e8050014010fb344b7c13:1678002665,bcb34c21a00e805036a8a5889d890977:-344294191,e303c0edabca8050511b4bddad48fef3:-197206446,a7c208ad7aca8050352bbb6037df91d0:643070287,e19200219c0e8050c01327f17dbc25e4:-833960326,a6a140edbeca805072629858eede944c:-1580492761,00a108adb8ca80503433e782546b5cad:1777036871,df6144ad37ca805065348b5a9ac6ac47:1464339599,9031486dacca8050a5924590a51116fe:56842642,498044ad22ca8050fd3b8f0e90fecc41:186129470,5040882dceca8050d3cb0b6bf1555507:-1459005794,f96f375d27ca80500f6f9556c283a266:-987648180,342f7b5dadca805024f58e3501b6674b:1325161877,daeeb71d63ca8050ab967a39e4887421:-493841423,20cebb1d38ca805038f18540dc7595b9:366803861,6e8e7b1dd9ca80505f46c6310111ceea:1569276578,957dbbd9c3ca8050fe57596e42df6647:-746566095,454dfbd9c7ca80503fc410d659339ddc:-1569564590,3bec33d964ca805095d1da48e351f808:961601640,c7ccfbd9a2ca80503535721a40eea2f1:-1953530536,0aacf399f0ca805059a3b429736f9263:-2085144889,36cb7799c3ca80501d6623fcf09dc7c7:-2126274407,591b3f11a8ca8050168bec6ca1165527:1525327737,90b9ff19f0ca8050a22adadfbc4f2011:96332251,d9e83b11b5ca80500f1b4efd12035021:-4612647,80e7b31958ca80504e6fa073e91d7324:-957350168,5ec773196bca805012eefe35f18503c0:1507768943,46b7f71112ca805049fb6ef845cdf71c:99572518,ce84b31114ca8050617e0dabe1e011c6:103586256,b662739d578a80507f004e6a79f0ec35:401272574,e022ff5d768a80504176fba76e6ebd77:-310233634,9f81fb5d188a8050122a0896dd3747dc:-1436217741,4511f75d3e8a8050875e17d220fc916e:1254818164,37c7aed956c6805007cd9ef98aff0564:-329505212,2e5726d91cc68050d7be37562f08cd47:185087556,91878d65c3b50810cbc284f08ca7837b:-920593812,01670565ceb508106c151aee3a502184:1117189177,2e35c9e1c1b50810b6bad810e7a695db:-920593812,91d9d7b8e93d841079521dae63e7ca85:1117189177,8e2097b04f3d84103db590ccbb0b74c8:-667898849,12347afcf5b9841021a87cb21b716937:2126545054,6af31c480b3504105195878ad78b1b75:237532144,78d35c48333504103613b4aa19d749a0:112194546,e3935c48823504104e7348b1dc84768b:-759398683,c983d848da350410a12a6c6e983be2fc:905323935,3e53d448e83504103ea33c4a3207aa73:-2056597852,ebb25808ef350410dc00aa00ca7644f4:1426733630,f3529cc4123504106330ea9b5ba01e91:-2060740088,d6f1dc84c7350410fd55b5d29974145f:-364780766,8bffc8444135041006724b5991070920:-1951354229,e9af0444cd350410c746a06a50702d0b:2038553984,894fc80454350410fb9384a894dd91a9:1393493757,0b9eccc0ef35041027f02c0820679f29:-881059191,ddbdc0c048350410155b32a5dbed79e0:-341121785,ab1a4400203504109f774f17fff45ab0:-352534557,41c9cc8c1ef10410cc7ee57334c348e2:-1296694171,a88844cca7f10410a00b8a68a950aa8d:473017559,575840cc74f10410dbc2cd64743618e9:892035477,52f7c88cd2f104102299c6734db924dc:-330853371,c067c08c9df1041054850c42d74907c2:41098134,cd278c4c53f1041000ab47d0bb36daa9:974424401,5cf6084c4ef10410be5ed78993f50708:-57958540,fb66080cd4f104101025fd84eca5bbe2:897381932,a2460c0c65f104100697acb763a1d9b8:563100189,a795440cc9f1041020544385487abb89:2079873578,c275800c3cf10410eb6efe74bc2cf541:-2080243412,f0f40c884cf1041093d5f74662648f06:543594752,84a44c88bff10410dc5945a5d1a3242e:359634028,055480889ff10410fa9a6e028b394e10:-498132804,e8344c88a8f10410cd3fc645806f7326:348005378,1293c448eef1041014aadb50747fe205:495431654,5cc2c44873f104108d292584bc4e1119:-787951132,30628448c2f1041061f9dc22329943fe:-1448368864,9a41c08441f1041060aae9dbd59bc23c:1017677370,aae008c41ff10410c00ea2a3cdaf0a4f:339099119,4ca008c416f104104b2905219d07da59:1844089665,607ff7b735e10410f9bbf814ecef3a75:-1568281047,4f5ef77706e104106bffc4aaf45daa92:496023723,19fdb7f3ace10410a4f8fa23db6abd5b:-1277810031,4b0df7772fe10410e970f47baf89a28e:1724313315,3abcb737b8e10410b425a1020d812144:-2105856714,656bb737f8e10410e63897e6f0c7d53f:-1430124363,fdea77b390e10410cf4b080082216601:1046385722,accabff32ee104100c19cc1f76a60921:1827029320,b96af7f3a9e1041063d594f8e78411d4:-278559760,365ab7f3c9e10410cdf07ddf4e20d6cf:187916045,3b27b333f5e1041066890274271d068b:-1742442765,f8c63b33fde10410c0d29b02cb461b8f:-27809099,6896f333d9e10410ff5bfabac81309df:-1569640180,14867bbf8ea104107ab7638b1e11e041:-27809099,cc6aebf78da104101511ebe5866517e4:-1569640180,fb4ae7f70da10410a304ebfe17d64cae:-27809099,071a6bf708a10410de0277e85eaf7e14:563791397,73f9e3f706a10410f9563f13fdefe129:106255100,c8f9a7f748a1041004f6b9817e7c2038:563791397,57d92bb717a104101eca61857b339c7d:1320756572,72c923f7d6a104107e9bc9e7a85560ca:-13303295,6ca92bb788a10410583daa3dc3ebd28a:197958277,f789a3f78aa104104e2dde750fc08114:877243918,1f792bb7a0a104109b6cefadd28ea485:197958277,8e696f7779a1041096b579b92a83c684:-1823879834,41e86f77e6a1041069756825dbde412d:375374797,b5b82377f4a10410b0c3f1fe0932d23f:-449534250,287823b762a10410e3df53d16c772d36:197958277,19c76f779ea104109e1054f59445dd25:134681022,93c6e7b399a10410f7040b0b464635b1:197958277,72c52b734ba10410208d017e825d8385:-445417188,9da0737c2833230036e1d81bd856b48e:1375503952,bd00ff3ca9332300dd6dbcf2910d5b73:-1721719408,59b66f303a3323008b7061413a028e33:193178002,6be56f30213323008f8f7277c288f23f:1680891916,c6b83f20b2736300b13026a3d761a3fc:463406962,5d18b720b7736300d604b04ca90d2f46:-997009229,4cd737ec9e33630090a3ab825cb562ae:-1141162174,2a5773ac18336300ab5b561c6dbfccf6:654597334,36f6bbec07336300bb7873549e2c5385:-1033209269,617637ec33336300fa220c7f0a3bcdf1:-1934576482,ed6673ac2b3363008641d432078b95ae:-1518792861,d52633a853336300a78bd4c3cdb71713:631762940,87413e2c387f230046b7caa98de6f5e6:1124444302,c7ab226ce27f230014a5c15d10f72740:1714485439,559bae2c657f23001175c9c8b452afb2:558395676,cb6bae2c3d7f23005ac3af9306c20f5e:-535275524,1eda6ae85f7f230067fb6f16f02add27:-1283060494,a9ca6e2c7b7f2300a5e89663d2daae0a:1026210138,f5aaa6e87e7f23003cbfad04be1fb6a7:660110292,5a8a6ae8247f23007deefa1f27528f22:12831058,c0d966a8207f2300190b5593796ee5de:383812587,bde866a8fd7f2300124b1f4b062836d9:-1513913161,842c36e18f99c810cc4433064eaff9d4:197958277,00c14774ba5948100831416f1a09ad35:-409533623,63edb02eb340cc10e2081f06c698103f:-48498417,d4ce54eeb5cc8c103b5b5e55cb6c2ec9:-388685999,48cf7b8ed6408c10e63364c6139a77d3:1199186485,47e03786d0408c1004ca1db02b31f475:713807735,ee695e28dbc448103ac35fc075b3779a:-1951600805,912916687cc44810a6b3c1b5ffc628a0:-1525995799,5ae8d2a044c4481003c587899b9e4343:435670022,30b8daa0b5c448109077f6e3635bc59f:-26721964,016816a010c448104358309e011d8cc1:1331313798,7c585e2882c44810ae8fdda8a8871a46:-66868973,0347d2a03bc44810aee4d4be355f363d:1675885491,5917daa0b7c44810d1db3e330441cc20:1281920707,5d769aa008c448107347d0d8fdd2e6ea:1732846919,9a3092a0f9c448100e6f992556ba8ac3:1618613695,d020daa016c44810c2a2b4dd52875b17:1764491754,a2bf06a009c44810f23b4aa7d12db94b:-1754149324,85af42a0b0c44810e1f6fb068b805ffc:-260388011,1f02e0946e0408102b76e02cdbbfa985:-1951600805,be51a894e30408102d7da96a8c348c0c:-340141724,8cf0ac100304081047532462c20ae229:1959362833,cc80ecd0b804081035b27972ad4f50a3:-1149505100,c47fd4d4d8c008103917f458b53e7463:2019809218,16941c001d08c410b803219e1daa46ae:-242958134,4f3bfbff4537f700bd6149f0c1ca3b53:-877338921,75dabf7f5d37f70013bce3357a520592:-548837169,a179b7ff8937f700cebc655a284cda2e:-407797974,0029b7ffb637f70052cae164dc8df42a:709169418,a908bf7f2337f700cf58fbae00ed7cdc:1664898874,a14777fb8937f700793a5bcb27fa3d79:241956034,abe5f33f3937f7000faeb101323ed780:709169418,d02577bb9f37f700bfdb7a7948ea8871:1623881162,53843bfbc537f7008339a88fed6a1522:1470878093,e43477fbfa37f700a1c2ce21d229ffab:-1476860830,b114b3bb3b37f700c3ebf7e967362761:714842053,449333772e37f70074c1c1c471a21561:662770730,a55ceb37cf37f700c3187e43d762e94e:2024533605,2abbab373337f7003c2a55e7c31383dd:21920679,0c0b2fb33037f70031d349897aeec5c7:888188670,523a27f34a37f700df7103a574f10939:-1302172301,2cc92fb34c37f700bfaa30e99b6e24b0:-1533249872,73a9673b94f3f7001e01a55260a35eb8:-1856463199,303927b769f3f70060d09f9c0def2576:1147008575,5318a7339f37f70085b7ae444196497c:888555703,f0a59b672df7b700103f3b462bfd0161:-1872330969,e6a45b6775f7b70086ee7f1deabeb1a7:545278802,1c7293e3acf7b70037f9ec0fa577b875:1153790698,e5e113e33bf7b70008d7a27206a8e15d:1766704556,99a09fe375f7b7008deadeb758ae481f:1868125492,790093e3f9f7b7009d993b035b960d70:611479287,f2ef0f23edf7b700d2954521b6037f6b:819468469,9e2f03e3b5f7b700c346e15653235d2f:-955249549,ea1e47677237b700c10d68b161ec336c:-55970417,4f5c0f2377f7b70014227aae69928e61:-1979175264,3f3ccbeba9b7b7004ce5874157e696cd:46332288,a466072f34b7b700da95276899dc7dd2:705403949,c84012e3f037b7007e5205250e90fdf8:1572492815,5fdf8eafa3f3b700b52e4fd7e1d23e6d:-2074478980,73af8a633a37b7002ff23a6310b850c8:1665448375,7f0f8a635537b700d1cf402fdcf627c2:-2074478980,6e5e8e63d337b700e9945d8c8780ae17:797292122,801ec6632437b700481045ee5dd4b11e:-1854583945,d5950e6b37f3b700f609f453fad0299e:-636633413,3da4cae398f3b700354bf20a267fb259:746774464,f264422b27f3b70034f5b265679893aa:-1810214821,eb90866749f3b7007ecd1c921ca26a9d:-1618290537,52ce690a75b77300f4af597650ea9983:192036208,9b9aa5c26b7773008888a6c24caf3372:691127200,0d4ae1c2dc7773000dbfb74b575294f6:1577616275,ce1aed827e777300b4dab967e5949139:1832277997,4bc925c27b777300b89ddf484c59880d:1316573279,0d792d82dd7773002ff2af641e9e7035:1068661542,ac49658e3e3773007d0ae1b15efab78f:1205213344,4235831d81373300700d803ac78fd177:1835299060,8f56db1c4b777300e4dd1d356ff30dff:-1282099954,0836d35c8e777300840497f1813b302f:-1022170407,c8c5d3582a777300f210b3d491340e38:-1282099954,cd3d8318487773000ce8fd1692972522:1211926508,f54c07181c777300a7cf2afa9d479d04:1081867539,dc2c8318a6777300ac642e372a3c4551:-1003837045,159b0bd4a177730024034cc47aa9aa00:427943383,d93bc7d49e777300dbb57dcc105aadf9:-2131911693,5f1b87d471777300019e0a1b2ac801c1:-1426504759,60eac7140a7773007c1aca865b14de90:1458392983,b94a0b94bf7773006a9f3203d360ce18:-1679125810,5589c714c9777300aedde18c8bc0c3c1:2098040092,1d198f5c90377300c9bfc92a23fe478d:-461280934,f3f70f5cef3773002464654b1c756986:-698849249,c8840750ad77730094b022131c679d52:-34264545,32e2f28c593b33008f463df10eaf4b8c:-863877833,e5b13a4cae3b3300046b48d31d88e207:-1456143200,3c411e086733b300484d0c38e5f85498:40805511,63784e4ca6ff730022d07f194acbdaa4:-16741241,658288634b273300d40c217220811c5e:983978759,d23d5f9626a3370060a9e54339551fde:197576801,686cdb5a52a337000e75400b5ac76dd0:482611249,ffbecf9ee863370029c687393be10230:-403615600,0f9e03de3563370031929e20f55edf01:-1678373879,fb30c342a4e7f300a1f7c83b762cd28f:994362847,cad183b1ad6fb3006f56deb08fb5e668:1928454837,d27183b1556fb300111abcd65f3c1864:-1580226381,48314771ca6fb3006a4579d71227a35b:-1848872774,58f00b31066fb3003ac1655bd90cc03d:-746961462,838fbef9f32fb30085cf2e2dbdb8023e:1928454837,922bbef9d72fb30022584a0a55ca984b:586344055,b53af639262fb30013f0b0fcb7430f67:-2027864586,cee8faf9742fb3001fc81abfe3a87c4b:852856686,f257f6399c2fb300d5b16986c452f961:-647661788,01273679112fb300da15e6c665c38157:-2027864586,3186fe79bc2fb300ef8de1f090ab582b:-647661788,5c25be39ce2fb3000cf4bff796c5c6ca:-1113040668,6e843af1932fb300f6cdb5a9ebd32d41:347808409,c78fa6f1042fb300ef7cba1c7faf56e1:2003602746,d46fe271ef2fb30021bbc3d0ea921ad7:1580413789,208c2671152fb3007fa879d4fa80fe33:-247857789,947c2e71292fb3001c9229d3e46e0cfb:695494192,df2ca6716c2fb300ae438401f3d53a31:-884937487,db0aee710e2fb3009c1e809fad34ad70:-919837272,99d92e71ca2fb3003da9a742642c2ff5:2102225563,5759e631c62fb30016a646a67c97d5d8:-221403219,e929aafd41ebb3001cb7387e16a13429:-160425386,07e8e271202fb300828983c88521f3d3:-1731300810,23386a31fc2fb300d857d6eac19c0f5d:-850235672,14e76afd4bebb30054771c4c108158c4:-375873345,b7b7aafddeebb3009ef2673802a87e4e:481508015,5f972efd65ebb300eebfc78d567298c3:572772643,b4772afd90ebb300cf0154399174a0cb:152669692,b947aafd1debb3003f9ce434c20c4523:1348244020,c5b6aebdb1ebb3003c587e37b8b6d164:-1514100888,6676a63d88ebb3008fbf09cd6682d82e:329794869,48662afd2bebb300838c45855741d6c5:-1567227945,674522392aebb3003803ff0a345ab0e6:-2064848324,3e94a6bdf6ebb30017ffd90037c5ef8c:-205574235,73f3a63d95ebb300b37823bb7e652a4c:52481957,b23066b1aeabb300a3c855a04f8fcc9f:117885004,b49fda39bfebb300bac58304ee7c43fe:-1952297383,80cbd6b5daebb300ff75b7c3128384bc:-1232305339,785bd63943ebb300e050a603cec6eaaa:-842913862,1cc41ce95eeb7300a83eab09b76c6af0:-1318491620,3f93d8e502ab7300cf61bca164f9adc8:-1220549652,46e8cce15aeb73007b07ffa5c8534585:959406404,0ecdd3d15baf3300d0d956eea76041f3:796921284,e61eabc10f27330031a2216cbd1fe2cc:-1202737820,676c2f4947237300b1ad6e6210fb9e42:-1691215420,71dba30de2237300543c7e55b2c9e080:-819771242,37d86f4943237300f71f317345caa5e1:-1252431414,5677a3097423730078be8f10ff2b88cc:-1150017234,72462f4584237300baa7e2623deda9ff:-1879087022,34262705c8237300df42951e6f8e34a9:-1961575775,c2d56b85562373004dd20ddafe01eca2:844090661,e4b52f8583237300f48785bfd5b877f7:-2112808071,df556f4569237300d4ea37506d4a5345:1744410552,9954a345112373009d18f1bfec974aa0:2019516479,0921e741dd2373004d0b9497c0478a35:-1902986908,f10d5fc93def3300177ddf3b9d38eeeb:1057425570,4dbaeeafdc1f730099b2d78e2a07cde9:-1902986908,fc7adaef66db7300bfa44268a08c9caf:-883705965,a25f06ab0bdb73003e0b9cb6b161a850:838890152,fececa2bc5db7300df04f1ecfbdfb12b:1934189083,0d3c06e7d7db73003759896a49008b90:716038864,1f2b0227e1db7300ba0ecebf70a326ff:-366468750,9aca4aa7aadb730001b320fdd89b7c79:-726772720,a5e9c2678bdb730092b80dd60111f7bb:-2047554178,d1898a67cedb730081668244e1f2249c:-1868768272,72f8c267cadb7300df34015a718fbc5e:1207730397,c8f70227a0db7300cb76308ad45513f6:-841958194,68470aa379db7300f1aca8e50c9cd7e1:-664860215,5cc60aa34adb730063be9e89547869dd:-1205092516,b7d582e306db7300279037ab5a958d7a:-2075408425,13a4c6efc09b7300c48aa317b4b2f0b5:-1576513543,12bf756ffb9b7300492427e1498955df:1889932270,f18ff16fdb9b7300c0e4c0314974b7da:1737714277,da1fb56f2d9b7300c69bfc3c1e31ef61:-431785659,1ade796fa49b7300de07256ff0e803dc:1537093994,569ebdeb239b73008d7315609e6190c9:1253210264,596ef92f3b9b7300fa2f3eac1bf00301:552290695,deedbdebd79b73008a9ef8cc31f43cc4:1315580520,adadb1eb3c9b73003e9717bee35da557:2089873894,6e7c79ebbd9b73005a9e727d96f59077:263206927,b8fbf5ebba9b7300b585767848f32ece:-1260303185,c28bb1eb899b730091123be56d67a745:1826675659,ac7bbd6b069b73001f62889afa7dc162:-2141579810,d73a75ab029b730000f6b389d0eca625:-1030035866,32d9316bde9b73002f80872e10290d3e:-584726001,0aa9f52b3e9b7300acf50fabe3551e97:-1901786471,9994fd27809b73007c0fdd35e5455226:2077805833,7364b9e3309b73009b2d03ed9ac704f4:-664282180,f7dfa163989b7300aa4a0da2a947d6f0:-1864224255,d6661523a65b7300eba060f6b800ae38:-2015075071,33d3c59faf5f3300280c96874e328a4a:-1623672728,4ec3c9df615f3300d56c5b4f3a9b8d91:560563436,3593c9df535f33008982c835d08fe7bf:1193212662,7a838d93f59f3300c377da403e860742:1160092194,9f438d931b9f33008af93de01fa6893e:-1623672728,01418913c49f3300dca56e16551edfb4:-2128014319,f5ff74138b9f3300a5179a04c0c68dbf:-1038247868,659ff8df465f3300e66f18de68d5c68a:1813370528,f77e709f3f5f3300b0f5adf4ebec4afb:866771872,831db89f075f33007812aa09c2696047:997362668,07ccfcd7485f33001abf3fdf48fd126e:-85784363,564c789be85f3300611467432968629a:-1268832220,3cab385b8e5f3300f249d1dd66d5aad6:1401614423,8c99b09bec5f3300973ace3958776f7f:-1653278302,31d8b89b035f33007ee3cd4194709c15:1005953494,7d98f85b275f3300d03ed74029dbf62c:370658119,1837b4d7ed5f3300955e9b02b5709afb:2105659392,ea76385b295f3300f401feaef945ddd0:-63366400,b426b4d7125f3300a045bdac63181ab9:-1252053499,29d5f4d7235f3300ce01dd8975d0b00d:-757943534,b714f017775f3300301d148856e370ea:-2062607998,ea33b4d7bc5f33007f02c671a1592c69:-1549625243,b462f0d75e5f3300a2316761c45f1253:1562631929,de12f497475f3300386bbd0afe0b5ce8:-751377541,57f074978c5f33002ab07e2005aa70e2:286506379,b954e361aed333004f358afb0510a38b:2046296119,aa242bed8293330075673904c01aa29f:-1449609138,5063a7614dd33300a9fdcb5adcd56e92:1072252069,ca926b213ad333006546c3ac3e770de8:2046296119,fc52e36173d33300642d1ac5aa6e5b84:-69393135,c7d16fed82933300e5d4a78ff987d584:-1998093806,90b1ebed9a933300db9207e06ac1fa49:1391540756,1ed06fed78933300a613d258f63f0a7f:-1899006565,1bde9f6d0793330065889fbf5c5952c3:-822655602,40ae572d999333003bd86f87bf67031e:519379795,eb6e1f2d4893330069588510726ac583:178739923,7b2e57ad29933300c442c29268d4450f:148899050,6a9d9f6d64933300071d0316a643db02:1248052788,21ec536d81933300496e764dfcaecf49:1548464559,10ccdf2dea933300871ffb39f1b48995:-410800512,489c5be9cf933300545b99c1102002f1:390981950,d0dbd7e973933300cddb3d41cf7fe1d8:-410800512,d09b9fe920933300a7817694db9e99ac:1786080073,202b5f690e9333000af1155d6b167cf1:577357257,f5fa5ba9969333006fcd6136175465b8:964592184,a7b91fa117933300856b42a2b7fc4c20:-432689091,c69817699f93330009049df4dff85b6a:-1835571043,e4f7536595933300068e3a7f06756f4e:-1448893341,6bd7d369ef93330002e5d08948dfc5ad:1393025481,7746dfe53c9333000f84343bdd9d3847:1201320767,5706136511933300c15b61aad406d3fb:1757184309</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>catalog_script_client_dd3bb89fdb983300bd097dda8c9619a1</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;cat_item display_value="Variables"&gt;dae4cbd637512300fdfc097973990e0d&lt;/cat_item&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;MPI API call for patching&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {
	
	if(g_form.getValue('type_of_blueprint') == "published" &amp;&amp; g_form.getValue('type') == "new"){
		var loadingHTML= "&lt;div class='loading-container'&gt;&lt;div class='loading-indicator icon-loading icon-lg'&gt;&lt;/div&gt;&lt;/div&gt;";
		var loadingDialog = new GlideModal("loader", true);
		loadingDialog.setTitle('MPI Patching...'); //Set the loading dialog title here...
		loadingDialog.renderWithContent(''+loadingHTML);

		var ga = new GlideAjax('Nutanix_ClientServerScriptBridge');
		ga.addParam('sysparm_name', 'mpiPatching');
		ga.addParam('sysparm_blueprint', g_form.getValue('blueprint'));
		ga.addParam('sysparm_project', g_form.getValue('project'));
		ga.getXML(processMpiPatching, null, loadingDialog);
	}
	
}
function processMpiPatching(response, loadingDialog) {
	
 		var answer = response.responseXML.documentElement.getAttribute("answer"); 
		var parse = JSON.parse(answer);
		 
	
		
		if(parse.status === false){
			g_form.addErrorMessage(parse.errMess);
			g_form.setValue('patching_status', "false" ,  "false" );
			
		}
		
			
	new GlideModal().get("loader").destroy();
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-03-25 07:42:23&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;dd3bb89fdb983300bd097dda8c9619a1&lt;/sys_id&gt;&lt;sys_mod_count&gt;154&lt;/sys_mod_count&gt;&lt;sys_name&gt;MPI API call for patching&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_dd3bb89fdb983300bd097dda8c9619a1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-06 07:34:07&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload>
<payload_hash>-762684543</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>fe24eae4db711010eeb98087689619e6</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>17187b3c5190000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>MPI API call for patching</target_name>
<type>Catalog Client Scripts</type>
<update_domain>global</update_domain>
<update_guid>9862233cee885c104edf1f90c6b46957</update_guid>
<update_guid_history>9862233cee885c104edf1f90c6b46957:-762684543,ebfdc77c28485c1016e5d0207effbb48:-291060805,dd37d964353f40102c83fee7fd9001ce:865819419,e3f3318c26f33300ecc3b393c12a161d:109437223,ac441984a9b33300dc4248f7880a69f1:879499517,5cc4634d63e3330059a804a27674613e:487196852,302add5be2d33300f0455cff91c33cd4:74395085,248b015383d33300549592234a80d82a:1114978569,bd5b8553cbd333008eca8873047fc650:-54793774,7e3801db9f933300ace60afa417823e9:164528810,440801db6d933300171e113410c152e5:-648176509,35638ddb13933300bdbd6d6ff2124db4:1456967017,f3414d5ba3933300f7df860f77d3eddf:45048143,75804d5be6933300bb673d92c78e97f3:783959530,ff0cf497c3933300d7f595300d3a9d0a:1192056265,005bb097f0933300487d6e3178089591:-58784850,4b5130df2153330095a0a6dbad501df6:-849514172,e110b0df3a5333007e097c7e706b507b:-2125542322,19cf689f47533300782168edab837486:-849514172,834fa4dbe0533300cdde1fe5fb7a9112:502240798,4ee81f09d58373007b3640e852e19b36:670308408,603b08300c4e730019119df7d54e646e:-1533529323,27918478380e730016cb831661768290:547369634,3a49db013c783300a766fd69bf57fe17:-577937671,80da0509cdb03300f5c218821f75e1de:-871648585,88aacdc5cab033007d2259884c82847d:908323732,be267c49ad7033005b56b99ff2148a73:-871648585,c555f0856c7033007d3cce08e1ebf132:908323732,4f3ea8c15770330080b29a2dd6ef535e:-871648585,d2d3a40d1f30330095cd0e14c3c402fb:908323732,6193bb97536c33002ea77d4e75360310:-871648585,e45e6b935d6c33005ab1390b124f5447:-511356380,19d8af5fc72c3300d3446cefb6a12e4f:-806944337,dc98ef9f772c33008fab82c01e1f6f7f:-49030232,40f6f17e68ec3300e49a17b7fe80820a:1700177699,0bb6313e26ec3300e049d02de703d8b2:1040195399,c1f521be26ac33002cf491bbccdb335f:-1717804252,94de193a14ac33007553c56dcda996a4:1040195399,af19c9f6d06c3300cbbd0b0ddbb5890c:-1717804252,f5e9226e26e43300fa7c0f5c50d47807:1040195399,60b5ea6a4ee4330081e4974f3f461fc5:-1717804252,19d12ea6a8e433004e72baba8ccbc46a:1040195399,7901adea37243300fb2ba89e03edfe71:-1717804252,769b152200243300b41a70b3d4dd593a:1040195399,5f2c6ca6e7a03300fe3c5026ac6cadc0:-1717804252,6f1b28e6006033003cdf12c4c242d4e4:1040195399,e01994e6fa60330005520f2ad0d70ffb:-1717804252,54d2c066b3203300f16f72d896fae07e:1040195399,58e2911eb0a0b3003812c49e73facd4c:-1717804252,d5e199da62a0b300890c476f2f5ec3e3:1040195399,c17401524ca0b300fb518f99ea1e27e9:-1717804252,a06a94167220b30058e5c472859046f2:1040195399,0c3354122620b3009b440cdb3021e46f:-1717804252,d080d09e39ec730033fc3ee06bdaccc5:1040195399,9b704852feec73004e78bfd88eb2c54f:-1717804252,052c0b0298e87300fc3a30770da5e112:1040195399,7abd87351b607300d0ccc38f462f3ce7:-1717804252,70cc437d58207300bf60c1f56995d5a5:1040195399,20b4b231e3207300e8999016401b901f:-1717804252,6e303a3d61ec330097037eec924ff857:1040195399,427466fdd2ac3300f9771a62012c7c68:-1717804252,4d09de79c5ac3300d2b074f9ff2eea73:1040195399,e1b74e79d96c33008a703c1b74ef0ce9:-1717804252,ff31d9a1a8a033005b44e1ce3b2d6216:1040195399,f18011a192a033002b02cd6d5237f4f6:936363212,a730dd6135a03300cd0047550e7fb62c:1539476066,1f3fc528d320330006f1456f324cc190:-1720347382,cedec964b22033003b176d9d83878fd1:-873820260,471e89e45f203300c3b2fbbe7967dc31:-314546522,4dcdc964e4203300a8a59e0426c6ed61:982257787,438b89640120330085504c23fb17eedb:-278686390,dfba49241b2033007fc408e42de21da9:-1622563157,7864b19001a433000389072948bc4aca:76336305,75b07d500ea43300e4c2a27a8a213153:-691966321,c5703d50bca433005a283832444d0cb7:965464,470eaddc746433001965a4625e4736bb:-1692441497,dd2dad5c37643300477e247c5e94068b:2040629172,020d259c436433005cde0724d4d56b93:1826955106,50eced5cd26433005805d480dec4f309:-1153086780,08aca99c23643300157326fbefd1efda:445747984,23db295c7a6433008ffb81e60514c93c:384877024,8bab295cb46433008599daac7a9f0836:-967598160,ec0b255c4c6433000505d06b6bb33d72:-990526882,59c8e9d80d6433008a85017c3bef3d1c:199715530,f387a1988d64330076c9703519d354ea:222644252,ca67ad98106433007ed0482eb7c29ec2:936015557,ed37e9585264330085b2b2cfd58d5e10:-2120344352,3436e958a06433000741001c132b8269:801412623,20e3e5d417643300117725d635a41ed2:789340236,f0b1e59454643300fc6affbfca8e31a3:-1398101492,de3d09940a243300c4cd12f29efaf9bf:516363440,8a9cc594452433002fa4015df18cde61:54744,9cd90dd05e2433001cd02a5476c0bcdc:-1185177617,60e88ddc09e033007520d0e96f374434:-651597087,12958d5cc7e03300eaf450a4b9076a1c:-1076948082,947549d887e033003e35e385cd28f730:143423158,792585d820e0330083d70f0ae8206530:-341928394,86e141d8b9e0330051a0b354b8142ea0:-2070275237,008141d806e03300c219d1d032796c5a:-1017895361,79104d58b1e03300f9ae5f02fe31a1d3:884385782,f48f74586be0330083a8e38d09699120:-55944990,349db8549ce0330090fbc8376c7bcf9b:-1804103789,871db454f4e03300838202c2b2b2af5d:-446249121,11cc38143fe0330069551cdf1b918f54:-1175678085,6dbcf05400e03300c6a9677930677158:1315375073,af8b3cd041e03300d13542acb5f6f95e:-2024625948,324ab4906de0330020c42da5db56863b:-4069658,3d9830dc14a033000a3c5f86fcab7495:-1066917434,50c7341ce8a033001051bcdb0c772dea:-4069658,b8f6f49cc3a03300b35081c492b4f660:1637959382,b7267c5c09a0330046515c665cfebee1:1672556534,66c5fc1c49a03300d4c2ec0eb5b98281:577492452,f6d4f81c13a033006e69d0501cdc565a:-1275738884,9eb378d8a6a03300da3f307c5593076e:-434138086,1923f4d40ba03300f63715e7204c2fc5:1031436474,4513f0542ba033006ad6690ba8fb5cbc:-1365169213,d43238d42ea03300a98824c6a40e4c76:-1432613766,2f8d20945fa03300a81d2c518ec69c6e:-933223020,473bac5446a0330079d41d85b0f11a7b:838777712,3d7a649c976033006420e077fef00319:-2055416435,026ae458fe6033004a740ece2991fc12:-1424445715,57f8d4d4a6603300d17ce322d2174b23:1806773820,8a369c948a6033004ac03bb022b51b0e:211724852,0d2694d4a6603300b30a993d4f0106ec:-1924201729,13455c54276033000b38cb54277c3f4b:-1443358863,07c31c5464603300da41e375daf3230e:-155153159,caf1d014ba603300777278837efe1c85:-904190303,d73f0010166033009284b6013067fc1f:-531059288,723e805c34203300c0ee82fd2e43196f:-1456440269,9ae7c898922033003522e2f925b1fae0:1146551280,09878c98e02033000b14263197fa51d3:-701727789,580180947f203300cb784b34079b46f4:-1456440269,32a0a444a26433005596287b3162f562:-1278805864,9a5e18c02e643300a956e0a1c2250f12:-685606162,ecca584cc5243300da5cf31e780d802a:2046042198,0267548c60243300835b37751a966744:-237516665,8ca6148c3a243300e0aecd5626520bef:2091638304,26759cc83c2433007598c8ee0ef3e717:1214044919,f4b358c86224330021f08fdf599b03b4:-595147729,c6529c885a2433005b5dad4cb5357d60:1996813906,19425008462433005a526d63d9e5d02a:-1591717102,132fc008372433004591cfacd0042e31:-1516298580,180f8c84de243300ffb6a6cbf71213fe:176457938,9d1e0c84e5243300c2d83033db96f213:-865925906,708d8484e6243300a38ca99da9e3bd79:1736459534,4decfbfbb5d033008bc5ebbf187df68f:738955979,97eb73fbe1d03300b9466cfb87ae319f:1704413568,05677ff7c0d033009b2d95b952b3123a:-962417354,d9767fb73dd03300db2984549b3ebd30:1704413568,89f953736a503300f26f16635ad9dc12:-788192627,561917ff9b50330021452c6b0dff5a84:-2128936645,fffe7e3ff7103300de3ea0b30d32ec92:-1153000093,4d4eba3f4c10330068f6f697922ba6d6:949064911,c5edf6fbc210330097cfe3475c49391a:-1113119298,e9dc7677c8103300cc934ecf6995a99a:200684433,64853677751033001b0899edb87732dd:-665676076,774bf89f40983300d872f0e8be4c44ad:1322718146</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_script_include_76ca7b134f1e33008373224f9310c7e0</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_nuta2_nutanix_ca.Nutanix_Action_Utils&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;Nutanix_Action_Utils&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Nutanix_Action_Utils = Class.create();
Nutanix_Action_Utils.prototype = {
    initialize: function() {
		this.utils = new Nutanix_Calm_Utils();
		this.logger = new Nutanix_Calm_Logger();
		this.actBody = {"api_version":"","metadata":"","spec":{"target_uuid":"","target_kind":"Application","args":[]}};
    },
	
	_common_action_body: function(app_resp) {
		this.actBody.api_version = app_resp.api_version;
		delete app_resp.metadata.owner_reference;
		this.actBody.metadata = app_resp.metadata;
	},
	
	app_clone_body: function(app_resp, action_variables) {
		action_variables = JSON.parse(action_variables);
		this._common_action_body(app_resp);
		this.actBody.spec = action_variables;
		return JSON.stringify(this.actBody);
	},
	
	snapshot_crd_body: function(app_resp, action_variables) {
		
		action_variables = JSON.parse(action_variables);
		this._common_action_body(app_resp);
		var substrate_uuid = app_resp.status.resources.deployment_list[0].substrate_configuration.element_list[0].uuid + '';
		this.actBody.spec.target_uuid = app_resp.metadata.uuid;
		
		for(var i in action_variables)
			this.actBody.spec.args[i] = action_variables[i];
		var snapshot_crd_json = {"substratUUID":substrate_uuid, "actionBody":this.actBody};
		
		return snapshot_crd_json;
	},
	
	default_actbody: function(app_resp, action_variables) {
		
		if(action_variables != '')
			action_variables = JSON.parse(action_variables);
		
		this._common_action_body(app_resp);
		this.actBody.spec.target_uuid = app_resp.metadata.uuid;
		
		for(var i in action_variables)
			this.actBody.spec.args[i] = action_variables[i];
		var default_json = this.actBody;
		
		return JSON.stringify(default_json);
	},
	
	app_update_blueprint_call: function(action_sys_id) {
		
		try {
			var appGr = new GlideRecord(this.utils.configuration.table.NutanixCalmAction);
			if (appGr.get(action_sys_id))
			{	
			var app_uuid = appGr.parent_uuid + '';
		
			var getAppBlueprint = this.utils.makeCalmApiCall('GET', '/apps/'+app_uuid+'/blueprints/original','');
			if(getAppBlueprint.getStatusCode() == '200' || getAppBlueprint.getStatusCode() == '201')
				return getAppBlueprint.getBody();
			else
				this.logger.error("Error in app_update_blueprint_call API call. Error: " +getAppBlueprint.getBody());
				
			}
		} catch(e) {
			this.logger.error("Error while fetching app blueprint[original] API call. Error: " +e);
		}
			
	},
	
	app_blueprint_validate_call: function(action_sys_id, updated_bp) {
		
		try {
			var appGr = new GlideRecord(this.utils.configuration.table.NutanixCalmAction);
			if (appGr.get(action_sys_id))
			{
			var app_uuid = appGr.parent_uuid + '';
			
			var getAppBlueprint = this.utils.makeCalmApiCall('POST', '/apps/'+app_uuid+'/blueprints/new/validate', updated_bp);
			if(getAppBlueprint.getStatusCode() == '200' || getAppBlueprint.getStatusCode() == '201')
				return getAppBlueprint.getBody();
			else
				this.logger.error("Error in app_blueprint_validate_call API call. Error: " +getAppBlueprint.getBody());
			}
		} catch(e) {
			this.logger.error("Error while validating app blueprint[new]. Error: " +e);
		}
			
	},
	
	update_app_blueprint: function(action_sys_id, updated_bp) {
		try {
			var appGr = new GlideRecord(this.utils.configuration.table.NutanixCalmAction);
			if (appGr.get(action_sys_id))
			{
			var app_uuid = appGr.parent_uuid + '';
		
			var getAppBlueprint = this.utils.makeCalmApiCall('PUT', '/apps/'+app_uuid+'/blueprints/new', updated_bp);
			
			if(getAppBlueprint.getStatusCode() == '200' || getAppBlueprint.getStatusCode() == '201')
				return getAppBlueprint.getBody();
			else
				this.logger.error("Error in app_update_blueprint_call API call. Error: " +getAppBlueprint.getBody());
			}
		} catch(e) {
			this.logger.error("Error while updating app blueprint[new]. Error: " +e);
		}
	},
	
	update_actBody: function(app_resp) {
		
		this._common_action_body(app_resp);
		this.actBody.spec.target_uuid = app_resp.metadata.uuid;
		
		delete this.actBody.spec.args;
		var default_json = this.actBody;
		
		return JSON.stringify(default_json);
	},
	
	get_os_type_singleVM: function(action_sys_id) {
		var appGr = new GlideRecord(this.utils.configuration.table.NutanixCalmAction);
		if (appGr.get(action_sys_id))
		{	
		var app_uuid = appGr.parent_uuid + '';
		var os_type = '';
			
		var getAppBlueprint = this.utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');
			
		if(getAppBlueprint.getStatusCode() == '200' || getAppBlueprint.getStatusCode() == '201')
			 os_type = JSON.parse(getAppBlueprint.getBody()).status.resources.deployment_list[0].substrate_configuration.os_type + '';
		
		return os_type;
		}
	},
	
	get_provider_type_singleVM: function(action_sys_id, sys_id_type) {
		
		var app_uuid = "";
		
		if(sys_id_type == "actions") {
			var appGr = new GlideRecord(this.utils.configuration.table.NutanixCalmAction);
			if (appGr.get(action_sys_id))
			{	
			app_uuid = appGr.parent_uuid + '';
			}
		}
		
		if(sys_id_type == "restore_points") {
			var restoreGr = new GlideRecord(this.utils.configuration.table.recoveryPoints);
			if (restoreGr.get(action_sys_id))
			{	
			app_uuid = restoreGr.parent_uuid+'';
			}
		}
		
		var getAppBlueprint = this.utils.makeCalmApiCall('GET', '/apps/'+app_uuid, '');
		var provider_type = '';
		
		if(getAppBlueprint.getStatusCode() == '200' || getAppBlueprint.getStatusCode() == '201')
			provider_type = JSON.parse(getAppBlueprint.getBody()).status.resources.deployment_list[0].substrate_configuration.type + '';
		gs.info(provider_type);
		return provider_type + '';
	},
	
    type: 'Nutanix_Action_Utils'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-03 07:55:10&lt;/sys_created_on&gt;&lt;sys_id&gt;76ca7b134f1e33008373224f9310c7e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;72&lt;/sys_mod_count&gt;&lt;sys_name&gt;Nutanix_Action_Utils&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_76ca7b134f1e33008373224f9310c7e0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;shivraj&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-22 12:27:02&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-289420603</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:42</sys_created_on>
<sys_id>fe24eae4db711010eeb98087689619e9</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a217b9890000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:42</sys_updated_on>
<table/>
<target_name>Nutanix_Action_Utils</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>0bde3ecee8181410ac68a38551a648a1</update_guid>
<update_guid_history>0bde3ecee8181410ac68a38551a648a1:-289420603,a56fa7b112b9841022bad6680722e8a7:-1316588884,5efe2bb120b98410459878962482533b:-770533588,b2ee6b7132b98410502b01cdfd46a871:-1517055796,e81e6b71d1b9841001941cd82e80444c:-1588333909,636026611d3d44104b795d3244b28672:1268145522,dd1fd221823d441094cd9f759bd01860:760070004,2505d26928f94410e72914cf0f3fdfc7:1268145522,b35092658df944109ec1f4de124e7e14:-1833411012,730e862571f9441084bd50a7233da9dd:1171231250,a786e1db18df33003b29dc6dd3967009:1864329340,131c119321df3300766ec89512a6ce9c:-848466830,390c19d379df3300149b67378098328b:-823294494,c29bd1d334df3300f06ff63746d63ddf:1630862758,4b3611dffc9f330099b0f766d1ae4377:-1995611941,ed85d59f219f3300997e67a9db00e13c:-330917149,4b9c49d7229f3300e07562edf70c4c28:1885822527,251c0d1b9f9f33004e1d7c6237e5fd76:-327604052,1a998957cb9f330005b48679717ef858:-1372229501,21b841d3459f330038c1ce1d0266f95a:1536406988,36a4844bbf53330089001712354d8bca:-297424929,fc94408b6f533300abb2decf07037c9a:1871940515,b3c1408b9d533300acdca42ceaf69165:1054625196,194d73b2c75333000c9bb73dd099b665:-942486585,ac632ff23c133300656d7de69549f08c:1725141694,07517e22a9d33300bc88e4a0fb83bfaa:-1405205413,2d90fe22ded33300eb4a40f2adc9b3c6:1227471125,17dfa6226dd33300901f74211ee8d2c9:1044652883,809f6262bdd33300ec63ccaac4358113:143429215,847fee221dd33300dc1b98872addceb5:-2074328027,2e47ae6239933300b5152938cad3b715:-146274778,9a6b16a2a29333001716bc5dd08580c9:1650571761,edd4d9cc36f23300a146be4f30c48c90:1226345124,a324c39fb9e233000c0249a0aee5d2ef:1977211358,5f634f5faae233001b9c02fd18c05238:-321614259,0e3fba1b58e2330097cde486c8d8391e:-604335785,84eeb6d759e23300a0b4f20d47dff950:-1930136919,8aceba5ba4e2330020fbb68e337eb6c8:1694918051,78f13edf52a2330045748cc42dcb2e02:1456907145,e90eae9fe0a23300a520117ce5007877:-1210653190,d0adee9f07a23300c2f071f12d418e33:-1779292038,95ccae9fa8a23300991be3519f07fb63:1296973856,1d0cae5f3ba23300983ec97bea5a14ff:175098677,b4ba6e1ff5a2330055b310a36e297760:1700617672,9b49e21f37a23300c1265a7a243e06cc:-1257758133,bae7eed765a233008a31dc4ccfa92305:81726735,15a6e657c5a2330082ec289dda48166c:1482931641,0155ea171da2330041f28aaefee18492:289631064,db521a5fbb623300362b0ffbb48cd274:1456907145,0250d61f8e623300e40caa6bba94f254:-1289268103,d6c3759ba1223300a92b12dba917054f:2127003868,dc105d37bb1a730085cc99e0d957e60b:1129964020,b38a8523a5de33006b58ba56c1aaca70:-1585953611,224acdaf229e3300de2db7578b387036:1522727469,4c1a412389de33004e09e0e39f8d2804:-625136058,e38ffc6b1f9e33002b10fc1ef27c8735:324631407,4a1f38a7ab9e3300cf9bccce8f948be1:-728858845,628eb4a7259e3300f021a2a3976b798d:324631407,16acb4a7619e3300775f99f76a5d5e86:-527139389,1fa9f467db9e33003c2d55e698eeed1d:619647793,c8997067c39e3300a51f7a7ea670e6d2:636511025,645930a7419e3300bdca792e91cfd5d5:517787670,6b107c23329e3300d79c1cd02bd4739b:-1290358881,c8ef2c23bf5e33006b46ec56078760e7:1989403297,6c9bc8eba71e330033a910d79cb1d083:754602716,89b9cc6b9f1e33003e0310feee54fa74:-1138713628,3578c46b131e33006d941e3f324058f9:-540218809,dea7042b9f1e3300605fcde80debadaf:-1602869431,445608e7441e33006d0735e4c8b87fb7:1271931684,189508e7021e33006353e6b8c35008c7:-1016307438,004548230e1e33009d4fbe56e6058ae9:522908810,cfa408e7681e33006d52536d717e8dc1:-1547618094,523d3fdf53da330047a92a02a7a9b1ec:692260255</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_05b50d291bf54410ac43877ddc4bcbd8</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

$j('#confirmAct').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function runAction() {
	
	$j('#confirmAct').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var act_sys_id = gel("action_snapshot_restore_sys_id").value + "";
	var snapshot_uuid = gel("snapshot_uuid").value + "";
	
	var delete_vm_check = $j('#delete_vm_restore').is(":checked").toString();
	var json_var = [{"name":"ami_id","value": snapshot_uuid},{"name":"delete_vm","value": delete_vm_check}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', act_sys_id + '');
	gajax.addParam('sysparm_actionVars', JSON.stringify(json_var));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}

function cancelDialog() {
	GlideDialogWindow.get().destroy();
}]]&gt;&lt;/client_script&gt;&lt;description&gt;Snapshot Restore AWS&lt;/description&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Snapshot_restore_aws.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.recoveryPoints);
		if(not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + "";
		var snapshot_uuid = not.uuid + "";
		}
		var action_snapshot_restore_sys_id = "";
		var actGR = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		actGR.addQuery("parent_uuid",app_id + "");
		actGR.addQuery("type","system");
		actGR.addQuery("name","action_restore");
		actGR.query();
		if(actGR.next()) {
			action_snapshot_restore_sys_id = actGR.sys_id + "";
		}
		
		action_snapshot_restore_sys_id;
		snapshot_uuid;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="action_snapshot_restore_sys_id" id="action_snapshot_restore_sys_id" value="${JS:action_snapshot_restore_sys_id}"/&gt;
	&lt;input type="hidden" name="snapshot_uuid" id="snapshot_uuid" value="${JS:snapshot_uuid}"/&gt;
	
	&lt;div&gt;
		&lt;label style="margin-bottom: 10px;" class="control-label"&gt;&lt;b&gt;The restore action creates a new VM (from the selected AMI) that has the same configuration as the source application with a different IP address.&lt;/b&gt;&lt;/label&gt;
		&lt;div class="form-group"&gt;
			&lt;span class="input-group-checkbox"&gt;
				&lt;input id="delete_vm_restore" class="checkbox" type="checkbox" value="false"/&gt;
				&lt;label for="delete_vm_restore" class="checkbox-label" id="delete_vm_restore_label"&gt;&lt;strong&gt;Delete Previous VM&lt;/strong&gt;&lt;/label&gt;
			&lt;/span&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	
	&lt;div class="modal-footer"&gt;
		&lt;div class="row"&gt;
			&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
				&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
				&lt;button class="btn btn-primary" id="confirmAct"&gt;Confirm Restore&lt;/button&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;style&gt;
		input[type="checkbox"]  {
		margin: auto 4px 3px auto;
		}
	&lt;/style&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Snapshot_restore_aws&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-18 07:44:53&lt;/sys_created_on&gt;&lt;sys_id&gt;05b50d291bf54410ac43877ddc4bcbd8&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;Snapshot_restore_aws&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_05b50d291bf54410ac43877ddc4bcbd8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:05:35&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>615996992</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>fe24eae4db711010eeb98087689619ec</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b343f70000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Snapshot_restore_aws</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>f018ebd2699094109b6e3f5ad6cd5601</update_guid>
<update_guid_history>f018ebd2699094109b6e3f5ad6cd5601:615996992,98dacbc633581410f97ab93720999276:1369521838,bb3d17c9706ac0104d5c693c90376af2:-261909195,427a9f09826ac0105084b34cbb069247:693995503,8db91709e56ac01004a45d9baf007ba5:-670296364,8f961b05616ac0102840d7d4a0a350a0:-1868469306,44d41781636ac010338f2e581bbc05a6:1445210650,40e0e0cc581a8450ef9fa3fea0943018:840456280,54dcc38b127d48108aa4981697b6a2ac:-710720992,d63b8f0b0b7d48107d3536c2a85cc742:-358333905,ea598f87787d4810977a63c53909cfc8:-930736972,c2960347667d4810d7d408dffacd0410:2046361423,dc7583077b7d48105475965d31bcdd9d:-144181987,d635efb5e07984103906ace6eae37211:782850913,2f923e3971f58410eb81239127a7427d:-278998806,38c6c529a3f54410191a2197586715ce:794420451,0b66096994f54410a2a59d2448563e55:-1616622644,d1f505211bb14410d07892ac1f20cbc8:49171071</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Nutanix Calm">3b7631654f452b001200e5201310c76b</application>
<category>customer</category>
<comments/>
<name>sys_ui_page_481330194f9233008373224f9310c799</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[var $j = jQuery.noConflict();

new GlideModal().get("dialog_loading").destroy();

var enabled_services = gel("ngt_services").value + "";
enabled_services = enabled_services.split(',');

if(enabled_services.indexOf('VSS') == -1)
	$j("#app_const").attr("disabled", true);

$j('#snapshotSave').mousedown(runAction);
$j('#cancelAct').mousedown(cancelDialog);

function cancelDialog() {
	GlideModal.get().destroy();
}

function runAction() {
	
	$j('#snapshotSave').prop("disabled", true);
	$j('#cancelAct').prop("disabled", true);
	
	var snapshotName = $j('#snapshot_name').val();
	var snapshotType = $j("input[name='snapshot_type']:checked").val();
	var actSysId = "${JS:sysparm_sysId}";
	var modVarString = [{"name":"snapshot_name","value":snapshotName},{"name":"snapshot_type","value":snapshotType}];
	
	var gajax = new GlideAjax('Run_App_Actions');
	gajax.addParam('sysparm_name', 'runAction');
	gajax.addParam('sysparm_actionsysid', actSysId+'');
	gajax.addParam('sysparm_actionVars', JSON.stringify(modVarString));
	gajax.getXML(getResponse);
		
	function getResponse(response) {
		var answer = response.responseXML.documentElement.getAttribute("answer");
		g_form.addInfoMessage(answer);
		GlideModal.get().destroy();
	}
}]]&gt;&lt;/client_script&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint&gt;x_nuta2_nutanix_ca_Save_snapshot.do&lt;/endpoint&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;j:set var="jvar_element_id" value="${JS:sysparm_sysId}"/&gt;
	&lt;g:evaluate var="jvar_not" object="true"&gt;
		var appUtil= new Nutanix_Calm_Utils();
		var not = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmAction);
		if (not.get('${jvar_element_id}'))
		{
		var app_id = not.parent_uuid + '';
		}
		var appGr = new GlideRecordSecure(appUtil.configuration.table.NutanixCalmApplication);
		appGr.addQuery('uuid', app_id);
		appGr.query();
		appGr.next();
		var enabled_services = appGr.services_enabled + '';
		enabled_services;
	&lt;/g:evaluate&gt;
	
	&lt;input type="hidden" name="ngt_services" id="ngt_services" value="${JS:enabled_services}"/&gt;
	
	&lt;body&gt;
		&lt;div&gt;
			&lt;div class="info-message" style="padding: 5px 16px; background-color: #e8f0fa; color: #5f96e3; position: relative; margin: 5px 0px;"&gt;Volume group information will not be saved with the snapshot.&lt;/div&gt;
			&lt;div class="form-group"&gt;
				&lt;label class="modal_label"&gt;&lt;strong&gt;Snapshot Name&lt;/strong&gt;&lt;/label&gt;
				&lt;input type="text" class="form-control" name="snapshot_name" id="snapshot_name" placeholder="Snapshot name" maxlength="64" value=""/&gt;
			&lt;/div&gt;
			&lt;div class="form-group"&gt;
				&lt;label class="modal_label"&gt;&lt;strong&gt;Snapshot Type&lt;/strong&gt;&lt;/label&gt;
				&lt;div class="form-group" style="padding-top: 8px;"&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input class="radio" type="radio" name="snapshot_type" id="app_const" value="APPLICATION_CONSISTENT"/&gt;
						&lt;label for="app_const" class="radio-label"&gt;App consistent&lt;/label&gt;
					&lt;/span&gt;
					&lt;span class="input-group-radio"&gt;
						&lt;input class="radio" type="radio" name="snapshot_type" id="crash_const" value="CRASH_CONSISTENT" checked=""/&gt;
						&lt;label for="crash_const" class="radio-label"&gt;Crash consistent&lt;/label&gt;
					&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
    &lt;div&gt;Your snapshots will be available in the "Recovery Points" tab.&lt;/div&gt;
			&lt;div class="modal-footer"&gt;
				&lt;div class="row"&gt;
					&lt;div class="col-sm-9 pull-right" style="width: max-content;"&gt;
						&lt;button class="btn btn-default" id="cancelAct"&gt;Cancel&lt;/button&gt;
						&lt;button class="btn btn-primary" id="snapshotSave"&gt;Save&lt;/button&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
	&lt;/body&gt;
	&lt;style&gt;
		.modal_label {
		margin: 4px 30px 6px 0px;
		}
		input[type="radio"]  {
			margin: 2px auto auto 0px;
		}
	&lt;/style&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;Save_snapshot&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-26 12:04:28&lt;/sys_created_on&gt;&lt;sys_id&gt;481330194f9233008373224f9310c799&lt;/sys_id&gt;&lt;sys_mod_count&gt;90&lt;/sys_mod_count&gt;&lt;sys_name&gt;Save_snapshot&lt;/sys_name&gt;&lt;sys_package display_value="Nutanix Calm" source="x_nuta2_nutanix_ca"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Nutanix Calm"&gt;3b7631654f452b001200e5201310c76b&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_481330194f9233008373224f9310c799&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-23 10:14:34&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload>
<payload_hash>-885203246</payload_hash>
<remote_update_set display_value="Nutanix Calm V1.3_4">f224eae4db711010eeb98087689619e5</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2020-07-01 08:13:43</sys_created_on>
<sys_id>fe24eee4db711010eeb9808768961953</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>171a6b344470000001</sys_recorded_at>
<sys_updated_by>admin</sys_updated_by>
<sys_updated_on>2020-07-01 08:13:43</sys_updated_on>
<table/>
<target_name>Save_snapshot</target_name>
<type>UI Page</type>
<update_domain>global</update_domain>
<update_guid>102ae79668909410e18bc9b2f02ca31b</update_guid>
<update_guid_history>102ae79668909410e18bc9b2f02ca31b:-885203246,1829c786375814100ea5d1a23d906e48:-316747840,2c6344b6c266081007277a6a3e524d24:-1345502897,98f100b64566081078a55b1bed26e4ca:530925190,7a1d93c9886ac0107d1a08fcd139a7f2:1360347817,acccdf09346ac0100a04d49da9ad82c9:-1199571124,da9c1349c46ac010c829a7d36fc46720:505982319,d9f95709c06ac010ff339dde7d9927a1:-1335204919,01861b81b76ac010d7fdaa82ed9eb843:-2052110935,eb365745056ac010a85a386e0c6503c4:-1527070308,99fc9ac193a6c0108ee864f39ac065bb:-837546392,23477b8cdc2a0010dd0394ed9bc4dd93:-1968654075,7317b38cd62a0010d10739ae9b7e0e48:1623742437,0b42b7c8f7e60010c2ee3f3cdbde9071:-1968654075,e042f384b22a00103b55068bd3157fd5:1623742437,c8917f84fd2a001081fa36c60b4765bf:-1968654075,27b5a38cbae6001040b054d9f6641cab:394229094,1a65ab4880e60010202a42a2cef0365c:154737015,1642ab88ede60010e84809f941610632:1193810549,bed123c8d3e60010c52ed6972a000a18:-782217655,6961ab88e2e60010bc6270addcc2d42a:1579566455,47a063c407e60010e032cdd55daaa055:-349038597,8f40e784a2e600101dc9fe42a61f6ac1:381050611,d21023c4d8e60010d0d6239b3ac950e6:2069231120,f343ac00725a8450d3fe29bc373baf4c:1795806616,91f22440215a845084c95ce041f4dcc6:2048659934,8446a422e5554010ad2348b15215a89d:185786727,86fc7e630ab48c5005c4feee2d106492:1837555629,211f2ef87bb984108f8750ce578a7790:1816603644,0f688c8cf1f10410609d2dd916a57d2d:-996710266,97817ffb24a10410ff136e13cfae6908:-594488710,f0d10b74e35948107a90e581f0a2f7a6:572640080,9c3e07debb63370040f34f33e68c70b6:-2070558314,ce5d079eec633700b07d67ee1c2796a9:-1544502858,8e4f9ded0caf73005ded1576958f4908:-660935274,3fada3c1272733006764f4026249a64c:2122398153,85aaeeaf5a1f73004d5b3ce32997e6e5:-1310380087,048fe9638b9b7300bbcb4d03a3905e5c:-504114994,8cf551ef341b73001e149d92c255a287:-1006488743,5a5b5809e85f3300b7bb9af2f3291935:1502875265,c78ad405475f3300cd5e6d68c1d15fd6:703298057,55a9d405595f3300a5b07f2ce1eeaa4f:1110921652,5549d405515f33003da3c60adc7a744a:5345743,bfc4d041925f3300a7b617f3cbe3ea1d:1474970637,2c76f3171bc333008110dd6a39b72564:-446759745,2d4637572cc33300493355abae4eeab5:939724923,e971b7dff9833300bfb52a448ef5f4b5:-446759745,1bd9275f19833300349af96d36b2e59e:1726700018,5198e31fb983330094c59966962c8305:-1322195920,2c78ebdbbf8333007ab51972b3e5463d:-1316722602,c597e35fb1833300827eb467755df4c3:-1074766124,8067ebdb48833300c3d3893378efad4e:-1713017730,e486a35be9833300b547d532fbb3a695:-1488452671,ce36e71f02833300b10149d7a4db255d:1785814257,62c5e31f408333002a8bb8ee3077c624:934756307,7115e79769833300ea7816ef5ed80395:-726887306,b8f46bd394833300068a0bde20367f8c:155304177,fab46bdbd48333005f198d9109f0be23:1767245558,7363afd3f183330054efefc929d47afa:-657090257,671367170d833300899006a049870b61:-26928939,2545d9ccaff233006f77acb2df1e2495:-1490872930,764914bf7ee23300a6d74ded8aec1219:1297265978,9629107f4be2330061c631957544efcf:1512831485,c7e8107f9ce23300075b68af3b4477b3:-758795498,6357d07f3fe233009e9ee6c62381d55d:1472669850,0c47543f6ae233000fc8f0d72530c001:-497304760,7717107f15e23300684cf0becd8aa4af:1118006145,36e65cfbefe23300fedcfc339c42314c:-975950767,691618fb1be2330001e5631b8503aeff:148183356,3ec5143fe7e233004b7d40a59048984c:-214719645,cbb5503f91e233005bc3543ccb22fa4f:-1213730219,7665dcbba9e23300f1f62893e592c8a3:-1562552147,de255cfbe0e233004bdf8d17b061b933:1021260897,c51518bb41e233002a3520f2038ebe3e:-86102558,1de454fb60e23300fb30939f7aa9464c:1021260897,7b94503bd6e233002bf13e9f41d44815:-1032411340,e54418bbbee23300410b0421f454a318:-1640788672,120418bb5fe23300ad8e0b6cbc55c439:-1904340496,b9b3dcbb96e233004bcc8c282c9e7c9a:-161518847,b41318bbf5e2330012bfd86959134814:2047862378,06e2d4bb2ce2330009bf518fe56935d4:-20841512,5c3acdaf5a9e330029ac2a52030fb02a:-405197190,ff790def1a9e33001aaf6ebf53cf0735:418767447,e9290def759e33002e2c9c2c732cbc31:1414032881,7c0985efd59e330029cc554a70698707:1370425431,03a745aff19e33005c401a234c661d9c:-1830841171,32b6c1af769e33000071ad343104f307:-1856333263,f78605abce9e3300571b8c1862e0f7ff:-1016740731,797601af469e3300c91c1a15e9de1bb2:669325177,921689eb859e33005265a385773bd378:1295768708,beef786b599e33009dff7c43e761bf63:2109614161,9d2af4675c9e3300879d9cdf53931638:281258959,6d487c23ca9e330056fb8d5713ef86a3:39304660,d5b7fc23669e3300115d2e86fb12f3e3:1529013591,12a0fc23499e3300d18d5cca4b0b0d99:1124190659,4750f823cf9e330055e074fc95663416:387679333,bcbf7d21a3d23300578b0f995857bca1:-145803388,7923f0598a9233008fe35be0e1b46358:-1538599330</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
